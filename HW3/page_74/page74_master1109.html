
<!DOCTYPE html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie ie6 ieFail"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie ie7 ieFail"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie ie7 ieFail"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie ie9"> <![endif]-->
<!--[if !(IE)]><!-->
<html lang="en" class="no-ie no-js">
<style>
        /**
 * Minified by jsDelivr using clean-css v4.2.0.
 * Original file: /npm/slick-carousel@1.8.1/slick/slick.css
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
.slick-slider{position:relative;display:block;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-ms-touch-action:pan-y;touch-action:pan-y;-webkit-tap-highlight-color:transparent}.slick-list{position:relative;display:block;overflow:hidden;margin:0;padding:0}.slick-list:focus{outline:0}.slick-list.dragging{cursor:pointer;cursor:hand}.slick-slider .slick-list,.slick-slider .slick-track{-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.slick-track{position:relative;top:0;left:0;display:block;margin-left:auto;margin-right:auto}.slick-track:after,.slick-track:before{display:table;content:''}.slick-track:after{clear:both}.slick-loading .slick-track{visibility:hidden}.slick-slide{display:none;float:left;height:100%;min-height:1px}[dir=rtl] .slick-slide{float:right}.slick-slide img{display:block}.slick-slide.slick-loading img{display:none}.slick-slide.dragging img{pointer-events:none}.slick-initialized .slick-slide{display:block}.slick-loading .slick-slide{visibility:hidden}.slick-vertical .slick-slide{display:block;height:auto;border:1px solid transparent}.slick-arrow.slick-hidden{display:none}
/*# sourceMappingURL=/sm/fb3ed351cd5c0f1f30f88778ee1f9b056598e6d25ac4fdcab1eebcd8be521cd9.map */
.slick-loading .slick-list
{
    background: #fff url('./ajax-loader.gif') center center no-repeat;
}

/* Icons */
/* Arrows */
.slick-prev,
.slick-next
{
    font-size: 0;
    line-height: 0;

    position: absolute;
    top: 50%;

    display: block;

    width: 20px;
    height: 20px;
    padding: 0;
    -webkit-transform: translate(0, -50%);
    -ms-transform: translate(0, -50%);
    transform: translate(0, -50%);

    cursor: pointer;

    color: transparent;
    border: none;
    outline: none;
    background: transparent;
}
.slick-prev:hover,
.slick-prev:focus,
.slick-next:hover,
.slick-next:focus
{
    color: transparent;
    outline: none;
    background: transparent;
}
.slick-prev:hover:before,
.slick-prev:focus:before,
.slick-next:hover:before,
.slick-next:focus:before
{
    opacity: 1;
}
.slick-prev.slick-disabled:before,
.slick-next.slick-disabled:before
{
    opacity: .25;
}

.slick-prev:before,
.slick-next:before
{
    font-size: 20px;
    line-height: 1;

    opacity: .75;
    color: white;

    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.slick-prev
{
    left: 25px;
    z-index: 1;
}
[dir='rtl'] .slick-prev
{
    right: -25px;
    left: auto;
}
.slick-prev:before
{
    content: '←';
}
[dir='rtl'] .slick-prev:before
{
    content: '→';
}

.slick-next
{
    right: 25px;
}
[dir='rtl'] .slick-next
{
    right: auto;
    left: -25px;
}
.slick-next:before
{
    content: '→';
}
[dir='rtl'] .slick-next:before
{
    content: '←';
}

/* Dots */
.slick-dotted.slick-slider
{
    margin-bottom: 30px;
}

.slick-dots
{
    position: absolute;
    bottom: -25px;

    display: block;

    width: 100%;
    padding: 0;
    margin: 0;

    list-style: none;

    text-align: center;
}
.slick-dots li
{
    position: relative;

    display: inline-block;

    width: 20px;
    height: 20px;
    margin: 0 5px;
    padding: 0;

    cursor: pointer;
}
.slick-dots li button
{
    font-size: 0;
    line-height: 0;

    display: block;

    width: 20px;
    height: 20px;
    padding: 5px;

    cursor: pointer;

    color: transparent;
    border: 0;
    outline: none;
    background: transparent;
}
.slick-dots li button:hover,
.slick-dots li button:focus
{
    outline: none;
}
.slick-dots li button:hover:before,
.slick-dots li button:focus:before
{
    opacity: 1;
}
.slick-dots li button:before
{
    font-size: 6px;
    line-height: 20px;

    position: absolute;
    top: 0;
    left: 0;

    width: 20px;
    height: 20px;

    content: '•';
    text-align: center;

    opacity: .25;
    color: black;

    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}
.slick-dots li.slick-active button:before
{
    opacity: .75;
    color: black;
}
.slick-arrow-right{
        display: inline;
    top: 50%;
    position: absolute;
    background: white;
    z-index: 1;
    right: 20px;
    border-radius: 100px;
    padding: 10px 14px;
}
.slick-arrow-left{
        display: inline;
    top: 50%;
    position: absolute;
    background: white;
    z-index: 1;
    left: 20px;
    border-radius: 100px;
    padding: 10px 14px;
}
    </style>
<!--<![endif]-->
<head>
<script async src="https://www.googleoptimize.com/optimize.js?id=GTM-55ZK3JT"></script>
<meta name="referrer" content="always" /><title>
	Applied Data Science (Environment and Sustainability) MSc at University of Exeter on FindAMasters.com
</title>
<link rel="canonical" href="https://www.findamasters.com/masters-degrees/course/applied-data-science-environment-and-sustainability-msc/?i302d8985c64503" />
<meta name="description" content="Applied Data Science (Environment and Sustainability) MSc at University of Exeter, listed on FindAMasters.com - a comprehensive database of Masters, MSc, MA, MPhil &amp; MRes courses in the UK &amp; Ireland" />
<meta name="keywords" content="Masters, masters admissions, masters application, masters career change, masters careers, masters courses, masters degree, masters degrees, masters distance learning, masters essays, masters internships, masters jobs, masters online, masters program, masters programme, masters programs, masters project, masters ranking, masters rankings, masters resume, masters salaries, masters salary, masters school, online masters, online masters course, school of business, sport masters program, top business schools, top masters schools, best business schools, best masters programs, business school, business schools, distance learning masters, executive masters, gmat, gmat course, gmat exam, gmat prep, gmat preparation, gmat questions, gmat scores, gmat test strategies" />
<meta itemprop="name" content="Applied Data Science (Environment and Sustainability) MSc at University of Exeter on FindAMasters.com">
<meta itemprop="description" content="Applied Data Science (Environment and Sustainability) MSc at University of Exeter, listed on FindAMasters.com - a comprehensive database of Masters, MSc, MA, MPhil & MRes courses in the UK & Ireland">
<meta name="twitter:title" content="Applied Data Science (Environment and Sustainability) MSc at University of Exeter on FindAMasters.com">
<meta name="twitter:description" content="Applied Data Science (Environment and Sustainability) MSc at University of Exeter, listed on FindAMasters.com - a comprehensive database of Masters, MSc, MA, MPhil &amp; MRes courses in the UK &amp; Ireland">
<meta property="og:title" content="Applied Data Science (Environment and Sustainability) MSc at University of Exeter on FindAMasters.com">
<meta property="og:url" content="https://www.findamasters.com/masters-degrees/course/applied-data-science-environment-and-sustainability-msc/?i302d8985c64503">
<meta property="og:description" content="Applied Data Science (Environment and Sustainability) MSc at University of Exeter, listed on FindAMasters.com - a comprehensive database of Masters, MSc, MA, MPhil &amp; MRes courses in the UK &amp; Ireland">
<script src="/common/js/jQuery/jquery.min.js"></script>
<script>if (!("gdprAppliesGlobally" in window)) { window.gdprAppliesGlobally = true } if (!("cmp_id" in window) || window.cmp_id < 1) { window.cmp_id = 0 } if (!("cmp_cdid" in window)) { window.cmp_cdid = "743038abfa34" } if (!("cmp_params" in window)) { window.cmp_params = "" } if (!("cmp_host" in window)) { window.cmp_host = "d.delivery.consentmanager.net" } if (!("cmp_cdn" in window)) { window.cmp_cdn = "cdn.consentmanager.net" } if (!("cmp_proto" in window)) { window.cmp_proto = "https:" } if (!("cmp_codesrc" in window)) { window.cmp_codesrc = "1" } window.cmp_getsupportedLangs = function () { var b = ["DE", "EN", "FR", "IT", "NO", "DA", "FI", "ES", "PT", "RO", "BG", "ET", "EL", "GA", "HR", "LV", "LT", "MT", "NL", "PL", "SV", "SK", "SL", "CS", "HU", "RU", "SR", "ZH", "TR", "UK", "AR", "BS"]; if ("cmp_customlanguages" in window) { for (var a = 0; a < window.cmp_customlanguages.length; a++) { b.push(window.cmp_customlanguages[a].l.toUpperCase()) } } return b }; window.cmp_getRTLLangs = function () { var a = ["AR"]; if ("cmp_customlanguages" in window) { for (var b = 0; b < window.cmp_customlanguages.length; b++) { if ("r" in window.cmp_customlanguages[b] && window.cmp_customlanguages[b].r) { a.push(window.cmp_customlanguages[b].l) } } } return a }; window.cmp_getlang = function (j) { if (typeof (j) != "boolean") { j = true } if (j && typeof (cmp_getlang.usedlang) == "string" && cmp_getlang.usedlang !== "") { return cmp_getlang.usedlang } var g = window.cmp_getsupportedLangs(); var c = []; var f = location.hash; var e = location.search; var a = "languages" in navigator ? navigator.languages : []; if (f.indexOf("cmplang=") != -1) { c.push(f.substr(f.indexOf("cmplang=") + 8, 2).toUpperCase()) } else { if (e.indexOf("cmplang=") != -1) { c.push(e.substr(e.indexOf("cmplang=") + 8, 2).toUpperCase()) } else { if ("cmp_setlang" in window && window.cmp_setlang != "") { c.push(window.cmp_setlang.toUpperCase()) } else { if (a.length > 0) { for (var d = 0; d < a.length; d++) { c.push(a[d]) } } } } } if ("language" in navigator) { c.push(navigator.language) } if ("userLanguage" in navigator) { c.push(navigator.userLanguage) } var h = ""; for (var d = 0; d < c.length; d++) { var b = c[d].toUpperCase(); if (g.indexOf(b) != -1) { h = b; break } if (b.indexOf("-") != -1) { b = b.substr(0, 2) } if (g.indexOf(b) != -1) { h = b; break } } if (h == "" && typeof (cmp_getlang.defaultlang) == "string" && cmp_getlang.defaultlang !== "") { return cmp_getlang.defaultlang } else { if (h == "") { h = "EN" } } h = h.toUpperCase(); return h }; (function () { var u = document; var v = u.getElementsByTagName; var h = window; var o = ""; var b = "_en"; if ("cmp_getlang" in h) { o = h.cmp_getlang().toLowerCase(); if ("cmp_customlanguages" in h) { for (var q = 0; q < h.cmp_customlanguages.length; q++) { if (h.cmp_customlanguages[q].l.toUpperCase() == o.toUpperCase()) { o = "en"; break } } } b = "_" + o } function x(i, e) { var w = ""; i += "="; var s = i.length; var d = location; if (d.hash.indexOf(i) != -1) { w = d.hash.substr(d.hash.indexOf(i) + s, 9999) } else { if (d.search.indexOf(i) != -1) { w = d.search.substr(d.search.indexOf(i) + s, 9999) } else { return e } } if (w.indexOf("&") != -1) { w = w.substr(0, w.indexOf("&")) } return w } var k = ("cmp_proto" in h) ? h.cmp_proto : "https:"; if (k != "http:" && k != "https:") { k = "https:" } var g = ("cmp_ref" in h) ? h.cmp_ref : location.href; var j = u.createElement("script"); j.setAttribute("data-cmp-ab", "1"); var c = x("cmpdesign", "cmp_design" in h ? h.cmp_design : ""); var f = x("cmpregulationkey", "cmp_regulationkey" in h ? h.cmp_regulationkey : ""); var r = x("cmpgppkey", "cmp_gppkey" in h ? h.cmp_gppkey : ""); var n = x("cmpatt", "cmp_att" in h ? h.cmp_att : ""); j.src = k + "//" + h.cmp_host + "/delivery/cmp.php?" + ("cmp_id" in h && h.cmp_id > 0 ? "id=" + h.cmp_id : "") + ("cmp_cdid" in h ? "&cdid=" + h.cmp_cdid : "") + "&h=" + encodeURIComponent(g) + (c != "" ? "&cmpdesign=" + encodeURIComponent(c) : "") + (f != "" ? "&cmpregulationkey=" + encodeURIComponent(f) : "") + (r != "" ? "&cmpgppkey=" + encodeURIComponent(r) : "") + (n != "" ? "&cmpatt=" + encodeURIComponent(n) : "") + ("cmp_params" in h ? "&" + h.cmp_params : "") + (u.cookie.length > 0 ? "&__cmpfcc=1" : "") + "&l=" + o.toLowerCase() + "&o=" + (new Date()).getTime(); j.type = "text/javascript"; j.async = true; if (u.currentScript && u.currentScript.parentElement) { u.currentScript.parentElement.appendChild(j) } else { if (u.body) { u.body.appendChild(j) } else { var t = v("body"); if (t.length == 0) { t = v("div") } if (t.length == 0) { t = v("span") } if (t.length == 0) { t = v("ins") } if (t.length == 0) { t = v("script") } if (t.length == 0) { t = v("head") } if (t.length > 0) { t[0].appendChild(j) } } } var m = "js"; var p = x("cmpdebugunminimized", "cmpdebugunminimized" in h ? h.cmpdebugunminimized : 0) > 0 ? "" : ".min"; var a = x("cmpdebugcoverage", "cmp_debugcoverage" in h ? h.cmp_debugcoverage : ""); if (a == "1") { m = "instrumented"; p = "" } var j = u.createElement("script"); j.src = k + "//" + h.cmp_cdn + "/delivery/" + m + "/cmp" + b + p + ".js"; j.type = "text/javascript"; j.setAttribute("data-cmp-ab", "1"); j.async = true; if (u.currentScript && u.currentScript.parentElement) { u.currentScript.parentElement.appendChild(j) } else { if (u.body) { u.body.appendChild(j) } else { var t = v("body"); if (t.length == 0) { t = v("div") } if (t.length == 0) { t = v("span") } if (t.length == 0) { t = v("ins") } if (t.length == 0) { t = v("script") } if (t.length == 0) { t = v("head") } if (t.length > 0) { t[0].appendChild(j) } } } })(); window.cmp_addFrame = function (b) { if (!window.frames[b]) { if (document.body) { var a = document.createElement("iframe"); a.style.cssText = "display:none"; if ("cmp_cdn" in window && "cmp_ultrablocking" in window && window.cmp_ultrablocking > 0) { a.src = "//" + window.cmp_cdn + "/delivery/empty.html" } a.name = b; a.setAttribute("title", "Intentionally hidden, please ignore"); a.setAttribute("role", "none"); a.setAttribute("tabindex", "-1"); document.body.appendChild(a) } else { window.setTimeout(window.cmp_addFrame, 10, b) } } }; window.cmp_rc = function (h) { var b = document.cookie; var f = ""; var d = 0; while (b != "" && d < 100) { d++; while (b.substr(0, 1) == " ") { b = b.substr(1, b.length) } var g = b.substring(0, b.indexOf("=")); if (b.indexOf(";") != -1) { var c = b.substring(b.indexOf("=") + 1, b.indexOf(";")) } else { var c = b.substr(b.indexOf("=") + 1, b.length) } if (h == g) { f = c } var e = b.indexOf(";") + 1; if (e == 0) { e = b.length } b = b.substring(e, b.length) } return (f) }; window.cmp_stub = function () { var a = arguments; __cmp.a = __cmp.a || []; if (!a.length) { return __cmp.a } else { if (a[0] === "ping") { if (a[1] === 2) { a[2]({ gdprApplies: gdprAppliesGlobally, cmpLoaded: false, cmpStatus: "stub", displayStatus: "hidden", apiVersion: "2.0", cmpId: 31 }, true) } else { a[2](false, true) } } else { if (a[0] === "getUSPData") { a[2]({ version: 1, uspString: window.cmp_rc("") }, true) } else { if (a[0] === "getTCData") { __cmp.a.push([].slice.apply(a)) } else { if (a[0] === "addEventListener" || a[0] === "removeEventListener") { __cmp.a.push([].slice.apply(a)) } else { if (a.length == 4 && a[3] === false) { a[2]({}, false) } else { __cmp.a.push([].slice.apply(a)) } } } } } } }; window.cmp_gpp_ping = function () { return { gppVersion: "1.0", cmpStatus: "stub", cmpDisplayStatus: "hidden", supportedAPIs: ["tcfca", "usnat", "usca", "usva", "usco", "usut", "usct"], cmpId: 31 } }; window.cmp_gppstub = function () { var a = arguments; __gpp.q = __gpp.q || []; if (!a.length) { return __gpp.q } var g = a[0]; var f = a.length > 1 ? a[1] : null; var e = a.length > 2 ? a[2] : null; if (g === "ping") { return window.cmp_gpp_ping() } else { if (g === "addEventListener") { __gpp.e = __gpp.e || []; if (!("lastId" in __gpp)) { __gpp.lastId = 0 } __gpp.lastId++; var c = __gpp.lastId; __gpp.e.push({ id: c, callback: f }); return { eventName: "listenerRegistered", listenerId: c, data: true, pingData: window.cmp_gpp_ping() } } else { if (g === "removeEventListener") { var h = false; __gpp.e = __gpp.e || []; for (var d = 0; d < __gpp.e.length; d++) { if (__gpp.e[d].id == e) { __gpp.e[d].splice(d, 1); h = true; break } } return { eventName: "listenerRemoved", listenerId: e, data: h, pingData: window.cmp_gpp_ping() } } else { if (g === "getGPPData") { return { sectionId: 3, gppVersion: 1, sectionList: [], applicableSections: [0], gppString: "", pingData: window.cmp_gpp_ping() } } else { if (g === "hasSection" || g === "getSection" || g === "getField") { return null } else { __gpp.q.push([].slice.apply(a)) } } } } } }; window.cmp_msghandler = function (d) { var a = typeof d.data === "string"; try { var c = a ? JSON.parse(d.data) : d.data } catch (f) { var c = null } if (typeof (c) === "object" && c !== null && "__cmpCall" in c) { var b = c.__cmpCall; window.__cmp(b.command, b.parameter, function (h, g) { var e = { __cmpReturn: { returnValue: h, success: g, callId: b.callId } }; d.source.postMessage(a ? JSON.stringify(e) : e, "*") }) } if (typeof (c) === "object" && c !== null && "__uspapiCall" in c) { var b = c.__uspapiCall; window.__uspapi(b.command, b.version, function (h, g) { var e = { __uspapiReturn: { returnValue: h, success: g, callId: b.callId } }; d.source.postMessage(a ? JSON.stringify(e) : e, "*") }) } if (typeof (c) === "object" && c !== null && "__tcfapiCall" in c) { var b = c.__tcfapiCall; window.__tcfapi(b.command, b.version, function (h, g) { var e = { __tcfapiReturn: { returnValue: h, success: g, callId: b.callId } }; d.source.postMessage(a ? JSON.stringify(e) : e, "*") }, b.parameter) } if (typeof (c) === "object" && c !== null && "__gppCall" in c) { var b = c.__gppCall; window.__gpp(b.command, function (h, g) { var e = { __gppReturn: { returnValue: h, success: g, callId: b.callId } }; d.source.postMessage(a ? JSON.stringify(e) : e, "*") }, "parameter" in b ? b.parameter : null, "version" in b ? b.version : 1) } }; window.cmp_setStub = function (a) { if (!(a in window) || (typeof (window[a]) !== "function" && typeof (window[a]) !== "object" && (typeof (window[a]) === "undefined" || window[a] !== null))) { window[a] = window.cmp_stub; window[a].msgHandler = window.cmp_msghandler; window.addEventListener("message", window.cmp_msghandler, false) } }; window.cmp_setGppStub = function (a) { if (!(a in window) || (typeof (window[a]) !== "function" && typeof (window[a]) !== "object" && (typeof (window[a]) === "undefined" || window[a] !== null))) { window[a] = window.cmp_gppstub; window[a].msgHandler = window.cmp_msghandler; window.addEventListener("message", window.cmp_msghandler, false) } }; window.cmp_addFrame("__cmpLocator"); if (!("cmp_disableusp" in window) || !window.cmp_disableusp) { window.cmp_addFrame("__uspapiLocator") } if (!("cmp_disabletcf" in window) || !window.cmp_disabletcf) { window.cmp_addFrame("__tcfapiLocator") } if (!("cmp_disablegpp" in window) || !window.cmp_disablegpp) { window.cmp_addFrame("__gppLocator") } window.cmp_setStub("__cmp"); if (!("cmp_disabletcf" in window) || !window.cmp_disabletcf) { window.cmp_setStub("__tcfapi") } if (!("cmp_disableusp" in window) || !window.cmp_disableusp) { window.cmp_setStub("__uspapi") } if (!("cmp_disablegpp" in window) || !window.cmp_disablegpp) { window.cmp_setGppStub("__gpp") };</script>
<link rel="preconnect" href="https://api.permutive.com" />
<link rel="preconnect" href="https://connect.facebook.net" />

<script>(function (w, d, s, l, i) {
        w[l] = w[l] || []; w[l].push({
            'gtm.start':
                new Date().getTime(), event: 'gtm.js'
        }); var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                'https://sgtm.findamasters.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-N4ZFML8');</script>

<script>
    (function (h, o, t, j, a, r) {
        h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) };
        h._hjSettings = { hjid: 658099, hjsv: 6 };
        a = o.getElementsByTagName('head')[0];
        r = o.createElement('script'); r.async = 1;
        r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
        a.appendChild(r);
    })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
</script>
<meta http-equiv="Content-Language" content="en-GB" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="copyright" content="FindAUniversity Ltd" /><meta http-equiv="imagetoolbar" content="no" /><meta property="fb:app_id" content="456690561077153" /><meta property="og:site_name" content="www.FindAMasters.com" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="@FindAMasters" /><meta http-equiv="X-UA-Compatible" content="IE=Edge" /><meta name="msvalidate.01" content="9FFF16CA97124A573C1A289E88684198" /><meta id="Viewport" name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"><style>body{font-family: sans-serif!important;}
</style><link href="/bundles/globalScss.css?v=Fkvi3bf_yOgkW0rg4fV0SBbLANktpYbRkF1XA9-0pPs1" rel="preload" as="style" onload="this.rel='stylesheet'"><noscript><link rel='stylesheet' href='/bundles/globalScss.css?v=Fkvi3bf_yOgkW0rg4fV0SBbLANktpYbRkF1XA9-0pPs1'></noscript><script src="/bundles/globalJs.js?v=naQAKa7DCK2Ks-G-vNkuuVugg8AZrNGcrBImKco6EcQ1" async></script><!--[if IE 9]><script src="/bundles/ie9Js.js?v=t7456cBwqr8K6KZrPvmrucsmfdXyfQVFd7oxpS_P5BA1"></script><script>$(document).ready(function(){$('input, textarea').placeholder();});</script><![endif]--><!--[if lt IE 9]><script src="/bundles/ie9Js.js?v=t7456cBwqr8K6KZrPvmrucsmfdXyfQVFd7oxpS_P5BA1"></script><script>$(document).ready(function(){$('input, textarea').placeholder();});</script><![endif]--><script>var isiPad= navigator.userAgent.match(/iPad/i)!= null;if (isiPad){if ($('html').width()< 1360){$('#Viewport').attr("content", "initial-scale=0.775, maximum-scale=0.775, minimum-scale=0.775, user-scalable=no");} else{$('#Viewport').attr("content", "initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no");}}</script><script>var ip= "109.112.7.117";</script><script>!function (n, e, o, r, i){ if (!e){ e= e||{}, window.permutive= e, e.q=[], e.config= i||{}, e.config.projectId= o, e.config.apiKey= r, e.config.environment= e.config.environment|| "production"; for (var t=["addon", "identify", "track", "trigger", "query", "segment", "segments", "ready", "on", "once", "user", "consent"], c= 0; c< t.length; c++){ var f= t[c]; e[f]= function (n){ return function (){ var o= Array.prototype.slice.call(arguments, 0); e.q.push({ functionName: n, arguments: o})}}(f)}}}(document, window.permutive, "e8d8c747-8675-4477-9233-4c8cc64f86d7", "ce6f3d8c-1a3c-4dec-95d5-5182609cff8a",{});</script><script async src="https://cdn.permutive.com/e8d8c747-8675-4477-9233-4c8cc64f86d7-web.js"></script>
<meta name="image" content="https://www.findamasters.com/images/FAM-social-logo.jpg" />
<meta property="og:image" content="https://www.findamasters.com/images/FAM-social-logo.jpg" />
<meta name="twitter:image:src" content="https://www.findamasters.com/images/FAM-social-logo.jpg" />
<link rel="image_src" href="https://www.findamasters.com/images/FAM-social-logo.jpg" />
<script>

    //FAU common.js

    // Make sure instance of namespace exists without overwriting it.
    var fau = eval("fau") || {};

    // Signup window surpressor
    fau.hideSignupWindow = false;

    fau.user = new function () {
        // User Logged In
        this.loggedIn = false;

        this.logIn = function () { this.loggedIn = true; this.toggleMenu(); }
        this.logOut = function () { this.loggedIn = false; this.toggleMenu(); }
        this.toggleMenu = function () {
            if (this.loggedIn) {
                $('.accountLink').text("MY ACCOUNT").attr("onclick", "window.location.href='/signups/';");
            } else {
                $('.accountLink').text("SIGN UP").attr("onclick", "$('#signupModal').modal('show');");
            }
        }
    }

    // Class for manipulating cookies.
    fau.cookies = new function () {

        // Create or overwrite cookie.
        this.add = function (name, value, days) {

            var expires = "";
            if (days) {
                var date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                var expires = "; expires=" + date.toGMTString();
            }
            document.cookie = name + "=" + value + expires + "; path=/";
        },

            // Create or add a single value to a delimited list cookie. Return the total number of elements of the list.
            this.addToList = function (name, value, days, delimiter) {
                if (delimiter == undefined || delimiter == null) delimiter = ",";

                var newData = [];
                var isAdding = true;

                // Check if cookie already exists and only add the new items.
                var items = this.readList(name);
                if (items && items.length > 0) {
                    var ignore = {};
                    jQuery.each(items, function (idx, item) {
                        if (item == value)
                            isAdding = false;
                        if (!ignore[item]) {
                            newData.push(item);
                            ignore[item] = true;
                        }
                    });
                }

                if (isAdding)
                    newData.push(value);

                this.add(name, newData.join(delimiter), days);

                return newData.length;
            },

            this.listContains = function (name, value) {
                value = value.toString();
                var items = this.readList(name);
                var result = false;
                jQuery.each(items, function (idx, item) {
                    if (item.toString() == value) {
                        result = true;
                        return false;
                    }
                });
                return result;
            }

        // Returns the value of a cookie.
        this.read = function (name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');

            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') c = c.substring(1, c.length);
                if (c.indexOf(nameEQ) == 0) { return c.substring(nameEQ.length, c.length); }
            }
            return null;
        },

            this.getSubValue = function (cookieName, valueName) {
                var fullValue = this.read(cookieName);
                if (fullValue == null || fullValue == "")
                    return null;
                var re = new RegExp(valueName + "=([^&]+)", "i");
                var match = re.exec(fullValue);
                if (match == null || match.length == 0)
                    return null;
                return match[1];
            }

        this.setSubValue = function (cookieName, valueName, value, days) {
            var fullValue = this.read(cookieName);
            var subValue = valueName + "=" + value;
            if (fullValue == null || fullValue == "") {
                fullValue = subValue;
            }
            else {

                var re = new RegExp(valueName + "=([^&]+)", "i");
                var match = re.exec(fullValue);
                if (match == null || match.length == 0)
                    fullValue = (fullValue.length > 0 ? fullValue + "&" : "") + subValue;
                else
                    fullValue = fullValue.replace(re, subValue)
            }
            this.add(cookieName, fullValue, days || 365);
        }

        // Returns a delimited list of the values of a cookie.
        this.readList = function (name, delimiter) {
            if (delimiter == undefined || delimiter == null) delimiter = ",";
            var data = this.read(name);
            if (data) {
                var items = data.split(delimiter);
                return items;
            }
            return [];
        },

            // Remove an value from a delimited list cookie. Return the new length of the list.
            this.removeFromList = function (name, value, days, delimiter) {
                if (delimiter == undefined || delimiter == null) delimiter = ",";

                var newData = [];
                var found = false;

                var items = this.readList(name);
                if (items && items.length > 0) {
                    jQuery.each(items, function (idx, item) {
                        if (item == value)
                            found = true;
                        else
                            newData.push(item);
                    });
                }

                if (newData.length > 0)
                    this.add(name, newData.join(delimiter), days);
                else
                    this.add(name, null, -1);

                return newData.length;
            }

        // Removes a cookie.
        this.remove = function (name) {
            this.add(name, null, -1);
        }

        // Checks to see if cookies are enabled. A callback function must be passed in.
        this.checkEnabled = function (callback) {
            if (jQuery.type(callback) != "function")
                throw "The method [fau.cookies.checkEnabled] must accept a callback function.";

            return $.ajax({
                url: '/cookiechecker.ashx',
                type: 'POST',
                cache: false,
                dataType: 'json',
                success: function (data) {
                    callback(data.result);
                },
                error: function (data, text, args) {
                    alert("error");
                }
            });
        }

        this.base64 = {
            // private property
            _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",

            // public method for encoding
            encode: function (input) {
                var output = "";
                var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
                var i = 0;

                input = fau.cookies.base64._utf8_encode(input);

                while (i < input.length) {

                    chr1 = input.charCodeAt(i++);
                    chr2 = input.charCodeAt(i++);
                    chr3 = input.charCodeAt(i++);

                    enc1 = chr1 >> 2;
                    enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
                    enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
                    enc4 = chr3 & 63;

                    if (isNaN(chr2)) {
                        enc3 = enc4 = 64;
                    } else if (isNaN(chr3)) {
                        enc4 = 64;
                    }

                    output = output +
                        fau.cookies.base64._keyStr.charAt(enc1) + fau.cookies.base64._keyStr.charAt(enc2) +
                        fau.cookies.base64._keyStr.charAt(enc3) + fau.cookies.base64._keyStr.charAt(enc4);

                }

                return output;
            },

            // public method for decoding
            decode: function (input) {
                var output = "";
                var chr1, chr2, chr3;
                var enc1, enc2, enc3, enc4;
                var i = 0;

                input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");

                while (i < input.length) {

                    enc1 = fau.cookies.base64._keyStr.indexOf(input.charAt(i++));
                    enc2 = fau.cookies.base64._keyStr.indexOf(input.charAt(i++));
                    enc3 = fau.cookies.base64._keyStr.indexOf(input.charAt(i++));
                    enc4 = fau.cookies.base64._keyStr.indexOf(input.charAt(i++));

                    chr1 = (enc1 << 2) | (enc2 >> 4);
                    chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
                    chr3 = ((enc3 & 3) << 6) | enc4;

                    output = output + String.fromCharCode(chr1);

                    if (enc3 != 64) {
                        output = output + String.fromCharCode(chr2);
                    }
                    if (enc4 != 64) {
                        output = output + String.fromCharCode(chr3);
                    }

                }

                output = fau.cookies.base64._utf8_decode(output);

                return output;

            },

            // private method for UTF-8 encoding
            _utf8_encode: function (string) {
                string = string.replace(/\r\n/g, "\n");
                var utftext = "";

                for (var n = 0; n < string.length; n++) {

                    var c = string.charCodeAt(n);

                    if (c < 128) {
                        utftext += String.fromCharCode(c);
                    }
                    else if ((c > 127) && (c < 2048)) {
                        utftext += String.fromCharCode((c >> 6) | 192);
                        utftext += String.fromCharCode((c & 63) | 128);
                    }
                    else {
                        utftext += String.fromCharCode((c >> 12) | 224);
                        utftext += String.fromCharCode(((c >> 6) & 63) | 128);
                        utftext += String.fromCharCode((c & 63) | 128);
                    }

                }

                return utftext;
            },

            // private method for UTF-8 decoding
            _utf8_decode: function (utftext) {
                var string = "";
                var i = 0;
                var c = c1 = c2 = 0;

                while (i < utftext.length) {

                    c = utftext.charCodeAt(i);

                    if (c < 128) {
                        string += String.fromCharCode(c);
                        i++;
                    }
                    else if ((c > 191) && (c < 224)) {
                        c2 = utftext.charCodeAt(i + 1);
                        string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));
                        i += 2;
                    }
                    else {
                        c2 = utftext.charCodeAt(i + 1);
                        c3 = utftext.charCodeAt(i + 2);
                        string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
                        i += 3;
                    }

                }
                return string;
            }
        }


    }

    fau.htmlEncode = function htmlEncode(html) {
        return document.createElement('a').appendChild(
            document.createTextNode(html)).parentNode.innerHTML;
    };

    fau.anchorScroll = new function () {
        var _this = this;
        _this.elementOffset = 60; // in pixels
        _this.scrollDuration = 1000; // in milliseconds
        _this.hash = window.location.hash;
        if (_this.hash.indexOf("?") > -1) _this.hash = _this.hash.replace("?", "")

        _this.init = function () {
            _this.scrollDownPage();
            _this.makeAnchorsOnPageScrollToo();
        };

        _this.scrollDownPage = function () {
            if (_this.hash) {
                var nameAttr = _this.hash.replace('#', '');
                if (nameAttr.indexOf("j2:") == -1) $('html, body').animate({ scrollTop: 0 }, 1); // scroll back to top to override browsers default scroll (use "#j2:" to avoid this issue) (ps)
                nameAttr = nameAttr.replace('j2:', ''); // this is the preferred way to stop default browser behaviour fighting with a JavaScript scroll method. e.g. #j2:mainContent (ps)
                var obj = $('a[name^="' + nameAttr + '"]');
                if (obj.length == 0) obj = $("#" + nameAttr);
                else if (typeof obj.attr("id") === 'undefined') {
                    obj.attr("id", nameAttr); // if name exist but id doesn't then copy name into id
                }
                if (typeof obj.offset() != 'undefined') {
                    $('html, body').animate({ scrollTop: obj.offset().top - _this.elementOffset }, _this.scrollDuration); // Scrolls the user down to the object(id)
                    obj.find('.collapsed:first').click(); // find a possible collalapsed section and open it by default (ps)
                }
            }
        };

        _this.makeAnchorsOnPageScrollToo = function () {
            $('a[href^="#"]').click(function (e) {
                e.preventDefault();
                var id = $(this).attr("href");
                var $target = $(id);
                if ($target.length == 0)
                    $target = $("a[name='" + id.replace("#", "") + "']");
                if ($target.length > 0)
                    $('body, html').animate({ scrollTop: $target.offset().top - _this.elementOffset }, _this.scrollDuration);
            });
        };
    }

    // dynamic form post function i.e post('/contact/', {name: 'Pete Smith'});
    function post(path, params, method) {
        method = method || "post"; // Set method to post by default if not specified.

        var form = document.createElement("form");
        form.setAttribute("method", method);
        form.setAttribute("action", path);

        for (var key in params) {
            if (params.hasOwnProperty(key)) {
                var hiddenField = document.createElement("input");
                hiddenField.setAttribute("type", "hidden");
                hiddenField.setAttribute("name", key);
                hiddenField.setAttribute("value", params[key]);

                form.appendChild(hiddenField);
            }
        }

        document.body.appendChild(form);
        form.submit();
    }

    // Recommend using this namespaced version to prevent clashes - Yan
    fau.post = post;

    // For testing if set of locations are in another area. Used for featured scholarships.
    fau.isInLociList = function (userAreaList, testAreaList) {
        if (!testAreaList || testAreaList.length == 0 || !userAreaList || userAreaList.length == 0)
            return false;

        var result = false;

        jQuery.each(testAreaList, function (idx1, testArea) {
            jQuery.each(userAreaList, function (idx2, userArea) {
                if (userArea.type == testArea.type && userArea.name == testArea.name) {
                    result = true;
                    return false;
                }
            });
            if (result)
                return false;
        });

        return result;

    }

    fau.getUserAreaList = function () {
        var cont = fau.cookies.getSubValue('FauUserInfo', 'cont');
        var ciso = fau.cookies.getSubValue('FauUserInfo', 'ctry');
        var coun = fau.cookies.getSubValue('FauUserInfo', 'coun');
        var subd = fau.cookies.getSubValue('FauUserInfo', 'subd');
        var city = fau.cookies.getSubValue('FauUserInfo', 'city');
        var locList = [];
        if (cont) locList.push({ name: cont, type: 1 });
        if (ciso) locList.push({ name: ciso, type: 2 });
        if (coun) locList.push({ name: coun, type: 2 });
        if (coun) locList.push({ name: coun, type: 3 });
        if (subd) locList.push({ name: subd, type: 3 });
        if (city) locList.push({ name: city, type: 6 });
        return locList;
    }

    function showBanner() {
        if (fau.cookies.getSubValue('FauAlertBanner', 'closed') == null) {
            $(".notification-banner").addClass("notification-banner-show");
        }
    }

    fau.toggler = new function () {
        // wire up all toggle class references
        this.init = function () {
            $('.toggle').each(function () {
                // get the object
                var toggle = $(this);

                // get triger element id from attribute
                var trigger = $(eval(toggle.attr("data-toggler-trigger-id")));

                // get state from attribute
                var state = toggle.attr("data-toggler-open") || false;

                // hide all toggle containers unless state changed
                toggle.hide();
                if (state) { toggle.show(); }

                var classInjector = '';

                if (typeof trigger !== 'undefined') {
                    if (typeof trigger.html() !== 'undefined') {
                        if (trigger.html().indexOf("h1") > -1) classInjector = 'h1';
                        if (trigger.html().indexOf("h2") > -1) classInjector = 'h2';
                        if (trigger.html().indexOf("h3") > -1) classInjector = 'h3';
                        if (trigger.html().indexOf("h4") > -1) classInjector = 'h4';
                        // Temp Post-render schema fix for search console - JL
                        var schemaNameProp = trigger.html().indexOf('itemprop="name"') > -1 ? 'itemprop="name"' : '';

                    }
                }


                // bind click event to trigger and change cursor type
                if ((trigger).hasClass('fau-q')) {
                    trigger.css("cursor", "pointer").click(function (e) {
                        e.preventDefault();
                        toggle.toggle();
                    })
                }
                else {
                    trigger.addClass('fau-q align-items-center justify-content-center d-flex');
                    trigger.closest('.paragraph').removeClass('paragraph');
                    trigger.css("cursor", "pointer").click(function (e) {
                        e.preventDefault();
                        toggle.toggle();
                        var mode = trigger.find('.fal').hasClass("fa-minus-circle");
                        if (mode) {
                            trigger.parent().find('.fal').removeClass("fa-minus-circle").addClass("fa-plus-circle");
                            trigger.removeClass('fau-q__active');
                        } else {
                            trigger.parent().find('.fal').removeClass("fa-plus-circle").addClass("fa-minus-circle");
                            trigger.addClass('fau-q__active');
                        }
                    })
                        .html('<span class="button-text col-21 col-md-23 px-0" ' + schemaNameProp + ' style="display:inline-block">' + trigger.text() + '</span>&nbsp;&nbsp;<span class="fa-regular fa-plus-circle"></span><div class="clearfix"></div>');

                }

            });
        }
    };

    $(document).ready(function () {
        setTimeout(showBanner, 10);
        fau.toggler.init();
        lazyLoad_init();
        var sI = setInterval(function () {
            if (typeof($('[data-toggle="tooltip"]').tooltip) !== 'undefined') {
                $('[data-toggle="tooltip"]').tooltip();
                clearInterval(sI);
            }
        }, 500);
    });

    //showsearch
    function showSearch() {
        $('.search-widget__hero #search').css("display", "block");
        var searchElem = $('#search');
        if (searchElem.hasClass('hp-search')) {
            $('#searchText').focus();
        }
        else {
            if (searchElem.hasClass("d-none d-md-block")) {
                $('#sitemenu .siteMenu__item').removeClass('in');
                $('#sitemenu .nav-option').hide();
                searchElem.hide().removeClass("d-none d-md-block");
                searchElem.animate({ 'height': 'toggle', 'opacity': 'toggle' }, 0);
                $('#searchText').focus();
            } else if (searchElem.is(":hidden")) {
                searchElem.animate({ 'height': 'show', 'opacity': 'show' }, 0, function () {
                    searchElem.addClass("d-none d-md-block").show();
                });
            }
            else if (searchElem.hasClass("d-none")) {
                searchElem.hide().removeClass("d-none");
                searchElem.animate({ 'height': 'toggle', 'opacity': 'toggle' }, 0);
                $('#searchText').focus();
            }
            else {
                searchElem.addClass("d-none d-md-block").show();
            }
        }
    }

    //loginManager

    var _registerSourceId = "";
    var _LoginSource = "";
    var _WindowRef;
    var _SelectedSignInType = "Basic";
    var _SignUpAdditionalProps = undefined;

    /////GOOGLE LOGIN FUNCTIONS

    function googleLoggedIn(isSignupComplete, shortlistIds, givenName, lastName, email, pictureUrl, userId, shortlistIds, noNewsletterSignup, loginSource, signInType) {

        if (userId != undefined && userId != "" && userId != 0 && userId != "0") {
            // fix for strange iphone error that sometimes doesn't have google data even if it recognises as signed in
            // refreshing page will reload all personal data on page load even if it isn't returned from google here
            if (givenName == undefined || givenName == "") {
                location.reload();
            }

            UpdateShortlistsAfterLogin(shortlistIds);
            setLoggedInControls("google", givenName, lastName, email, pictureUrl, isSignupComplete, userId, shortlistIds, noNewsletterSignup, loginSource, true, signInType);
        }
    }

    var googleLoginClient;

    function oneTapGoogleLogin() {
        GooglePostData.googleClientRequest('modal');
    }

    var GooglePostData = new function () {
        this.loginSource = "";
        this.registerSourceId = "";

        this.googleClientRequest = function (loginSource, signInTypeOverride, registerSourceId, signUpAdditionalProps) {
            if (signInTypeOverride != undefined && signInTypeOverride != '') {
                _SelectedSignInType = signInTypeOverride;
            }

            emptySignupAddPropertiesCookie(); // delete cookie at the start if login process so there isn't any left over another attempt
            if (signUpAdditionalProps != undefined) {
                storeSignUpAdditionalProps(signUpAdditionalProps);
            } else if (_SignUpAdditionalProps != undefined) {
                storeSignUpAdditionalProps(_SignUpAdditionalProps);
            }

            this.loginSource = loginSource;
            this.registerSourceId = registerSourceId;
            var noNewsletterSignup = "false";

            getGoogleAuthCode();
        }
    }


    function getGoogleAuthCode() {
        _WindowRef = window.open('https://accounts.google.com/o/oauth2/auth?client_id=1092540408538-jhj1rse6g2trm8ecrqf81g9h88l13vgc.apps.googleusercontent.com&scope=profile%20email&redirect_uri=' + location.protocol + '//' + location.hostname + (location.port ? ':' + location.port : '') + '/providerlogingoogleauthenticate.aspx&access_type=offline&response_type=code', 'Login', "height=600,width=450,top=200,left=400");
    }

    function GoogleLoginStart(authResult) {

        var randomString = "";
        var googleCode = "";
        var isSignupComplete = "false";

        var response;

        if (GooglePostData.registerSourceId == undefined) {
            GooglePostData.registerSourceId = "";
        }

        if (GooglePostData.loginSource == undefined) {
            GooglePostData.loginSource = "";
        }

        if (fau.cookies.read("google_state") == undefined) {
            randomString = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
            fau.cookies.add("google_state", randomString);
        }
        else {
            randomString = fau.cookies.read("google_state");
        }

        if (authResult != undefined && authResult != '') {
            googleCode = authResult;
        } else {
            if (fau.cookies.read("from_newsletter") != undefined) {
                fau.cookies.remove("from_newsletter");
            }
        }


        var code_receiver_uri = location.protocol + '//' + location.hostname + (location.port ? ':' + location.port : '') + '/ProviderLoginGoogle.aspx?gCode=' + googleCode + '&state=' + randomString + "&registerSourceId=" + GooglePostData.registerSourceId + "&loginSource=" + GooglePostData.loginSource + "&signInType=" + _SelectedSignInType;
        // Send auth code to your backend platform
        const xhr = new XMLHttpRequest();
        xhr.open('GET', code_receiver_uri, true);
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
        xhr.onload = function () {
            //console.log('Signed in as: ' + xhr.responseText);

            response = JSON.parse(xhr.response);
            if (response.Error != undefined && response.Error == "Already Logged In") {
                //if a user is already logged in then redirect to the homepage and show the existing login 
                window.location.href = "/";
            }

            DataLayerManager.MyAccount(response.loginSource, response.id, response.isNewUser);

            if (typeof updateEnquiryMessageGoogle === "function" && response.loginSource.toLowerCase() == 'cta') {
                updateEnquiryMessageGoogle();
            }

            if (window.location.pathname != undefined && window.location.pathname != "" && (window.location.pathname.toLowerCase().startsWith("/events/postgrad-live") || window.location.pathname.toLowerCase().startsWith("/events/signups") || (window.location.pathname.toLowerCase().startsWith("/events") && (window.location.pathname.toLowerCase().endsWith("/register") || window.location.pathname.toLowerCase().endsWith("/register/"))) || window.location.pathname.toLowerCase().startsWith("/signups"))) {
                location.reload();
            }
            else { // else should prevent signup prompt popup from appearing if the page needs to reload (reloading page updates the logged in parts of page anyway)
                var shortlistIds = "";
                var userId = "";
                var signInType = "Basic";
                if (response.isSignupComplete != undefined) {
                    isSignupComplete = "true";
                }
                if (response.noNewsletterSignup != undefined && response.noNewsletterSignup != "") {
                    noNewsletterSignup = response.noNewsletterSignup.toLowerCase();
                }
                if (response.shortlistIds != undefined && response.shortlistIds != "") {
                    shortlistIds = response.shortlistIds;
                }
                if (response.signInType != undefined && response.signInType != "") {
                    signInType = response.signInType;
                }
                if (response.loginError == undefined || response.loginError == "") {

                    // get credentials and buttons on page load as normal, update shortlist items list data as well because this usually happens on page load but is needed to update any shortlist icons on page
                    googleLoggedIn(isSignupComplete, shortlistIds, response.givenName, response.lastName, response.email, response.pictureUrl, response.id, shortlistIds, noNewsletterSignup, response.loginSource, signInType);
                    //after populating list of shortlist ids (above) add a new id if required for the page, while reseting the shortlist icon statuses on the page
                    fau.shortlist.ResetShortlistToggleLinks();
                }
                else {
                    //put error reporting code here
                    alert(response.loginError);
                }
            }

            _WindowRef.close();

        };
        xhr.send();
    }

    ////


    ///FACEBOOK LOGIN FUNCTIONS
    function facebookLogin(loginSource, signInTypeOverride, registerSourceId, signUpAdditionalProps) {
        if (signInTypeOverride != undefined && signInTypeOverride != '') {
            _SelectedSignInType = signInTypeOverride;
        }

        if (registerSourceId == undefined) {
            _registerSourceId = "";
        }
        else {
            _registerSourceId = registerSourceId;
        }

        if (loginSource == undefined) {
            _LoginSource = "";
        }
        else {
            _LoginSource = loginSource;
        }

        emptySignupAddPropertiesCookie(); // delete cookie at the start if login process so there isn't any left over another attempt

        if (signUpAdditionalProps !== undefined) {
            storeSignUpAdditionalProps(signUpAdditionalProps);
        } else if (_SignUpAdditionalProps !== undefined) {
            storeSignUpAdditionalProps(_SignUpAdditionalProps);
        }

        var randomString = "";
        if (fau.cookies.read("fb_state") == undefined) {
            randomString = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
            fau.cookies.add("fb_state", randomString);
        }
        else {
            randomString = fau.cookies.read("fb_state");
        }

        if (($('.login-modal__dialog').hasClass('login-modal__dialog--news')) || ($('.inline-modal').hasClass('inline-modal__news'))) {
            fau.cookies.add("from_newsletter", "true");
        } else {
            if (fau.cookies.read("from_newsletter") != undefined) {
                fau.cookies.remove("from_newsletter");
            }
        }

        var redirect = encodeURIComponent(location.protocol + '//' + location.hostname + (location.port ? ':' + location.port : '') + '/ProviderLoginFacebook.aspx');
        var url = "https://www.facebook.com/v17.0/dialog/oauth?client_id=603110483955535&redirect_uri="+ redirect + "&state=" + _LoginSource + _registerSourceId + "__|__|__" + _SelectedSignInType + "__|__|__" + randomString + "&scope=email"; // &display=popup

        if (fau.cookies.read("fl_toGoTo_Url") == undefined) {
            var fltoGoToUrl = window.location.href;
            fau.cookies.add("fl_toGoTo_Url", fltoGoToUrl, 1);
        }
        window.location.href = url;
    }

    ///



    ///SHARED LOGGED IN FUNCTIONS
    function showUserMenu() {
        $('.user-dropdown').toggle();
    }

    function showUserMobileMenu() {
        $('.user-dropdown__mobile').toggle();
    }

    function logoutUser(isEnquiryFormRedirectBlock = false) {
        $.ajax({
            type: "POST",
            url: location.protocol + '//' + location.hostname + (location.port ? ':' + location.port : '') + '/ProviderLogout.aspx',
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                if (isEnquiryFormRedirectBlock == true) {
                    window.location.reload(); // refresh the page to show logged out but stay on page so enquiry form can be filled in
                } else
                {
                    // redirects to homepage as user could be On signup form so don't want them to see that if they're signed out
                    window.location.href = "/";
                }
            }, error: function (jqXHR, textStatus, errorThrown) {
                console.log("error");
                window.location.href = "/";
            }
        });
    }

    function setupFauPageOrReloadForEvent(providerName, firstname, email, isSignupComplete, userId, shortlistItems, isEmailChange, signInType = 'Basic', isEmailEnquiry = false) {

        if (providerName.toLowerCase() == "fau") {
            if (isEmailChange.toString().toLowerCase() == "true") {
                window.location.href = "/MyAccount/my-details.aspx"; //show email change in form
            }
            else if (window.location.pathname != undefined && window.location.pathname != "" && (window.location.pathname.toLowerCase().startsWith("/events/signups") || (window.location.pathname.toLowerCase().startsWith("/events") && (window.location.pathname.toLowerCase().endsWith("/register") || window.location.pathname.toLowerCase().endsWith("/register/"))) || window.location.pathname.toLowerCase().startsWith("/signups"))) {
                if (typeof ($('#providerModal').modal) !== 'undefined') {
                    $('#providerModal').modal('hide');
                }
                location.reload();
            }
            else if (window.location.pathname.toLowerCase().startsWith("/scholarships")) {
                location.reload();
            }
            else { // set up as normal if the page isn't for events, reload is for updating data on screen
                UpdateShortlistsAfterLogin(shortlistItems);
                setLoggedInControls(providerName, firstname, '', email, '', isSignupComplete, userId, shortlistItems, "true", "modal", false, signInType, isEmailEnquiry);
                fau.shortlist.ResetShortlistToggleLinks();
            }
        }
    }


    // don't change as users will have this on their machine
    var localStragePrefix = "sli_ls_";
    function AddShortlistIdsToLocal(userId, shortlistItems) {
        var ls = localStorage;
        if (shortlistItems != undefined && shortlistItems != "" && userId != undefined && userId != "") {
            ls.setItem(localStragePrefix + userId, shortlistItems);
        }
    }

    function GetShortlistIdsFromLocal(userId) {
        var shortlistItems = "";
        var ls = localStorage;
        if (userId != undefined && userId != "") {
            shortlistItems = ls.getItem(localStragePrefix + userId);
        }
        return shortlistItems;
    }

    function RemoveShortlistIdsFromLocal(userId) {
        var ls = localStorage;
        if (userId != undefined && userId != "") {
            shortlistItems = ls.removeItem(localStragePrefix + userId);
        }
    }


    // populates signup form fields with claims data (might change depending on if claims data is saved in db on server), also controls login/logout button visibility
    function setLoggedInControls(providerName, firstname, lastname, email, imgUrl, isSignupComplete, userId, shortlistItems, noNewsletterSignup = "true", loginSource = "modal", loggingInGoogle = false, signInType = 'Basic', isEmailEnquiry = false) {
        var welcomeTxt = "";
        var loginBtnTxt = "";
        var userImg = "";

        getSignupAdditionalProperties();
        if (_SignUpAdditionalProps.eventId > 0 && isSignupComplete === 'true') {
            ShowReloadPopupSigninFormForEvent(_SignUpAdditionalProps.eventId);
        }

        // if these elems exists then use them as user is logged in (page doesn't always refresh with login provider so server side doesn't work by itself)
        if ($('#CtaEventLoginHolder').length && $('#CtaSignupActionBtn').length && $('#CtaLoginActionBtn').length) {
            if (isSignupComplete.toLowerCase() == 'true') {
                $('#CtaEventLoginHolder').hide();
            }
            $('#CtaSignupActionBtn').show();
            $('#CtaLoginActionBtn').hide();
        }

        // adds shortlist items to to local storage when a user signs in as this might be a new machine they are using (also does this every page load now but shouldn't cause an issue)
        if (shortlistItems != undefined && shortlistItems != "") {
            AddShortlistIdsToLocal(userId, shortlistItems);
        }

        // flag used to determine that the user is signed in
        _loginProviderName = providerName;

        $("#footerLogout").show();
        $("#footerLogin").hide();

        //$('#signupForm').modal('hide');
        //$('#signupIntro').modal('hide');

        $('#txtEmailAddress_Login').val(email);
        if (firstname != undefined && firstname != '') {//some providers don't pass name values so need to use db value
            $('#txtFirstNames').val(firstname);
        }
        if (lastname != undefined && lastname != '') {//some providers don't pass name values so need to use db value
            $('#txtLastName').val(lastname);
        }

        if (imgUrl != undefined && imgUrl != "") {
            loginBtnTxt = '<div class="login-nav__inner"><img referrerpolicy="no-referrer" class="login-nav__avatar" src="' + imgUrl + '" width="30" height="30"><p class="loginBtnTextAndImg login-nav__name">' + firstname + '</p></div>';
            welcomeTxt = '<img src="' + imgUrl + '" width="52" height="52" class="registerImg register-success__header--avatar"><p class="registerLink register-success__header--user">Welcome ' + firstname + '</p>';
            userImg = '<img src="' + imgUrl + '" width="100" height="100" class="img-fluid">';
        }
        else {
            loginBtnTxt = '<p class="loginBtnText login-nav__name"><i class="fa-regular fa-user fa-lg login-nav__user-icon"></i>' + firstname + '</p>';
            welcomeTxt = '<span class="register-success__header--initial">' + firstname.charAt(0) + '</span><p class="registerLink register-success__header--user">Welcome ' + firstname + '</p>';
            userImg = '<span class="h1 m-0 p-0 user-avatar__text">' + firstname.charAt(0) + '</span>';
        }
        loginBtnTxtMob = '<span class="fa-regular fa-user" aria-hidden="true"></span>';

        $('#accountProviderLink').html(loginBtnTxt).attr("onclick", "");
        $('#mobileUser').html(loginBtnTxtMob).attr("href", "/myaccount").attr("onclick", "");
        var userDropdownMobile = "<ul style='display: none;' class='user-dropdown__mobile bg-dark'><li onclick='window.location.href=/signups/;' class='user-dropdown__option user-dropdown__option--account'>My account</li><li onclick='logoutUser();' class='user-dropdown__option user-dropdown__option--logout'>Log out</li></ul>"
        var userMenuTopMobile = "<a href='/myaccount/' class='row text-white p-3 border-top shadow-sm' style='background: #146560;' >My Account</div>";
        var userMenuBottomMobile = "<a class='row text-white p-3 border-top shadow-sm' onclick='event.stopPropagation(); logoutUser();'>Log out</div>";

        $('#navUserMenu').removeClass('d-none');
        $('#navUserLogin').addClass('d-none').removeClass('d-lg-inline-block');
        $('#mobileUser').removeClass('btn btn-sm btn-primary');

        $(document).ready(function () {
            $('.dropdown-toggle').dropdown();
        })
        $('#header').prepend(userDropdownMobile);
        $('#submenu_Main').prepend(userMenuTopMobile);
        $('#submenu_Main').append(userMenuBottomMobile);
        $('#signupMenuLinkMob').hide();
        $('#signupMenuLinkMob').parent().hide();

        if (providerName.toLowerCase() == "google" && isSignupComplete.toLowerCase() != "false" && noNewsletterSignup.toLowerCase() == "true" && loginSource.toLowerCase() == 'cta' && loggingInGoogle === true) { //check user is logging in or popup will appear on every page
            $('#googleWelcomeMessage').html(welcomeTxt);

            if (typeof ($('#providerModal').modal) !== 'undefined') {
                $('#providerModal').modal('hide');
            }

            ShowReloadPopupSigninForm();
            if (fau.cookies.read("from_newsletter") != undefined) {
                fau.cookies.remove("from_newsletter");
            }


            $('#signupCompleteGoogle').css('display', 'block');
            if ($('#userAvatar').length) {
                $('#userAvatar').html(userImg);
            }

        }
        else if (providerName.toLowerCase() == "facebook" && isSignupComplete.toLowerCase() != "false" && noNewsletterSignup.toLowerCase() == "true" && loginSource.toLowerCase() == 'cta' && GetParameterValue('fb_login') != "") { //check user is logging in or popup will appear on every page because of facebook redirects
            $('#facebookWelcomeMessage').html(welcomeTxt);

            ShowReloadPopupSigninForm();
            if (fau.cookies.read("from_newsletter") != undefined) {
                fau.cookies.remove("from_newsletter");
            }
            $('#signupCompleteFacebook').css('display', 'block');
            $('#userAvatar').html(userImg);
        } else if (providerName.toLowerCase() == "google" && ((isSignupComplete.toLowerCase() != "true") && (isSignupComplete.toLowerCase() != "part")) && loggingInGoogle === true) { //check user is logging in or popup will appear on every page 
            $('#googleWelcomeMessage').html(welcomeTxt);
            if (typeof ($('#providerModal').modal) !== 'undefined') {
                $('#providerModal').modal('hide');
            }

            ShowReloadPopupSigninForm();
            if (fau.cookies.read("from_newsletter") != undefined) {
                fau.cookies.remove("from_newsletter");
            }


            $('#signupCompleteGoogle').css('display', 'block');
            if ($('#userAvatar').length) {
                $('#userAvatar').html(userImg);
            }

        }
        else if (providerName.toLowerCase() == "facebook" && ((isSignupComplete.toLowerCase() != "true") && (isSignupComplete.toLowerCase() != "part")) && GetParameterValue('fb_login') != "") { //check user is logging in or popup will appear on every page because of facebook redirects
            $('#facebookWelcomeMessage').html(welcomeTxt);
            ShowReloadPopupSigninForm();
            if (fau.cookies.read("from_newsletter") != undefined) {
                fau.cookies.remove("from_newsletter");
            }
            $('#signupCompleteFacebook').css('display', 'block');
            $('#userAvatar').html(userImg);

        }
        else if (providerName.toLowerCase() == "fau" && ((isSignupComplete.toLowerCase() != "true") && (isSignupComplete.toLowerCase() != "part"))) {
            $('#fauWelcomeMessage').html(welcomeTxt);
            if (typeof ($('#providerModal').modal) !== 'undefined') {
                $('#providerModal').modal('hide');
            }
            if (isSignupComplete.toLowerCase() != 'part' && isEmailEnquiry == false) {
                if (($('.login-modal__dialog').hasClass('login-modal__dialog--news')) || ($('.inline-modal').hasClass('inline-modal__news'))) {
                    setTimeout(function () {

                        // removed as the signup form is now part of the registration screen
                        // STILL MIGHT NEED TO HAVE PhD NEWSLETTER TOGGLE SWITCH ADDED THOUGH
                        ShowReloadPopupSigninForm();
                        showNotificaitonWidget();
                    }, 500);
                } else {
                    setTimeout(function () {
                        //console.log("modal login"); // for testing only

                        // removed as the signup form is now part of the registration screen
                        // STILL MIGHT NEED TO HAVE PhD NEWSLETTER TOGGLE SWITCH ADDED THOUGH
                        ShowReloadPopupSigninForm();
                        showNotificaitonWidget();
                    }, 500);
                }
            } else {
                showNotificaitonWidget();
            }


            $('#signupCompleteFau').css('display', 'block');
            $('#userAvatar').html(userImg);

        }
        else {
            if (typeof ($('#providerModal').modal) !== 'undefined') {
                $('#providerModal').modal('hide');
            }
        }


        if (isSignupComplete.toLowerCase() != "true") {
            showNotificaitonWidget();
        }

        $('#oAuthProviderLogin').css('visibility', 'visible').removeClass('small');

        //Hides the newsletter widget on blog pages if the user is signed in to prevent multiple signups

        $(document).ready(function(){
            $('.blog-newsletter-widget').remove();
            $('.sign-up-area').remove();        
        });

    }

    function showNotificaitonWidget() {
        $('#AccountNotificationButton').show();
        $('#AccountNotificationButtonMob').removeClass('d-none').addClass('d-inline-block d-md-none')
    }


    function showNewsModal() {
        $('.signupIntro').addClass('signup-intro__news');
        $('.signup-intro__news--content').show();
        $('.signup-intro__news--content').parent().addClass('col-md-14');
    }
    function hideNewsModal() {
        $('.signupIntro').removeClass('signup-intro__news');
        $('.signup-intro__news--content').hide();
        $('.signup-intro__news--content').parent().removeClass('col-md-14');
    }

    function showLoginOverlay(param) {
        $('#loggedInCover').show();
    }
    // generic method to check for param value in current url string
    function GetParameterValue(param) {
        var paramValue = "";
        var url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
        for (var i = 0; i < url.length; i++) {
            var urlparam = url[i].split('=');
            if (urlparam[0] == param) {
                paramValue = urlparam[1];
            }
        }
        return paramValue;
    }
    // switch form state based on div visibility
    function GoToDefaultRegistration() {
        $('#signupForm').hide();
        $('#signupIntro').show();


        if ($('.login-modal__dialog').hasClass('login-modal__dialog--news')) {
            $('.login-modal__dialog').addClass('login-modal__dialog--wide');
        }

        ResetRegistrationForm();
    }

    function ResetRegistrationForm() {
        // check iframe is reachable (id attribute can't be added to iframe as caused height scaling issues)
        if (document.getElementById('iframeRegistrationFormDiv') && document.getElementById('iframeRegistrationFormDiv').getElementsByClassName("register-iframe")[0]) {
            var iframe = document.getElementById('iframeRegistrationFormDiv').getElementsByClassName("register-iframe")[0];
            // refresh iframe on hide to reset for email address unique check
            iframe.src = iframe.src;
        }
    }

    function ShowReloadPopupSigninFormForEvent(eventId) {
        if (!(window.location.pathname != undefined && window.location.pathname != "" && (window.location.pathname.toLowerCase().startsWith("/events/signups") || (window.location.pathname.toLowerCase().startsWith("/events") && (window.location.pathname.toLowerCase().endsWith("/register") || window.location.pathname.toLowerCase().endsWith("/register/"))) || window.location.pathname.toLowerCase().startsWith("/signups")))) {

            $('#signupOptionModal').modal('hide');
            $('#signupFormModal').modal('show');

            if (!document.getElementById("simplePopupSignUp")) {

                if (eventId != undefined && !isNaN(eventId)) { // check eventID is passed or popup will be empty
                    _SelectedSignInType = "Event"
                    _SignUpAdditionalProps = new SignUpTypeAdditionalProps(eventId);
                    var iframe = document.createElement('iframe');
                    var iframeUrl = "/signups/simplePopupForm.aspx?evid=" + eventId;
                    iframe.frameBorder = 0;
                    iframe.width = "100%";
                    iframe.height = "700px";
                    iframe.id = "simplePopupSignUp";
                    iframe.class = "simplePopupIframe";
                    iframe.setAttribute("src", iframeUrl);

                    document.getElementById("simpleIframeHolderDiv").appendChild(iframe);
                }

            }

            //overlay hides iframe flickring when reloading
            setTimeout(function () {
                $('#simplePopupSignupCover').css('visibility', 'hidden');
            }, 1000);
            
        }       
    }

    // shows the simple sign up form screen after the user logs in with the popup
    function ShowReloadPopupSigninForm() {
        if (!(window.location.pathname != undefined && window.location.pathname != "" && (window.location.pathname.toLowerCase().startsWith("/events/signups") || (window.location.pathname.toLowerCase().startsWith("/events") && (window.location.pathname.toLowerCase().endsWith("/register") || window.location.pathname.toLowerCase().endsWith("/register/"))) || window.location.pathname.toLowerCase().startsWith("/signups")))) {
            {
                setTimeout(function () { // added to fix an error in safari (Newsletter registration) where bootstrap doesn't seem to load in time to let the modals work.
                    $('#signupOptionModal').modal('hide');
                    $('#signupFormModal').modal('show');

                    if (!document.getElementById("simplePopupSignUp")) {
                        var iframe = document.createElement('iframe');

                        var iframeUrl = "/signups/simplePopupForm.aspx";

                        if (_SignUpAdditionalProps.eventId > 0) {
                            iframeUrl = "/signups/simplePopupForm.aspx?evid=" + _SignUpAdditionalProps.eventId;
                        }

                        iframe.frameBorder = 0;
                        iframe.width = "100%";
                        iframe.height = "700px";
                        iframe.id = "simplePopupSignUp";
                        iframe.class = "simplePopupIframe";
                        iframe.setAttribute("src", iframeUrl);

                        document.getElementById("simpleIframeHolderDiv").appendChild(iframe);
                    }

                    //overlay hides iframe flickring when reloading
                    setTimeout(function () {
                        $('#simplePopupSignupCover').css('visibility', 'hidden');
                    }, 1000);
                }, 300);
            }
        }
    }

    // this is needed for logins that don't refresh the page after logging in (e.g. Google and FAU)
    function UpdateShortlistsAfterLogin(shortlistItems) {
        if (shortlistItems != undefined && shortlistItems != "") {
            //update status of shortlist icons (e.g. add/remove) on the page with current data, important that this method isn't run when the page is loaded as this performs this data update (e.g. after logging in)
            fau.shortlist.SetShortlistItems(shortlistItems);
        }
    }

    // switch between the initial registration screen in the login popup and the registration form screen after passing thhrou email address (also extra code to check this last part can be done in the iframe)
    function goToSignup() {
        var emailAddress = $('#emailAddressInitial').val();
        if (emailAddress.length > 0) {
            // check iframe and contained method are reachable (id attribute can't be added to iframe as caused height scaling issues)
            if (document.getElementById('iframeRegistrationFormDiv') && document.getElementById('iframeRegistrationFormDiv').getElementsByClassName("register-iframe")[0] && typeof document.getElementById('iframeRegistrationFormDiv').getElementsByClassName("register-iframe")[0].contentWindow.AddEmailAddToRegistrationForm == 'function') {
                document.getElementById('iframeRegistrationFormDiv').getElementsByClassName("register-iframe")[0].contentWindow.AddEmailAddToRegistrationForm(emailAddress);
                $(".register-iframe")[0].contentWindow.focus();

                $('#providerModal').removeClass('show');
                $('iframe.register-iframe').iFrameResize();
                setTimeout(function () {
                    $('#providerModal').addClass('show');
                    $('.login-modal__dialog').removeClass('login-modal__dialog--wide');
                }, 1000);


            }
            else {
                switchRegistrationScreensToForm();
            }
        }
    }

    function switchRegistrationScreensToForm() {
        $('#signupIntro').hide();
        $('#signupForm').show();

        $('.login-modal__dialog').removeClass('login-modal__dialog--wide');
    }

    // switch between the initial registration screen in the login popup and the registration form screen after passing thhrou email address (also extra code to check this last part can be done in the iframe)
    function goToLoginAlreadyExists(email) {
        $('#signupIntro').show();
        $('#signupForm').hide();
        fau.signup_win.toggleLoginArea()

        // check iframe and contained method are reachable (id attribute can't be added to iframe as caused height scaling issues)
        if (document.getElementById('iframeLoginFormDiv') && document.getElementById('iframeLoginFormDiv').getElementsByClassName("fau-login-iframe")[0] && typeof document.getElementById('iframeLoginFormDiv').getElementsByClassName("fau-login-iframe")[0].contentWindow.AddEmailShowErrorLoginForm == 'function') {
            document.getElementById('iframeLoginFormDiv').getElementsByClassName("fau-login-iframe")[0].contentWindow.AddEmailShowErrorLoginForm(email);
            $(".fau-login-iframe")[0].contentWindow.focus();
        }

        ResetRegistrationForm();
    }

    ///

    /*! iFrame Resizer (iframeSizer.min.js ) - v3.6.2 - 2018-09-16
     *  Desc: Force cross domain iframes to size to content.
     *  Requires: iframeResizer.contentWindow.min.js to be loaded into the target frame.
     *  Copyright: (c) 2018 David J. Bradshaw - dave@bradshaw.net
     *  License: MIT
     */
    !function (a) { "use strict"; function b(a, b, c) { "addEventListener" in window ? a.addEventListener(b, c, !1) : "attachEvent" in window && a.attachEvent("on" + b, c) } function c(a, b, c) { "removeEventListener" in window ? a.removeEventListener(b, c, !1) : "detachEvent" in window && a.detachEvent("on" + b, c) } function d() { var a, b = ["moz", "webkit", "o", "ms"]; for (a = 0; a < b.length && !P; a += 1)P = window[b[a] + "RequestAnimationFrame"]; P || h("setup", "RequestAnimationFrame not supported") } function e(a) { var b = "Host page: " + a; return window.top !== window.self && (b = window.parentIFrame && window.parentIFrame.getId ? window.parentIFrame.getId() + ": " + a : "Nested host page: " + a), b } function f(a) { return M + "[" + e(a) + "]" } function g(a) { return R[a] ? R[a].log : I } function h(a, b) { k("log", a, b, g(a)) } function i(a, b) { k("info", a, b, g(a)) } function j(a, b) { k("warn", a, b, !0) } function k(a, b, c, d) { !0 === d && "object" == typeof window.console && console[a](f(b), c) } function l(a) { function d() { function a() { t(U), q(V), I("resizedCallback", U) } f("Height"), f("Width"), u(a, U, "init") } function e() { var a = S.substr(N).split(":"); return { iframe: R[a[0]] && R[a[0]].iframe, id: a[0], height: a[1], width: a[2], type: a[3] } } function f(a) { var b = Number(R[V]["max" + a]), c = Number(R[V]["min" + a]), d = a.toLowerCase(), e = Number(U[d]); h(V, "Checking " + d + " is in range " + c + "-" + b), c > e && (e = c, h(V, "Set " + d + " to min value")), e > b && (e = b, h(V, "Set " + d + " to max value")), U[d] = "" + e } function g() { function b() { function a() { var a = 0, b = !1; for (h(V, "Checking connection is from allowed list of origins: " + d); a < d.length; a++)if (d[a] === c) { b = !0; break } return b } function b() { var a = R[V] && R[V].remoteHost; return h(V, "Checking connection is from: " + a), c === a } return d.constructor === Array ? a() : b() } var c = a.origin, d = R[V] && R[V].checkOrigin; if (d && "" + c != "null" && !b()) throw new Error("Unexpected message received from: " + c + " for " + U.iframe.id + ". Message was: " + a.data + ". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains."); return !0 } function k() { return M === ("" + S).substr(0, N) && S.substr(N).split(":")[0] in R } function l() { var a = U.type in { "true": 1, "false": 1, undefined: 1 }; return a && h(V, "Ignoring init message from meta parent page"), a } function n(a) { return S.substr(S.indexOf(":") + L + a) } function x(a) { h(V, "MessageCallback passed: {iframe: " + U.iframe.id + ", message: " + a + "}"), I("messageCallback", { iframe: U.iframe, message: JSON.parse(a) }), h(V, "--") } function y() { var a = document.body.getBoundingClientRect(), b = U.iframe.getBoundingClientRect(); return JSON.stringify({ iframeHeight: b.height, iframeWidth: b.width, clientHeight: Math.max(document.documentElement.clientHeight, window.innerHeight || 0), clientWidth: Math.max(document.documentElement.clientWidth, window.innerWidth || 0), offsetTop: parseInt(b.top - a.top, 10), offsetLeft: parseInt(b.left - a.left, 10), scrollTop: window.pageYOffset, scrollLeft: window.pageXOffset }) } function A(a, b) { function c() { v("Send Page Info", "pageInfo:" + y(), a, b) } z(c, 32, b) } function B() { function a(a, b) { function c() { R[f] ? A(R[f].iframe, f) : d() } ["scroll", "resize"].forEach(function (d) { h(f, a + d + " listener for sendPageInfo"), b(window, d, c) }) } function d() { a("Remove ", c) } function e() { a("Add ", b) } var f = V; e(), R[f] && (R[f].stopPageInfo = d) } function C() { R[V] && R[V].stopPageInfo && (R[V].stopPageInfo(), delete R[V].stopPageInfo) } function D() { var a = !0; return null === U.iframe && (j(V, "IFrame (" + U.id + ") not found"), a = !1), a } function E(a) { var b = a.getBoundingClientRect(); return p(V), { x: Math.floor(Number(b.left) + Number(O.x)), y: Math.floor(Number(b.top) + Number(O.y)) } } function F(a) { function b() { O = f, G(), h(V, "--") } function c() { return { x: Number(U.width) + e.x, y: Number(U.height) + e.y } } function d() { window.parentIFrame ? window.parentIFrame["scrollTo" + (a ? "Offset" : "")](f.x, f.y) : j(V, "Unable to scroll to requested position, window.parentIFrame not found") } var e = a ? E(U.iframe) : { x: 0, y: 0 }, f = c(); h(V, "Reposition requested from iFrame (offset x:" + e.x + " y:" + e.y + ")"), window.top !== window.self ? d() : b() } function G() { !1 !== I("scrollCallback", O) ? q(V) : r() } function H(a) { function b() { var a = E(f); h(V, "Moving to in page link (#" + d + ") at x: " + a.x + " y: " + a.y), O = { x: a.x, y: a.y }, G(), h(V, "--") } function c() { window.parentIFrame ? window.parentIFrame.moveToAnchor(d) : h(V, "In page link #" + d + " not found and window.parentIFrame not found") } var d = a.split("#")[1] || "", e = decodeURIComponent(d), f = document.getElementById(e) || document.getElementsByName(e)[0]; f ? b() : window.top !== window.self ? c() : h(V, "In page link #" + d + " not found") } function I(a, b) { return m(V, a, b) } function J() { switch (R[V] && R[V].firstRun && Q(), U.type) { case "close": R[V].closeRequestCallback ? m(V, "closeRequestCallback", R[V].iframe) : o(U.iframe); break; case "message": x(n(6)); break; case "scrollTo": F(!1); break; case "scrollToOffset": F(!0); break; case "pageInfo": A(R[V] && R[V].iframe, V), B(); break; case "pageInfoStop": C(); break; case "inPageLink": H(n(9)); break; case "reset": s(U); break; case "init": d(), I("initCallback", U.iframe); break; default: d() } } function K(a) { var b = !0; return R[a] || (b = !1, j(U.type + " No settings for " + a + ". Message was: " + S)), b } function P() { for (var a in R) v("iFrame requested init", w(a), document.getElementById(a), a) } function Q() { R[V] && (R[V].firstRun = !1) } var S = a.data, U = {}, V = null; "[iFrameResizerChild]Ready" === S ? P() : k() ? (U = e(), V = T = U.id, R[V] && (R[V].loaded = !0), !l() && K(V) && (h(V, "Received: " + S), D() && g() && J())) : i(V, "Ignored: " + S) } function m(a, b, c) { var d = null, e = null; if (R[a]) { if (d = R[a][b], "function" != typeof d) throw new TypeError(b + " on iFrame[" + a + "] is not a function"); e = d(c) } return e } function n(a) { var b = a.id; delete R[b] } function o(a) { var b = a.id; h(b, "Removing iFrame: " + b); try { a.parentNode && a.parentNode.removeChild(a) } catch (c) { } m(b, "closedCallback", b), h(b, "--"), n(a) } function p(b) { null === O && (O = { x: window.pageXOffset !== a ? window.pageXOffset : document.documentElement.scrollLeft, y: window.pageYOffset !== a ? window.pageYOffset : document.documentElement.scrollTop }, h(b, "Get page position: " + O.x + "," + O.y)) } function q(a) { null !== O && (window.scrollTo(O.x, O.y), h(a, "Set page position: " + O.x + "," + O.y), r()) } function r() { O = null } function s(a) { function b() { t(a), v("reset", "reset", a.iframe, a.id) } h(a.id, "Size reset requested by " + ("init" === a.type ? "host page" : "iFrame")), p(a.id), u(b, a, "reset") } function t(a) { function b(b) { a.iframe.style[b] = a[b] + "px", h(a.id, "IFrame (" + e + ") " + b + " set to " + a[b] + "px") } function c(b) { J || "0" !== a[b] || (J = !0, h(e, "Hidden iFrame detected, creating visibility listener"), A()) } function d(a) { b(a), c(a) } var e = a.iframe.id; R[e] && (R[e].sizeHeight && d("height"), R[e].sizeWidth && d("width")) } function u(a, b, c) { c !== b.type && P ? (h(b.id, "Requesting animation frame"), P(a)) : a() } function v(a, b, c, d, e) { function f() { var e = R[d] && R[d].targetOrigin; h(d, "[" + a + "] Sending msg to iframe[" + d + "] (" + b + ") targetOrigin: " + e), c.contentWindow.postMessage(M + b, e) } function g() { j(d, "[" + a + "] IFrame(" + d + ") not found") } function i() { c && "contentWindow" in c && null !== c.contentWindow ? f() : g() } function k() { function a() { !R[d] || R[d].loaded || l || (l = !0, j(d, "IFrame has not responded within " + R[d].warningTimeout / 1e3 + " seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.")) } e && R[d] && R[d].warningTimeout && (R[d].msgTimeout = setTimeout(a, R[d].warningTimeout)) } var l = !1; d = d || c.id, R[d] && (i(), k()) } function w(a) { return a + ":" + R[a].bodyMarginV1 + ":" + R[a].sizeWidth + ":" + R[a].log + ":" + R[a].interval + ":" + R[a].enablePublicMethods + ":" + R[a].autoResize + ":" + R[a].bodyMargin + ":" + R[a].heightCalculationMethod + ":" + R[a].bodyBackground + ":" + R[a].bodyPadding + ":" + R[a].tolerance + ":" + R[a].inPageLinks + ":" + R[a].resizeFrom + ":" + R[a].widthCalculationMethod } function x(c, d) { function e() { function a(a) { 1 / 0 !== R[y][a] && 0 !== R[y][a] && (c.style[a] = R[y][a] + "px", h(y, "Set " + a + " = " + R[y][a] + "px")) } function b(a) { if (R[y]["min" + a] > R[y]["max" + a]) throw new Error("Value for min" + a + " can not be greater than max" + a) } b("Height"), b("Width"), a("maxHeight"), a("minHeight"), a("maxWidth"), a("minWidth") } function f() { var a = d && d.id || U.id + H++; return null !== document.getElementById(a) && (a += H++), a } function g(a) { return T = a, "" === a && (c.id = a = f(), I = (d || {}).log, T = a, h(a, "Added missing iframe ID: " + a + " (" + c.src + ")")), a } function i() { switch (h(y, "IFrame scrolling " + (R[y] && R[y].scrolling ? "enabled" : "disabled") + " for " + y), c.style.overflow = !1 === (R[y] && R[y].scrolling) ? "hidden" : "auto", R[y] && R[y].scrolling) { case !0: c.scrolling = "yes"; break; case !1: c.scrolling = "no"; break; default: c.scrolling = R[y] ? R[y].scrolling : "no" } } function k() { ("number" == typeof (R[y] && R[y].bodyMargin) || "0" === (R[y] && R[y].bodyMargin)) && (R[y].bodyMarginV1 = R[y].bodyMargin, R[y].bodyMargin = "" + R[y].bodyMargin + "px") } function l() { var a = R[y] && R[y].firstRun, b = R[y] && R[y].heightCalculationMethod in Q; !a && b && s({ iframe: c, height: 0, width: 0, type: "init" }) } function m() { Function.prototype.bind && R[y] && (R[y].iframe.iFrameResizer = { close: o.bind(null, R[y].iframe), removeListeners: n.bind(null, R[y].iframe), resize: v.bind(null, "Window resize", "resize", R[y].iframe), moveToAnchor: function (a) { v("Move to anchor", "moveToAnchor:" + a, R[y].iframe, y) }, sendMessage: function (a) { a = JSON.stringify(a), v("Send Message", "message:" + a, R[y].iframe, y) } }) } function p(d) { function e() { v("iFrame.onload", d, c, a, !0), l() } b(c, "load", e), v("init", d, c, a, !0) } function q(a) { if ("object" != typeof a) throw new TypeError("Options is not an object") } function r(a) { for (var b in U) U.hasOwnProperty(b) && (R[y][b] = a.hasOwnProperty(b) ? a[b] : U[b]) } function t(a) { return "" === a || "file://" === a ? "*" : a } function u(a) { a = a || {}, R[y] = { firstRun: !0, iframe: c, remoteHost: c.src.split("/").slice(0, 3).join("/") }, q(a), r(a), R[y] && (R[y].targetOrigin = !0 === R[y].checkOrigin ? t(R[y].remoteHost) : "*") } function x() { return y in R && "iFrameResizer" in c } var y = g(c.id); x() ? j(y, "Ignored iFrame, already setup.") : (u(d), i(), e(), k(), p(w(y)), m()) } function y(a, b) { null === S && (S = setTimeout(function () { S = null, a() }, b)) } function z(a, b, c) { V[c] || (V[c] = setTimeout(function () { V[c] = null, a() }, b)) } function A() { function a() { function a(a) { function b(b) { return "0px" === (R[a] && R[a].iframe.style[b]) } function c(a) { return null !== a.offsetParent } R[a] && c(R[a].iframe) && (b("height") || b("width")) && v("Visibility change", "resize", R[a].iframe, a) } for (var b in R) a(b) } function b(b) { h("window", "Mutation observed: " + b[0].target + " " + b[0].type), y(a, 16) } function c() { var a = document.querySelector("body"), c = { attributes: !0, attributeOldValue: !1, characterData: !0, characterDataOldValue: !1, childList: !0, subtree: !0 }, e = new d(b); e.observe(a, c) } var d = window.MutationObserver || window.WebKitMutationObserver; d && c() } function B(a) { function b() { D("Window " + a, "resize") } h("window", "Trigger event: " + a), y(b, 16) } function C() { function a() { D("Tab Visable", "resize") } "hidden" !== document.visibilityState && (h("document", "Trigger event: Visiblity change"), y(a, 16)) } function D(a, b) { function c(a) { return R[a] && "parent" === R[a].resizeFrom && R[a].autoResize && !R[a].firstRun } for (var d in R) c(d) && v(a, b, document.getElementById(d), d) } function E() { b(window, "message", l), b(window, "resize", function () { B("resize") }), b(document, "visibilitychange", C), b(document, "-webkit-visibilitychange", C), b(window, "focusin", function () { B("focus") }), b(window, "focus", function () { B("focus") }) } function F() { function b(a, b) { function c() { if (!b.tagName) throw new TypeError("Object is not a valid DOM element"); if ("IFRAME" !== b.tagName.toUpperCase()) throw new TypeError("Expected <IFRAME> tag, found <" + b.tagName + ">") } b && (c(), x(b, a), e.push(b)) } function c(a) { a && a.enablePublicMethods && j("enablePublicMethods option has been removed, public methods are now always available in the iFrame") } var e; return d(), E(), function (d, f) { switch (e = [], c(d), typeof f) { case "undefined": case "string": Array.prototype.forEach.call(document.querySelectorAll(f || "iframe"), b.bind(a, d)); break; case "object": b(d, f); break; default: throw new TypeError("Unexpected data type (" + typeof f + ")") }return e } } function G(a) { a.fn ? a.fn.iFrameResize || (a.fn.iFrameResize = function (a) { function b(b, c) { x(c, a) } return this.filter("iframe").each(b).end() }) : i("", "Unable to bind to jQuery, it is not fully loaded.") } if ("undefined" != typeof window) { var H = 0, I = !1, J = !1, K = "message", L = K.length, M = "[iFrameSizer]", N = M.length, O = null, P = window.requestAnimationFrame, Q = { max: 1, scroll: 1, bodyScroll: 1, documentElementScroll: 1 }, R = {}, S = null, T = "Host Page", U = { autoResize: !0, bodyBackground: null, bodyMargin: null, bodyMarginV1: 8, bodyPadding: null, checkOrigin: !0, inPageLinks: !1, enablePublicMethods: !0, heightCalculationMethod: "bodyOffset", id: "iFrameResizer", interval: 32, log: !1, maxHeight: 1 / 0, maxWidth: 1 / 0, minHeight: 0, minWidth: 0, resizeFrom: "parent", scrolling: !1, sizeHeight: !0, sizeWidth: !1, warningTimeout: 5e3, tolerance: 0, widthCalculationMethod: "scroll", closedCallback: function () { }, initCallback: function () { }, messageCallback: function () { j("MessageCallback function not defined") }, resizedCallback: function () { }, scrollCallback: function () { return !0 } }, V = {}; window.jQuery && G(window.jQuery), "function" == typeof define && define.amd ? define([], F) : "object" == typeof module && "object" == typeof module.exports ? module.exports = F() : window.iFrameResize = window.iFrameResize || F() } }();


    //Allows user to press enter key to  email address and continue to sign up Form
    $(".signup-modal__email").on('keyup', function (e) {
        if (e.key === 'Enter' || e.keyCode === 13) {
            goToSignup();
        }
    });


    /// SignupTypeProps

    class SignUpTypeAdditionalProps {

        constructor(eventId, programmeId, campaignTagId, eventGroupId) { // named parameters
            // TODO: MAKE A GENERIC METHOD FOR THESE???
            if (eventId !== undefined && eventId !== "" && eventId !== 0 && eventId !== null) {
                this.eventId = eventId;
            } else {
                this.eventId = 0;
            }
            if (programmeId !== undefined && programmeId !== "" && programmeId !== 0 && programmeId !== null) {
                this.programmeId = programmeId;
            } else {
                this.programmeId = 0;
            }

            if (campaignTagId !== undefined && campaignTagId !== "" && campaignTagId !== 0 && campaignTagId !== null) {
                this.campaignTagId = campaignTagId;
            } else {
                this.campaignTagId = 0;
            }

            if (eventGroupId !== undefined && eventGroupId !== "" && eventGroupId !== 0 && eventGroupId !== null) {
                this.eventGroupId = eventGroupId;
            } else {
                this.eventGroupId = 0;
            }
        }
    }


    function storeSignUpAdditionalProps(signUpAdditionalProps) {
        //if (fau.cookies.read("signup_add_props") == undefined) {
        var eventIdData = "";
        var programmeIdData = "";
        var campaignTagData = "";
        var eventGroupIdData = "";
        if (signUpAdditionalProps != undefined) {
            if (signUpAdditionalProps.eventId != undefined && signUpAdditionalProps.eventId > 0) {
                eventIdData = "&eventId=" + signUpAdditionalProps.eventId;
            }
            if (signUpAdditionalProps.programmeId != undefined && signUpAdditionalProps.programmeId > 0) {
                programmeIdData = "&programmeId=" + signUpAdditionalProps.programmeId;
            }
            if (signUpAdditionalProps.campaignTagId != undefined && signUpAdditionalProps.campaignTagId > 0) {
                campaignTagData = "&campaignTag=" + signUpAdditionalProps.campaignTag;
            }
            if (signUpAdditionalProps.eventGroupId != undefined && signUpAdditionalProps.eventGroupId > 0) {
                eventGroupIdData = "&eventGroupId=" + signUpAdditionalProps.eventGroupId;
            }
            var propValues = eventIdData + programmeIdData + campaignTagData + eventGroupIdData;
            if (propValues.length > 0) {
                fau.cookies.add("signup_add_props", propValues.substring(1)); //remove starting ampersand
            }
        }
    }

    function getSignupAdditionalProperties() {

        if (fau.cookies.read("signup_add_props") !== undefined) {

            var eventId = fau.cookies.getSubValue('signup_add_props', 'eventId');
            var programmeId = fau.cookies.getSubValue('signup_add_props', 'programmeId');
            var campaignTagId = fau.cookies.getSubValue('signup_add_props', 'campaignTagId');
            var eventGroupId = fau.cookies.getSubValue('signup_add_props', 'eventGroupId');
            _SignUpAdditionalProps = new SignUpTypeAdditionalProps(eventId, programmeId, campaignTagId, eventGroupId);
            //remove cookie
            fau.cookies.remove("signup_add_props");

        }
    }

    function emptySignupAddPropertiesCookie() {

        if (fau.cookies.read("signup_add_props") !== undefined) {
            //remove cookie
            fau.cookies.remove("signup_add_props");
        }
    }

    function clearNewsletterModal() {
        $('.login-modal__dialog').removeClass('login-modal__dialog--news');
        $('.login-modal__dialog').removeClass('login-modal__dialog--wide');
    }

    /// END SignupTypeProps

    window.switchSignupFormModalOnSubmit = function (type) {

        $("#signupFormModal").modal('hide');


        var urlPath = window.location.pathname;
        urlPath = urlPath.toLowerCase();

        if (urlPath.indexOf('/masters-degrees/course/') >= 0){
            addDetailsToEnquiryForm();
         return;   
        }

        if (_SelectedSignInType === 'Event') {
            $('#signupTypeConfirmationModal').modal('show');

        } else if (_SelectedSignInType === 'Newsletter') {
                  
            $('#loginToast').toast('dispose');
            $('#loginToastText').html('Thanks for creating an account');
            $('#loginToastIcon').html("<i class='fa-regular fa-lg fa-circle-check text-green'></i>");
            $('#loginToast').toast('show');
        } else if (_SelectedSignInType === 'Basic') {
            $('#loginToast').toast('dispose');
            $('#loginToastText').html('Thanks for creating an account');
            $('#loginToastIcon').html("<i class='fa-regular fa-lg fa-circle-check text-green'></i>");
            $('#loginToast').toast('show');
        }
        else if (_SelectedSignInType === 'EventClosed') {
            $('#loginToast').toast('dispose');
            $('#loginToastText').html('Account created - we will email you when registrations open');
            $('#loginToastIcon').html("<i class='fa-regular fa-lg fa-circle-check text-green'></i>");
            $('#loginToast').toast('show');
        }
        else if (_SelectedSignInType === 'Shortlist') {
            $('#loginToast').toast('dispose');
            $('#loginToastText').html('Programme saved to <a style="text-decoration: underline;" class="text-reset" href="/myaccount/saved-courses.aspx">your account</a>');
            $('#loginToastIcon').html("<i class='fa-regular fa-lg fa-circle-check text-green'></i>");
            $('#loginToast').toast('show');
        }
    };

    window.hideSignupFormConfirmModal = function () {
        $('#signupTypeConfirmationModal').modal('hide');
        $('#signupFormModal').modal('hide');
        location.reload();
    };


    function addDetailsToEnquiryForm(){
       sessionStorage.setItem('showSignupConfirmation', _SelectedSignInType);
       location.reload();
    }

    //Lazy Loading

    function lazyLoad_init() {
        var lazyImages = [].slice.call(
            document.querySelectorAll(".lazy-picture > source")
        );

        if ("IntersectionObserver" in window) {
            let lazyImageObserver =
                new IntersectionObserver(function (entries, observer) {
                    entries.forEach(function (entry) {
                        if (entry.isIntersecting) {
                            let lazyImage = entry.target;
                            lazyImage.srcset = lazyImage.dataset.srcset;
                            lazyImage.nextElementSibling.srcset = lazyImage.dataset.srcset;
                            lazyImage.nextElementSibling.classList.add('fade-in');
                            lazyImage.parentElement.classList.remove("lazy-picture");
                            lazyImageObserver.unobserve(lazyImage);
                        }
                    });
                });

            lazyImages.forEach(function (lazyImage) {
                lazyImageObserver.observe(lazyImage);
            });
        } else {
            // Not supported, load all images immediately
            lazyImages.forEach(function (image) {
                image.nextElementSibling.src = image.nextElementSibling.dataset.srcset;
            });
        }
    }


    $(document).ready(function () {
        //Detects click on item of site menu (top nav).
        $('.siteMenu__item').click(function () {
            //Sets menuCategory to be the data attribute of the menu. (e.g. Programmes / Advice)
            menuCategory = $(this).attr('data-menu-type');

            //Checks if the selected menu tab is already open (class IN is added when it is)
            if ($(this).hasClass('in')) {
                //If menu is open we close it
                $('.nav-option__' + menuCategory).hide();
            }
            else {
                //If menu is closed we ensure all other menus are closed
                $('.nav-option').hide();
                $('.siteMenu__item').removeClass('in');
                //We then open the menu
                $('.nav-option__' + menuCategory).show();
            };
            //Toggle the item in the navbar to open/closed state with class IN.
            $(this).toggleClass('in');
        })

        //Mobile menu toggle function. Burger menu icon has click event on it
        function toggleMobileMenu() {
            $('.siteMenu').toggle();
        }
    });


    $(document).on("click", function (event) {
        var $trigger = $("#header");
        if ($trigger !== event.target && !$trigger.has(event.target).length) {
            $(".siteMenu__item").removeClass("in");
            $('.nav-option').hide();
        }
    });

    //shortlist.js

    // Make sure instance of namespace exists without overwriting it.

    // Make sure instance of namespace exists without overwriting it.
    var fau = eval("fau") || {};

    // Shortlist manager.
    fau.shortlist = new function () {
        var _this = this;

        //// --  Private fields  -- //
        var _counterId = "#ShortlistCounter";
        var _counter;
        var _idRegex = /^(BP)?\d+$/;
        var _items = [];

        // --  Private methods  -- //

        this.items = function () {
            return _items;
        }

        function _updateBubble() {
            //_counter = _counter || $(_counterId);
            var numOfItems = _items ? _items.length : 0;
            $(_counterId).text(numOfItems);
        }

        this.SetShortlistItems = function (items) {
            if (items != undefined && Array.isArray(items)) {
                _items = items.filter(function (el) { // removes empty values
                    return el;
                });
            }
            fau.shortlist.wireupToggles();
            //alert("tests " + JSON.stringify(_items));
        }

        function _getIdFromElem(elem) {
            var id = elem.data("courseid") || elem.data("course-id") || elem.data("value");
            return id;
        }

        // --  Public methods  -- //

        // Add an id to the shortlist. Returns NULL.
        this.add = function (id) {
            this.ToggleShortlistValue("add", id);
        }

        this.ToggleShortlistValue = function (command, id) {

            var courseData = "dbType=" + command + "&courseId=" + id;

            $.ajax({
                type: "POST",
                url: "/controls/ShortlistHandler.ashx?" + courseData,
                data: courseData,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    _items = msg.shortlistIds;
                    _updateBubble();
                    if (_items.length > 0) {
                        AddShortlistIdsToLocal(msg.userId, _items);
                    } else {
                        RemoveShortlistIdsFromLocal(msg.userId);
                    }
                }
            });
        }

        // Remove an id from the shortlist. Returns NULL.
        this.remove = function (id) {
            this.ToggleShortlistValue("remove", id);
        }

        // Check if the shortlist contains an Id. Return TRUE or FALSE.
        this.contains = function (id) {
            return false;
        }

        // Click event for shortlist buttons. This is wired up automatically.
        this.onToggleClick = function (value, id, userLoggingIn = false) {
            $('#loginToast').toast('dispose');
            $('.popover').popover('dispose');
            // Who called!?
            if (!value)
                return;
            // Some values.
            var clickedOn, type = jQuery.type(value);

            // Check what we have been passed.+
            if (type == "string" && _idRegex.test(value)) {

                // If we have been passed the Id directly, as the only value, then use it.
                id = parseInt(value);

            } else {

                // If the selector is a string then make it into a jQuery selector.
                if (type == "string" && /d^[#\.]/.test(value) == false) value = "#" + value;

                // Get the element, letting jQuery figure out exactly what we are passing in.
                clickedOn = $(value);

                // Get the Id if it hasn't already been passed in.
                if (!id)
                    id = _getIdFromElem(clickedOn);
            }

            // Get list of shortlist toggles for this course.
            var allToggles = $(".shortlist-toggle").filter(function (idx) {
                return _getIdFromElem($(this)) == id;
            });

            // Work out if we are adding or removeing.
            var adding = !(clickedOn ? clickedOn : allToggles.first()).hasClass("shortlistSelected");

            // Add or remove the Id.
            var len = 0;
            if (adding) {
                len = this.add(id);
                allToggles.addClass("shortlistSelected");
                allToggles.attr("data-content", "Remove this programme");
                if (userLoggingIn == false) {
                    $('#loginToastText').html('Programme saved to <a class="text-reset" style="text-decoration: underline;" href="/myaccount/saved-courses.aspx">your account</a>');
                    $('#loginToastIcon').html("<i class='fa-regular fa-heart text-green'></i>");
                    $('#loginToast').toast('show');

                }
                $(".pulse-survey").addClass("d-none")
            } else {
                len = this.remove(id);
                allToggles.removeClass("shortlistSelected")
                allToggles.attr("data-content", "Save this programme");
                $('#loginToastText').html('Programme removed from <a class="text-reset" style="text-decoration: underline;" href="/myaccount/saved-courses.aspx">your account</a>');
                $('#loginToastIcon').html("<i class='fa-regular fa-heart-crack text-green'></i>");
                $('#loginToast').toast('show');
            }

            //// Now we can update our bubble.
            _updateBubble();
        };

        // Click event for shortlist buttons. This is wired up automatically.
        this.toggleFromAmp = function (cid) {
            // Get list of shortlist toggles for this course.
            var allToggles = $(".shortlist-toggle");

            var len = 0;
            len = this.add(cid);
            allToggles.addClass("shortlistSelected");

            //// Now we can update our bubble.
            _updateBubble();
        };


        // Wire-up toggle buttons.
        this.wireupToggles = function () {
            _updateBubble();

            var toggles = $(".shortlist-toggle");
            toggles.click(function () { _this.onToggleClick.call(_this, this); });

            var toggled = [];
            jQuery.each(_items, function (idx, value) {
                toggled[value] = true;
            });

            toggles.each(function (idx, item) {
                var item = $(item);
                var id = _getIdFromElem(item);
                if (toggled[id]) {
                    item.addClass("shortlistSelected");
                    item.attr("data-content", "Remove this programme");
                }

                else {
                    item.removeClass("shortlistSelected");
                    item.attr("data-content", "Save this programme");
                }
            });

        }

        /// Enable / disable Shortlist buttons on the site depending on if user is logged in 

        // disables all shortlist buttons on the site if user not logged in and calls end point with display message
        this.OverrideShortlistToggleLinks = function () {
            //disable add / remnove buttons
            $(".shortlist-toggle").each(function () {
                $(this).off('click'); //remove click event to try and add a shortlist item to db (stops the page from slowing down with all the bubbled up ajax calls that do nothing)
                $(this).removeClass("shortlist-toggle");
                $(this).addClass("shortlist-toggle-login-prompt");
            });
            // disable shortlist manager button in site menu bar
            $("#ShortlistManagerButton").off('click');
            $("#ShortlistManagerButton").addClass("shortlist-toggle-login-prompt");
            $("#ShortlistManagerButton").attr("href", '#');
            this.OverrideLoggedOutEndPoint();
        }

        // re-enables shortlist buttons again when user signs in (refreshing the page also resets the buttons without this method)
        this.ResetShortlistToggleLinks = function () {
            //re-enable add / remnove buttons
            if ($("#ShortlistManagerButton").hasClass("shortlist-toggle-login-prompt")) {
                $("#ShortlistManagerButton").removeClass("shortlist-toggle-login-prompt"); // shortlist manager link
                $("#ShortlistManagerButton").off('click');
                $("#ShortlistManagerButton").attr("href", '/MyAccount/saved-courses.aspx'); // reset link to original now user is logged in
            }
            // re-enable shortlist manager button in site menu bar
            $(".shortlist-toggle-login-prompt").each(function () {
                $(this).off('click'); //remove click event to trry and add a shortlist item to db (stops the page from slowing down with all the bubbled up ajax calls that do nothing)
                $(this).addClass("shortlist-toggle");
                $(this).removeClass("shortlist-toggle-login-prompt");
            });

            // fires here because this method always runs when someone logs in (except with facebook) and the shortlist-toggle class is reset here
            fau.shortlist.AddShortlistItemIfInitiated();

            this.wireupToggles();
        }

        // click event that fires message when buttons are disabled
        this.OverrideLoggedOutEndPoint = function () {

            $("a.shortlist-toggle-login-prompt").off("click", LoginPrompt); // stops multiplying of duplicate events, if they exist
            $("a.shortlist-toggle-login-prompt").on("click", LoginPrompt);
        }

        function LoginPrompt(elem) {
            var lastClickedDisabledShortlistElem = _getIdFromElem($(elem.currentTarget));

            if (lastClickedDisabledShortlistElem !== null &&
                lastClickedDisabledShortlistElem != undefined &&
                lastClickedDisabledShortlistElem != "") {
                fau.cookies.add("shortlistLoginClick", lastClickedDisabledShortlistElem, 1);
            }
            $('.popover').popover('dispose');
            $('#providerModal').html($('#providerModalLogin').html());
            $('#providerModal').modal('show');
            _SelectedSignInType = "Shortlist";
            $('iframe.register-iframe').iFrameResize();
            fau.signup_win.toggleSignupArea();
            setSignInType();
            $('.shortlist-header').removeClass('hidden');
        }
        this.AddShortlistItemIfInitiated = function (provider = "") {

            var shortlistId = fau.cookies.read("shortlistLoginClick");

            if (shortlistId != null &&
                shortlistId != undefined &&
                shortlistId != "") {
                var shortlistElem;
                var toggles = $(".shortlist-toggle");

                if (toggles != undefined && toggles.length > 0) //after login, update shortlist toggle butons on page
                {
                    toggles.each(function (idx, elem) {
                        var elem = $(elem);
                        var id = _getIdFromElem(elem);
                        if (id == shortlistId) {
                            shortlistElem = elem;
                            return false; //break loop
                        }
                    });


                    if (shortlistElem != null &&
                        shortlistElem != undefined) {
                        this.onToggleClick(shortlistElem, shortlistId, true);
                        if (!_items.includes(shortlistId)) {
                            _items.push(shortlistId);
                        }
                        fau.cookies.remove('shortlistLoginClick');
                    }

                    //was used when facebook login redirected to home page
                    //if (provider == 'facebook' && (shortlistElem == null || shortlistElem == undefined)) //facebook login by clicking a heart icon on a search result page > 1, this will still add the icon even though not on redirected page and wires up toggles correctly
                    //{
                    //    this.add(shortlistId)
                    //    if (!_items.includes(shortlistId)) {
                    //        _items.push(shortlistId);
                    //    }
                    //    fau.cookies.remove('shortlistLoginClick');
                    //}
                }
                else //after login, user is redirected to page with no shortlist toggle buttons to update (e.g. homepage)
                {
                    this.add(shortlistId)
                    if (!_items.includes(shortlistId)) {
                        _items.push(shortlistId);
                    }
                    fau.cookies.remove('shortlistLoginClick');
                }
                //this.wireupToggles();
            }
        }

        ///

        // --  Initialiser area  -- //
    }


    // Class for manipulating cookies.
    fau.signup_win = new function () {
        this.delay = 60;
        this.closed = false;
        this.loggedIn = false;
        this.timer = (fau.cookies.read("signup_win_timer") | 0);
        this.clock;
        this.userCountry = '';

        if (this.timer > (this.delay - 5)) this.timer = (this.delay - 20);

        // return current website domain
        this.checkSite = function () {
            var tmp = document.createElement('a'); tmp.href = document.URL;
            if (tmp.hostname == 'localhost') tmp.href = $('#logoLink').attr("href");
            return tmp.hostname.toLowerCase();
        },
            //fires the popup / footerbar when the user has been on the page for over 1 minute
            this.pageTimer = function () {
                this.timer++;
                fau.cookies.add("signup_win_timer", this.timer, 2);
                if (this.timer > this.delay) this.checkSignup();
            },
            //function to run to show the signup popup/footer bar
            this.checkSignup = function () {

                //which country
                if (fau.cookies.getSubValue('FauUserInfo', 'ctry') != null)
                    this.userCountry = fau.cookies.getSubValue('FauUserInfo', 'ctry');
                if (fau.cookies.getSubValue('FauUserInfo', 'city') != null)
                    this.userCity = fau.cookies.getSubValue('FauUserInfo', 'city');
                //checks if modal has already been seen by user
                this.closed = fau.cookies.read("signup_win_closed");


                if ($(".login-nav__name").length) {
                    this.loggedIn = true;
                }

                if (!this.closed & !this.loggedIn & !this.opened & !this.blockPage() & !$('.modal-signup').hasClass('show')) {
                    //if phd and in UK then show different modal, else now signup modal
                    //if (this.checkSite().indexOf("findaphd.com") > -1 && this.userCountry == 'GB') { // -- if phd only highjack
                    //if (this.userCountry == 'GB') {
                    //    if (!this.closed & !this.blockPage()) {
                    //        $('#signupModal').html($('#signupModalGeo').html());
                    //        this.showSignup();
                    //    }
                    //}

                    //if (this.checkSite().indexOf("findamasters.com") > -1) {
                    //    if (!this.closed & !this.blockPage()) {
                    //        $('#signupModal').html($('#signupModalGeo').html());
                    //        this.showSignup();
                    //    }
                    //}
                    //else {
                    // check if they have already signed up before 
                    // (cookie check which is set on signup and login and email interaction)
                    var signedUp = fau.cookies.read("SignedUp");
                    if (!this.closed & !this.loggedIn & !this.opened & !signedUp & !this.blockPage()) {
                        this.showSignup();
                    }
                    //}
                }
            },
            this.blockPage = function () {
                if (typeof fau.hideSignupWindow !== undefined && fau.hideSignupWindow) return true;

                var booBlockPage = false;
                var blockList = new Array("/providers/", "/events/", "/scholarships/");
                var url = document.URL.toLowerCase();
                for (var i = 0; i < blockList.length; i++) {
                    if (url.indexOf(blockList[i]) > 1) booBlockPage = true;
                }

                return booBlockPage;
            },
            this.showSignup = function () {
                //shows the sign up modal 

                if (typeof openSiteModal !== "undefined") {
                    openSiteModal();
                }


                if (typeof hj === 'object') {
                    hj('trigger', 'show_signup_popup');
                }

                this.opened = true;
            },

            this.closeSignupModal = function () {

                if ($.isFunction(hideNewsModal)) {
                    $('.login-modal__dialog').removeClass('login-modal__dialog--wide').removeClass('login-modal__dialog--news');
                    $('.login-modal__button--outer').removeClass('col-md-12');
                    $('.customProviderBtn').removeClass('my-3');
                    $('.input-group-append.modal__is-news').remove();
                    this.closed = true;
                    var days2hide = 2;
                    if (isLocal) days2hide = 30;
                    fau.cookies.add("signup_win_closed", true, days2hide);
                    clearInterval(fau.signup_win.clock);
                    hideNewsModal();

                } else {
                    $('.login-modal__dialog').removeClass('login-modal__dialog--wide').removeClass('login-modal__dialog--news');
                    $('.login-modal__button--outer').removeClass('col-md-12');
                    $('.customProviderBtn').removeClass('my-3');
                    $('.input-group-append.modal__is-news').remove();
                    this.closed = true;
                    var days2hide = 2;
                    if (isLocal) days2hide = 30;
                    fau.cookies.add("signup_win_closed", true, days2hide);
                    clearInterval(fau.signup_win.clock);
                }
            }

        this.hideSignup = function () {
            //function to run to close the signup modal
            $('#signupModal').modal('hide');

            //set 'Signup Window Closed' cookie for 2 days
            //if hasn't been seen sets variable so modal / footer bar doesn't display again
            this.closed = true;
            var days2hide = 2;
            if (isLocal) days2hide = 30;
            fau.cookies.add("signup_win_closed", true, days2hide);
            clearInterval(fau.signup_win.clock);
        }

        this.toggleLoginArea = function () {
            $('.smallProviderFbBtn', window.parent.document).show();
            $('.smallProviderGoogleBtn', window.parent.document).show();
            if ($('.login-text.toggle-section-text').hasClass('d-none')) {
                ($('.toggle-section-text').toggleClass('d-none'));
                ($('.toggle-link').toggleClass('active-link'));
                $('iframe.fau-login-iframe').iFrameResize();
            }
        }
        this.toggleSignupArea = function () {
            $('.smallProviderFbBtn', window.parent.document).show();
            $('.smallProviderGoogleBtn', window.parent.document).show();
            if ($('.signup-text.toggle-section-text').hasClass('d-none')) {
                ($('.toggle-section-text').toggleClass('d-none'));
                ($('.toggle-link').toggleClass('active-link'));
                $('iframe.register-iframe').iFrameResize();
            }
        }
    }

    //changes the state of the mobile reveal to show the full message
    $(function () {
        $('#signUpClick').on("touchstart click", function (event) {
            event.preventDefault();
            $('.full-reveal').show();
            $('.mobile-message').hide();
        });
        $(document).mouseleave(function () {
            fau.signup_win.checkSignup();
        });
        fau.signup_win.clock = setInterval(function () { fau.signup_win.pageTimer() }, 1000);
    });

//fires the popup / footer bar when users scroll more than 1/3 of the page
//$(window).scroll(function () {
//    if ($(window).scrollTop() > $('body').height() / 3) {
//        if (fau.signup_win.closed === false) {
//            fau.signup_win.checkSignup();
//        }
//    }
//});

    //FauStat
    var faustat = new function () {
        this.addstat = function (domain, type, id) {
            //saveStat
            var jqxhr = jQuery.post("/common/faustat.ashx", { domain: domain, type: type, id: id }, function () {
                //alertify.log("Data Sent");
            })
                .done(function (id) {
                    //alertify.success("Saved");
                    //console.log("Stat Details: " + domain + "," + type + "," + id);
                })
                .fail(function () {
                    //alertify.error("Save Settings Error");
                })
                .always(function () {
                    //always run this code last regardless of status
                    //alertify.log("Finished");
                });
        };
        this.addstats = function (domain, type, id) {
            //saveStat
            var jqxhr = jQuery.post("/common/faustats.ashx", { domain: domain, type: type, id: id }, function () {
                //alertify.log("Data Sent");
            })
                .done(function (id) {
                    //alertify.success("Saved");
                    //console.log("Stat Details: " + domain + "," + type + "," + id);
                })
                .fail(function () {
                    //alertify.error("Save Settings Error");
                })
                .always(function () {
                    //always run this code last regardless of status
                    //alertify.log("Finished");
                });
        };
        this.addstats_minwidth = function (domain, type, id, tint, obj, minwidth) {
            //check if minimum display width is achieved
            if (obj.width() > minwidth) { this.addstats(domain, type, id, tint); }
        };



        this.addstatsarray = function (domain, type, ids) {
            //saveStat
            var jqxhr = jQuery.post("/common/faustats.ashx", { domain: domain, type: type, ids: ids }, function () {
                //alertify.log("Data Sent");
            })
                .done(function (id) {
                    //alertify.success("Saved");
                    //console.log("Stat Details: " + domain + "," + type + "," + id);
                })
                .fail(function () {
                    //alertify.error("Save Settings Error");
                })
                .always(function () {
                    //always run this code last regardless of status
                    //alertify.log("Finished");
                });
        };



        this.addMDarray = function (domain, MDids, obj, minwidth) {
            //saveStat
            if (obj.width() > minwidth) {
                $.ajax({ url: "/common/faustats.ashx", data: { "domain": domain, "MDids": JSON.stringify(MDids) }, type: "POST" });
            }
            //var jqxhr = jQuery.post("/common/faustats.ashx", { MDids: MDids.to }, function () {
            //    //alertify.log("Data Sent");
            //})
            //  .done(function (id) {
            //      //alertify.success("Saved");
            //      //console.log("Stat Details: " + domain + "," + type + "," + id);
            //  })
            //  .fail(function () {
            //      //alertify.error("Save Settings Error");
            //  })
            //  .always(function () {
            //      //always run this code last regardless of status
            //      //alertify.log("Finished");
            //  });
        };

        this.BuildMDarray = function (domain) {
            var types = [];
            var a = 0;

            $("input[name^='hiddenStatInp']").each(function (i) {
                types[a] = this.value;
                a++;
            });
            // console.log("'"+domain+"'", types, $('#ads'));

            faustat.addMDarray(domain, types, $('#ads'), 0);
        }
    }

    //--datalayerJs
    var DataLayerManager = new function () {

        var pageName = "";
        var pushProperty = {};

        pushProperty.Ga4EventNames = {};
        pushProperty.ProductPageTypes = {};
        pushProperty.PageCategory = {};
        pushProperty.InteractionType = {};
        pushProperty.ProductPageMetaInfo = {};
        pushProperty.UserInfo = {};
        pushProperty.Ga4EventAppEvenNames = {};


        pushProperty.Ga4EventNames.AdClick = "ad_click";
        pushProperty.Ga4EventNames.ChatToStudent = "chat_to_student";
        pushProperty.Ga4EventNames.EmailEnquiry = "email_enquiry";
        pushProperty.Ga4EventNames.StudyFairRegistration = "study_fair_registration";
        pushProperty.Ga4EventNames.StudyFairAttended = "study_fair_attended";
        pushProperty.Ga4EventNames.MyAccountRegistration = "my_account_registration";
        pushProperty.Ga4EventNames.MyAccountSignIn = "my_account_signin";
        pushProperty.Ga4EventNames.NewsletterSignup = "newsletter_signup";
        pushProperty.Ga4EventNames.PageViewedInfo = "page_viewed_info";
        pushProperty.Ga4EventNames.ReferralExternal = "referral_external";
        pushProperty.Ga4EventNames.ReferralInternal = "referral_internal";
        pushProperty.Ga4EventNames.Impression = "impression";
        pushProperty.Ga4EventNames.ProvidersEmailEnquiry = "providers_email_enquiry";
        pushProperty.Ga4EventNames.ProvidersOrderForm = "providers_order_form";

        pushProperty.ProductPageTypes.Billboard = "billboard";
        pushProperty.ProductPageTypes.InSearchBanner = "in_search_banner";
        pushProperty.ProductPageTypes.InContentBanner = "in_content_banner";
        pushProperty.ProductPageTypes.MiniSpot = "mini_spot";
        pushProperty.ProductPageTypes.Skyscraper = "skyscraper";
        pushProperty.ProductPageTypes.Spotlight = "spotlight";
        pushProperty.ProductPageTypes.CustomPage = "custom_page";
        pushProperty.ProductPageTypes.DepartmentProfile = "department_profile";
        pushProperty.ProductPageTypes.StudyFairInPerson = "study_fair_in_person";
        pushProperty.ProductPageTypes.StudyFairVirtual = "study_fair_virtual";
        pushProperty.ProductPageTypes.FeaturedOpenDay = "featured_open_day";
        pushProperty.ProductPageTypes.FeaturedProgramme = "featured_programme";
        pushProperty.ProductPageTypes.FeaturedProgrammeSubPage = "featured_programme_sub_page";
        pushProperty.ProductPageTypes.FeaturedScholarship = "featured_scholarship";
        pushProperty.ProductPageTypes.InstitutionProfile = "institution_profile";
        pushProperty.ProductPageTypes.MyAccount = "my_account";
        pushProperty.ProductPageTypes.StandardProgramme = "standard_programme";
        pushProperty.ProductPageTypes.None = "none";
        pushProperty.ProductPageTypes.Homepage = "homepage";
        pushProperty.ProductPageTypes.HomepageFeaturedInstitution = "homepage_featured_institution";
        pushProperty.ProductPageTypes.HomepageFeaturedVideo = "homepage_featured_video";

        pushProperty.PageCategory.Providers = "providers";
        pushProperty.PageCategory.Products = "products";
        pushProperty.PageCategory.Opendays = "opendays";
        pushProperty.PageCategory.Search = "search";
        pushProperty.PageCategory.Blog = "blog";
        pushProperty.PageCategory.StudyFairEvents = "study_fair_events";
        pushProperty.PageCategory.Evergreen = "evergreen";
        pushProperty.PageCategory.Homepage = "homepage";

        pushProperty.InteractionType.CTA = "cta";
        pushProperty.InteractionType.Modal = "modal";

        pushProperty.UserInfo.UserID = "user_id";
        pushProperty.UserInfo.LoggedIn = "logged_in";

        pushProperty.Ga4EventAppEvenNames.Attended = "attended";
        pushProperty.Ga4EventAppEvenNames.ScannedBy = "scanned_by";
        pushProperty.Ga4EventAppEvenNames.EventName = "event_name";
        pushProperty.Ga4EventAppEvenNames.EventLocation = "event_location";

        //stop objects from having values added to them
        Object.freeze(pushProperty.Ga4EventNames);
        Object.freeze(pushProperty.ProductPageTypes);
        Object.freeze(pushProperty.PageCategory);
        Object.freeze(pushProperty.InteractionType);
        Object.freeze(pushProperty.ProductPageMetaInfo);
        Object.freeze(pushProperty.UserInfo);
        Object.freeze(pushProperty.Ga4EventAppEvenNames);

        // push property keys (keeps them all the same if defined in one place)
        this.productPageMetaInfoIID = "institution_id";
        this.productPageMetaInfoDID = "department_id";
        this.productPageMetaInfoBPIDPID = "page_id";
        this.productPageMetaInfoTheId = "fau_ad_id";
        this.productPageMetaInfoCampaignTag = "ct_tag";
        this.productPageMetaInfoInstitutionName = "institution_name";
        this.productPageMetaInfoDepartmentName = "department_name";
        this.productPageMetaInfoPageNameTitle = "page_name";
        this.productPageMetaInfoContentTag = "page_tag";
        this.productPageMetaInfoAuthor = "page_author";
        this.productPageMetaInfoStudyFairEventName = "study_fair_name";
        this.productPageMetaInfoStudyFairEventLocation = "study_fair_location";
        this.productPageMetaInfoTAPUniBuddy = "chat_to_student_provider";
        this.productPageMetaInfoPositionInSearchResults = "position_in_search";
        this.productPageMetaInfoPositionInContent = "position_in_content";
        this.productPageMetaInfoContentStartDate = "content_start_date";
        this.productPageMetaInfoContentModifiedDate = "content_modified_date";
        this.productPageMetaInfoContentCreationDate = "content_creation_date";
        this.productPageMetaInfoDisciplineIds = "discipline_ids";
        this.productPageMetaInfoDisciplineNames = "discipline_names";
        this.productPageMetaInfoSubjectIds = "subject_ids";
        this.productPageMetaInfoSubjectNames = "subject_names";
        this.productPageMetaInfoStudyTerms = "study_terms";
        this.productPageMetaInfoStudyTypes = "study_types";
        this.productPageMetaInfoLocationCountryName = "location_country_name";
        this.productPageMetaInfoLocationCityName = "location_city_name";
        this.productPageMetaInfoProgrammeTypes = "programme_types";
        this.productPageMetaInfoSearchListingTitle = "search_listing_title";
        this.productPageMetaInfoSearchBlurbIncluded = "search_blurb_included";
        this.productPageMetaInfoProductId = "product_id";

        this.Ga4EventName = "event";
        this.ProductPageType = "product_type";
        this.PageCategory = "page_category";
        this.InteractionType = "interaction_type";
        this.UserId = "fau_user_id";
        this.UserLoggedIn = "user_logged_in";

        // dynamic data for attaching extra optional info to some events
        this.dynamicAdId = "";
        this.dynamicBpIdpId = "";
        this.dynamicIId = "";
        this.dynamicInstitutionName = "";
        this.dynamicDId = "";
        this.dynamicPositionInSearch = "";
        this.dynamicPositionInContent = "";
        this.dynamicDepartmentName = "";
        this.dynamicAuthor = "";
        this.dynamicCampaignTag = "";
        this.dynamicContentTag = "";
        this.dynamicStudyFairEventName = "";
        this.dynamicStudyFairEventLocation = "";
        this.dynamicContentStartDate = "";
        this.dynamicContentModifiedDate = "";
        this.dynamicContentCreationDate = "";
        this.dynamicDisciplineIds = "";
        this.dynamicDisciplineNames = "";
        this.dynamicSubjectIds = "";
        this.dynamicSubjectNames = "";
        this.dynamicStudyTerms = "";
        this.dynamicStudyTypes = "";
        this.dynamicLocationCountryName = "";
        this.dynamicLocationCityName = "";
        this.dynamicProgrammeTypes = "";
        this.dynamicSearchBlurbIncluded = "";
        this.dynamicProductId = "";

        this.ResetDynamicProperties = function () {
            //reset properties so they don't carry over to the next event as the context might be different
            this.dynamicAdId = "";
            this.dynamicBpIdpId = "";
            this.dynamicIId = "";
            this.dynamicInstitutionName = "";
            this.dynamicDId = "";
            this.dynamicPositionInSearch = "";
            this.dynamicPositionInContent = "";
            this.dynamicDepartmentName = "";
            this.dynamicAuthor = "";
            this.dynamicCampaignTag = "";
            this.dynamicContentTag = "";
            this.dynamicStudyFairEventName = "";
            this.dynamicStudyFairEventLocation = "";
            this.dynamicContentStartDate = "";
            this.dynamicContentModifiedDate = "";
            this.dynamicContentCreationDate = "";
            this.dynamicDisciplineIds = "";
            this.dynamicDisciplineNames = "";
            this.dynamicSubjectIds = "";
            this.dynamicSubjectNames = "";
            this.dynamicStudyTerms = "";
            this.dynamicStudyTypes = "";
            this.dynamicLocationCountryName = "";
            this.dynamicLocationCityName = "";
            this.dynamicProgrammeTypes = "";
            this.dynamicSearchBlurbIncluded = "";
            this.dynamicProductId = "";
        }



        // get page name (title) from h1 header on pages
        var pageName = "";

        $(document).ready(function () {
            DataLayerManager.SetPageName();
        });

        this.SetPageName = function () {
            var h1Tag = $('h1').first();
            var h1Attr = h1Tag.attr("data-permutive-title");
            var firstHeader = undefined;
            if (typeof h1Attr !== typeof undefined && h1Attr !== false) {
                firstHeader = h1Tag.attr("data-permutive-title");
            }
            else {
                firstHeader = $('h1').first().text();
            }

            if (firstHeader != undefined) {
                pageName = firstHeader;
            }
        }

        this.MyAccount = function (interactionType,
            userInfoUserID,
            isRegistration,
            urlPath = '') {

            var eventType = pushProperty.Ga4EventNames.MyAccountSignIn;

            if (urlPath == undefined || urlPath == '') {
                urlPath = window.location.pathname;
            }
            if (isRegistration == true || isRegistration == 'true') {
                eventType = pushProperty.Ga4EventNames.MyAccountRegistration;
            }

            dataLayer.push({
                [this.Ga4EventName]: eventType,
                [this.ProductPageType]: pushProperty.ProductPageTypes.MyAccount,
                [this.PageCategory]: this.GetPageCategory(urlPath),
                [this.InteractionType]: this.GetInteractionType(interactionType),
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: 'true'
            });
            // console.log(dataLayer);
            //alert("test for redirected pages: open console object while this is on screen to view individual elements (preserve logs)");
        }

        this.NewsletterSignup = function (interactionType,
            userInfoUserID,
            isUserSignedIn,
            urlPath = '') {

            if (urlPath == undefined || urlPath == '') {
                urlPath = window.location.pathname;
            }

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.NewsletterSignup,
                [this.ProductPageType]: pushProperty.ProductPageTypes.MyAccount,
                [this.PageCategory]: this.GetPageCategory(urlPath),
                [this.InteractionType]: this.GetInteractionType(interactionType),
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase()
            });
        }


        this.ChatToStudent = function (iId,
            institutionName,
            tapUniBuddy,
            userInfoUserID,
            isUserSignedIn,
            disciplineIds,
            disciplineNames,
            subjectIds,
            subjectNames,
            studyTerms,
            studyTypes,
            locationCountryName,
            locationCityName,
            programmeTypes,
            productId
        ) {

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.ChatToStudent,
                [this.ProductPageType]: pushProperty.ProductPageTypes.InstitutionProfile,
                [this.PageCategory]: pushProperty.PageCategory.Products,
                [this.productPageMetaInfoIID]: iId,
                [this.productPageMetaInfoInstitutionName]: institutionName,
                [this.productPageMetaInfoTAPUniBuddy]: tapUniBuddy,
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase(),
                [this.productPageMetaInfoDisciplineIds]: disciplineIds,
                [this.productPageMetaInfoDisciplineNames]: disciplineNames,
                [this.productPageMetaInfoSubjectIds]: subjectIds,
                [this.productPageMetaInfoSubjectNames]: subjectNames,
                [this.productPageMetaInfoStudyTerms]: studyTerms,
                [this.productPageMetaInfoStudyTypes]: studyTypes,
                [this.productPageMetaInfoLocationCountryName]: locationCountryName,
                [this.productPageMetaInfoLocationCityName]: locationCityName,
                [this.productPageMetaInfoProgrammeTypes]: programmeTypes,
                [this.productPageMetaInfoProductId]: productId
            });
        }

        this.ReferralExternal = function (
            userInfoUserID,
            isUserSignedIn,
            productType = '') {

            if (productType != undefined && productType != '') {
                productType = this.GetProductType(productType);
            } else if (dataLayerPagePropertyType != undefined && dataLayerPagePropertyType != "") {
                productType = this.GetProductType(dataLayerPagePropertyType);
            }

            // get the location data from the InstProfile and DeptProfile pages and use this for all external links on that page
            if (dataLayerInstCityLocType != undefined && dataLayerInstCityLocType != "" && (this.dynamicLocationCityName == undefined || this.dynamicLocationCityName == "")) {
                this.dynamicLocationCityName = dataLayerInstCityLocType;
            }
            if (dataLayerInstCountryLocType != undefined && dataLayerInstCountryLocType != "" && (this.dynamicLocationCountryName == undefined || this.dynamicLocationCountryName == "")) {
                this.dynamicLocationCountryName = dataLayerInstCountryLocType;
            }

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.ReferralExternal,
                [this.ProductPageType]: productType,
                [this.PageCategory]: pushProperty.PageCategory.Products,
                [this.productPageMetaInfoBPIDPID]: this.dynamicBpIdpId,
                [this.productPageMetaInfoIID]: this.dynamicIId,
                [this.productPageMetaInfoInstitutionName]: this.dynamicInstitutionName,
                [this.productPageMetaInfoDID]: this.dynamicDId,
                [this.productPageMetaInfoDepartmentName]: this.dynamicDepartmentName,
                [this.productPageMetaInfoPageNameTitle]: pageName,
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase(),
                [this.productPageMetaInfoDisciplineIds]: this.dynamicDisciplineIds,
                [this.productPageMetaInfoDisciplineNames]: this.dynamicDisciplineNames,
                [this.productPageMetaInfoSubjectIds]: this.dynamicSubjectIds,
                [this.productPageMetaInfoSubjectNames]: this.dynamicSubjectNames,
                [this.productPageMetaInfoStudyTerms]: this.dynamicStudyTerms,
                [this.productPageMetaInfoStudyTypes]: this.dynamicStudyTypes,
                [this.productPageMetaInfoLocationCountryName]: this.dynamicLocationCountryName,
                [this.productPageMetaInfoLocationCityName]: this.dynamicLocationCityName,
                [this.productPageMetaInfoProgrammeTypes]: this.dynamicProgrammeTypes,
                [this.productPageMetaInfoProductId]: this.dynamicProductId
            });
        }

        this.ReferralInternal = function (
            userInfoUserID,
            isUserSignedIn,
            productType = '') {

            if (productType != undefined && productType != '') {
                productType = this.GetProductType(productType);
            }

            // get the location data from the InstProfile and DeptProfile pages and use this for all internal links on that page
            if (dataLayerInstCityLocType != undefined && dataLayerInstCityLocType != "" && (this.dynamicLocationCityName == undefined || this.dynamicLocationCityName == "")) {
                this.dynamicLocationCityName = dataLayerInstCityLocType;
            }
            if (dataLayerInstCountryLocType != undefined && dataLayerInstCountryLocType != "" && (this.dynamicLocationCountryName == undefined || this.dynamicLocationCountryName == "")) {
                this.dynamicLocationCountryName = dataLayerInstCountryLocType;
            }

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.ReferralInternal,
                [this.ProductPageType]: productType,
                [this.PageCategory]: pushProperty.PageCategory.Products,
                [this.productPageMetaInfoPageNameTitle]: pageName,
                [this.productPageMetaInfoBPIDPID]: this.dynamicBpIdpId,
                [this.productPageMetaInfoIID]: this.dynamicIId,
                [this.productPageMetaInfoInstitutionName]: this.dynamicInstitutionName,
                [this.productPageMetaInfoDID]: this.dynamicDId,
                [this.productPageMetaInfoDepartmentName]: this.dynamicDepartmentName,
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase(),
                [this.productPageMetaInfoDisciplineIds]: this.dynamicDisciplineIds,
                [this.productPageMetaInfoDisciplineNames]: this.dynamicDisciplineNames,
                [this.productPageMetaInfoSubjectIds]: this.dynamicSubjectIds,
                [this.productPageMetaInfoSubjectNames]: this.dynamicSubjectNames,
                [this.productPageMetaInfoStudyTerms]: this.dynamicStudyTerms,
                [this.productPageMetaInfoStudyTypes]: this.dynamicStudyTypes,
                [this.productPageMetaInfoLocationCountryName]: this.dynamicLocationCountryName,
                [this.productPageMetaInfoLocationCityName]: this.dynamicLocationCityName,
                [this.productPageMetaInfoProgrammeTypes]: this.dynamicProgrammeTypes,
                [this.productPageMetaInfoTheId]: this.dynamicAdId,
                [this.productPageMetaInfoProductId]: this.dynamicProductId
            });
        }


        this.EmailEnquiry = function (iId,
            institutionName,
            dId,
            bpIdpId,
            departmentName,
            userInfoUserID,
            isUserSignedIn,
            productType) {

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.EmailEnquiry,
                [this.ProductPageType]: this.GetProductType(productType),
                [this.PageCategory]: pushProperty.PageCategory.Products,
                [this.productPageMetaInfoIID]: iId,
                [this.productPageMetaInfoInstitutionName]: institutionName,
                [this.productPageMetaInfoDID]: dId,
                [this.productPageMetaInfoBPIDPID]: bpIdpId,
                [this.productPageMetaInfoDepartmentName]: departmentName,
                [this.productPageMetaInfoPageNameTitle]: pageName,
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase(),
                [this.productPageMetaInfoDisciplineIds]: this.dynamicDisciplineIds,
                [this.productPageMetaInfoDisciplineNames]: this.dynamicDisciplineNames,
                [this.productPageMetaInfoSubjectIds]: this.dynamicSubjectIds,
                [this.productPageMetaInfoSubjectNames]: this.dynamicSubjectNames,
                [this.productPageMetaInfoStudyTerms]: this.dynamicStudyTerms,
                [this.productPageMetaInfoStudyTypes]: this.dynamicStudyTypes,
                [this.productPageMetaInfoLocationCountryName]: this.dynamicLocationCountryName,
                [this.productPageMetaInfoLocationCityName]: this.dynamicLocationCityName,
                [this.productPageMetaInfoProgrammeTypes]: this.dynamicProgrammeTypes,
                [this.productPageMetaInfoProductId]: this.dynamicProductId
            });
        }



        this.StudyFairRegistration = function (interactionType,
            campaingnTag,
            studyFairEventName,
            studyFairEventLocation,
            bpIdpId,
            userInfoUserID,
            isUserSignedIn,
            productType) {

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.StudyFairRegistration,
                [this.ProductPageType]: this.GetProductType(productType),
                [this.PageCategory]: pushProperty.PageCategory.StudyFairEvents,
                [this.productPageMetaInfoCampaignTag]: campaingnTag,
                [this.productPageMetaInfoStudyFairEventName]: studyFairEventName,
                [this.productPageMetaInfoStudyFairEventLocation]: studyFairEventLocation,
                [this.productPageMetaInfoBPIDPID]: bpIdpId,
                [this.InteractionType]: this.GetInteractionType(interactionType),
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase()
            });
        }

        this.StudyFairAttended = function (interactionType,
            campaingnTag,
            studyFairEventName,
            studyFairEventLocation,
            bpIdpId,
            userInfoUserID,
            isUserSignedIn,
            productType) {

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.StudyFairAttended,
                [this.ProductPageType]: this.GetProductType(productType),
                [this.PageCategory]: pushProperty.PageCategory.StudyFairEvents,
                [this.productPageMetaInfoCampaignTag]: campaingnTag,
                [this.productPageMetaInfoStudyFairEventName]: studyFairEventName,
                [this.productPageMetaInfoStudyFairEventLocation]: studyFairEventLocation,
                [this.productPageMetaInfoBPIDPID]: bpIdpId,
                [this.InteractionType]: this.GetInteractionType(interactionType),
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase()
            });
        }

        this.Impression = function (
            userInfoUserID,
            isUserSignedIn,
            productType = '',
            urlPath = '',
            searchListingTitle = '') {

            if (urlPath == undefined || urlPath == '') {
                urlPath = window.location.pathname;
            }
            if (productType != undefined && productType != '') {
                productType = this.GetProductType(productType);
            }

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.Impression,
                [this.ProductPageType]: productType,
                [this.PageCategory]: this.GetPageCategory(urlPath),
                [this.productPageMetaInfoPageNameTitle]: pageName,
                [this.productPageMetaInfoTheId]: this.dynamicAdId,
                [this.productPageMetaInfoBPIDPID]: this.dynamicBpIdpId,
                [this.productPageMetaInfoIID]: this.dynamicIId,
                [this.productPageMetaInfoInstitutionName]: this.dynamicInstitutionName,
                [this.productPageMetaInfoDID]: this.dynamicDId,
                [this.productPageMetaInfoPositionInSearchResults]: this.dynamicPositionInSearch,
                [this.productPageMetaInfoPositionInContent]: this.dynamicPositionInContent,
                [this.productPageMetaInfoDepartmentName]: this.dynamicDepartmentName,
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase(),
                [this.productPageMetaInfoDisciplineIds]: this.dynamicDisciplineIds,
                [this.productPageMetaInfoDisciplineNames]: this.dynamicDisciplineNames,
                [this.productPageMetaInfoSubjectIds]: this.dynamicSubjectIds,
                [this.productPageMetaInfoSubjectNames]: this.dynamicSubjectNames,
                [this.productPageMetaInfoStudyTerms]: this.dynamicStudyTerms,
                [this.productPageMetaInfoStudyTypes]: this.dynamicStudyTypes,
                [this.productPageMetaInfoLocationCountryName]: this.dynamicLocationCountryName,
                [this.productPageMetaInfoLocationCityName]: this.dynamicLocationCityName,
                [this.productPageMetaInfoProgrammeTypes]: this.dynamicProgrammeTypes,
                [this.productPageMetaInfoSearchListingTitle]: searchListingTitle,
                [this.productPageMetaInfoProductId]: this.dynamicProductId
            });

            this.ResetDynamicProperties();
        }

        this.AdClick = function (
            userInfoUserID,
            isUserSignedIn,
            productType = '',
            urlPath = '') {

            if (urlPath == undefined || urlPath == '') {
                urlPath = window.location.pathname;
            }
            if (productType != undefined && productType != '') {
                productType = this.GetProductType(productType);
            }

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.AdClick,
                [this.ProductPageType]: productType,
                [this.PageCategory]: this.GetPageCategory(urlPath),
                [this.productPageMetaInfoPageNameTitle]: pageName,
                [this.productPageMetaInfoTheId]: this.dynamicAdId,
                [this.productPageMetaInfoBPIDPID]: this.dynamicBpIdpId,
                [this.productPageMetaInfoIID]: this.dynamicIId,
                [this.productPageMetaInfoInstitutionName]: this.dynamicInstitutionName,
                [this.productPageMetaInfoDID]: this.dynamicDId,
                [this.productPageMetaInfoDepartmentName]: this.dynamicDepartmentName,
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase(),
                [this.productPageMetaInfoDisciplineIds]: this.dynamicDisciplineIds,
                [this.productPageMetaInfoDisciplineNames]: this.dynamicDisciplineNames,
                [this.productPageMetaInfoSubjectIds]: this.dynamicSubjectIds,
                [this.productPageMetaInfoSubjectNames]: this.dynamicSubjectNames,
                [this.productPageMetaInfoStudyTerms]: this.dynamicStudyTerms,
                [this.productPageMetaInfoStudyTypes]: this.dynamicStudyTypes,
                [this.productPageMetaInfoLocationCountryName]: this.dynamicLocationCountryName,
                [this.productPageMetaInfoLocationCityName]: this.dynamicLocationCityName,
                [this.productPageMetaInfoProgrammeTypes]: this.dynamicProgrammeTypes
            });

            this.ResetDynamicProperties();
        }

        this.PageViewedInfo = function (
            userInfoUserID,
            isUserSignedIn,
            productType = '',
            urlPath = '') {

            if (urlPath == undefined || urlPath == '') {
                urlPath = window.location.pathname;
            }
            if (productType != undefined && productType != '') {
                productType = this.GetProductType(productType);
            } else if (dataLayerPagePropertyType != undefined && dataLayerPagePropertyType != "") {
                productType = this.GetProductType(dataLayerPagePropertyType);
            }

            if (this.dynamicSearchBlurbIncluded != undefined) {
                this.dynamicSearchBlurbIncluded = this.dynamicSearchBlurbIncluded.toString().toLowerCase();
            }

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.PageViewedInfo,
                [this.ProductPageType]: productType,
                [this.PageCategory]: this.GetPageCategory(urlPath),
                [this.productPageMetaInfoPageNameTitle]: pageName,
                [this.productPageMetaInfoCampaignTag]: this.dynamicCampaignTag,
                [this.productPageMetaInfoBPIDPID]: this.dynamicBpIdpId,
                [this.productPageMetaInfoIID]: this.dynamicIId,
                [this.productPageMetaInfoInstitutionName]: this.dynamicInstitutionName,
                [this.productPageMetaInfoDID]: this.dynamicDId,
                [this.productPageMetaInfoAuthor]: this.dynamicAuthor,
                [this.productPageMetaInfoDepartmentName]: this.dynamicDepartmentName,
                [this.productPageMetaInfoContentTag]: this.dynamicContentTag,
                [this.productPageMetaInfoStudyFairEventName]: this.dynamicStudyFairEventName,
                [this.productPageMetaInfoStudyFairEventLocation]: this.dynamicStudyFairEventLocation,
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase(),
                [this.productPageMetaInfoContentStartDate]: this.dynamicContentStartDate,
                [this.productPageMetaInfoContentModifiedDate]: this.dynamicContentModifiedDate,
                [this.productPageMetaInfoContentCreationDate]: this.dynamicContentCreationDate,
                [this.productPageMetaInfoDisciplineIds]: this.dynamicDisciplineIds,
                [this.productPageMetaInfoDisciplineNames]: this.dynamicDisciplineNames,
                [this.productPageMetaInfoSubjectIds]: this.dynamicSubjectIds,
                [this.productPageMetaInfoSubjectNames]: this.dynamicSubjectNames,
                [this.productPageMetaInfoStudyTerms]: this.dynamicStudyTerms,
                [this.productPageMetaInfoStudyTypes]: this.dynamicStudyTypes,
                [this.productPageMetaInfoLocationCountryName]: this.dynamicLocationCountryName,
                [this.productPageMetaInfoLocationCityName]: this.dynamicLocationCityName,
                [this.productPageMetaInfoProgrammeTypes]: this.dynamicProgrammeTypes,
                [this.productPageMetaInfoSearchBlurbIncluded]: this.dynamicSearchBlurbIncluded,
                [this.productPageMetaInfoProductId]: this.dynamicProductId
            });

            this.ResetDynamicProperties();
        }

        this.ProvidersEmailEnquiry = function (
            userInfoUserID,
            isUserSignedIn,
            productType) {

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.ProvidersEmailEnquiry,
                [this.ProductPageType]: this.GetProductType(productType),
                [this.PageCategory]: pushProperty.PageCategory.Providers,
                [this.productPageMetaInfoPageNameTitle]: pageName,
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase()
            });
        }


        this.ProvidersOrderForm = function (
            userInfoUserID,
            isUserSignedIn,
            productType) {

            dataLayer.push({
                [this.Ga4EventName]: pushProperty.Ga4EventNames.ProvidersOrderForm,
                [this.ProductPageType]: this.GetProductType(productType),
                [this.PageCategory]: pushProperty.PageCategory.Providers,
                [this.productPageMetaInfoPageNameTitle]: pageName,
                [this.UserId]: userInfoUserID,
                [this.UserLoggedIn]: isUserSignedIn.toLowerCase()
            });
        }

        this.GetInteractionType = function (interactionType) {
            var loginSource = '';

            if (interactionType != undefined && interactionType != '') {

                if (interactionType.toLowerCase() == 'modal') {
                    loginSource = pushProperty.InteractionType['Modal'];
                } else if (interactionType.toLowerCase() == 'cta') {
                    loginSource = pushProperty.InteractionType['CTA'];
                }
            }
            return loginSource;
        }

        this.GetProductType = function (productType) {
            var checkedProductType = '';

            if (productType != undefined && productType != '') {

                if (productType.toLowerCase() == 'billboard') {
                    checkedProductType = pushProperty.ProductPageTypes['Billboard'];
                } else if (productType.toLowerCase() == 'insearchbanner') {
                    checkedProductType = pushProperty.ProductPageTypes['InSearchBanner'];
                } else if (productType.toLowerCase() == 'incontentbanner') {
                    checkedProductType = pushProperty.ProductPageTypes['InContentBanner'];
                } else if (productType.toLowerCase() == 'minispot') {
                    checkedProductType = pushProperty.ProductPageTypes['MiniSpot'];
                } else if (productType.toLowerCase() == 'skyscraper') {
                    checkedProductType = pushProperty.ProductPageTypes['Skyscraper'];
                } else if (productType.toLowerCase() == 'spotlight') {
                    checkedProductType = pushProperty.ProductPageTypes['Spotlight'];
                } else if (productType.toLowerCase() == 'custompage') {
                    checkedProductType = pushProperty.ProductPageTypes['CustomPage'];
                } else if (productType.toLowerCase() == 'departmentprofile') {
                    checkedProductType = pushProperty.ProductPageTypes['DepartmentProfile'];
                } else if (productType.toLowerCase() == 'studyfairinperson') {
                    checkedProductType = pushProperty.ProductPageTypes['StudyFairInPerson'];
                } else if (productType.toLowerCase() == 'studyfairvirtual') {
                    checkedProductType = pushProperty.ProductPageTypes['StudyFairVirtual'];
                } else if (productType.toLowerCase() == 'featuredopenday') {
                    checkedProductType = pushProperty.ProductPageTypes['FeaturedOpenDay'];
                } else if (productType.toLowerCase() == 'featuredprogramme') {
                    checkedProductType = pushProperty.ProductPageTypes['FeaturedProgramme'];
                } else if (productType.toLowerCase() == 'featuredprogrammesubpage') {
                    checkedProductType = pushProperty.ProductPageTypes['FeaturedProgrammeSubPage'];
                } else if (productType.toLowerCase() == 'featuredscholarship') {
                    checkedProductType = pushProperty.ProductPageTypes['FeaturedScholarship'];
                } else if (productType.toLowerCase() == 'institutionprofile') {
                    checkedProductType = pushProperty.ProductPageTypes['InstitutionProfile'];
                } else if (productType.toLowerCase() == 'myaccount') {
                    checkedProductType = pushProperty.ProductPageTypes['MyAccount'];
                } else if (productType.toLowerCase() == 'standardprogramme') {
                    checkedProductType = pushProperty.ProductPageTypes['StandardProgramme'];
                } else if (productType.toLowerCase() == 'none') {
                    checkedProductType = pushProperty.ProductPageTypes['None'];
                } else if (productType.toLowerCase() == 'homepage') {
                    checkedProductType = pushProperty.ProductPageTypes['Homepage'];
                } else if (productType.toLowerCase() == 'homepagefeaturedinstitution') {
                    checkedProductType = pushProperty.ProductPageTypes['HomepageFeaturedInstitution'];
                } else if (productType.toLowerCase() == 'homepagefeaturedvideo') {
                    checkedProductType = pushProperty.ProductPageTypes['HomepageFeaturedVideo'];
                }
            }
            return checkedProductType;
        }

        this.GetPageCategory = function (urlPath) {
            var productType = "";
            urlPath = urlPath.toLowerCase();
            var urlPathSplit = urlPath.split('?')
            urlPath = urlPathSplit[0];
            if (urlPath == "/" || urlPath == "default.aspx" || urlPath == "default2.aspx") {
                productType = pushProperty.PageCategory.Homepage;
            }
            else {

                if (urlPath.startsWith("/blog/")) {
                    productType = pushProperty.PageCategory.Blog;
                } else if (urlPath.startsWith("/events/")) {
                    productType = pushProperty.PageCategory.StudyEventFairs;
                } else if (urlPath.startsWith("/funding/") || urlPath.startsWith("/study-abroad/") || urlPath.startsWith("/guides/") || urlPath.startsWith("/advice/")) {
                    productType = pushProperty.PageCategory.Evergreen;
                } else if (urlPath.startsWith("/providers/")) {
                    productType = pushProperty.PageCategory.Providers;
                } else if (urlPath.startsWith("/opendays/")) {
                    productType = pushProperty.PageCategory.Opendays;
                } else if (urlPath.startsWith("/masters-degrees/course/") || urlPath.startsWith("/masters-degrees/department/") || urlPath.startsWith("/masters-degrees/institution/")) {
                    productType = pushProperty.PageCategory.Products;
                } else if (urlPath.startsWith("/masters-degrees/")) {
                    productType = pushProperty.PageCategory.Search;
                }

            }
            return productType;
        }
        
    }




if (fau.cookies.read("FauUserInfo")) {

    var ctry = (fau.cookies.getSubValue("FauUserInfo", "ctry") ? fau.cookies.getSubValue("FauUserInfo", "ctry") : "");
    var city = (fau.cookies.getSubValue("FauUserInfo", "city") ? fau.cookies.getSubValue("FauUserInfo", "city") : "");

    // if city is empty, then try and get extra geo data
    if (city == "") {
        $.getJSON("https://api.permutive.com/v2.0/geoip?k=ce6f3d8c-1a3c-4dec-95d5-5182609cff8a", function (userGeo) {

            var geoCity = "";
            var geoCountry = "";
            var geoPost = "";
            var geoCont = "";
            if (userGeo != undefined && userGeo.geo_info != undefined) {
                if (userGeo.geo_info.city != undefined && userGeo.geo_info.city != "") {
                    city = userGeo.geo_info.city;
                    geoCity = "&city=" + city;
                }
                if (userGeo.geo_info.country != undefined && userGeo.geo_info.country != "") {
                    geoCountry = "&coun=" + userGeo.geo_info.country;
                }
                if (userGeo.geo_info.postal_code != undefined && userGeo.geo_info.postal_code != "") {
                    geoPost = "&post=" + userGeo.geo_info.postal_code;
                }
                // replaces continent value with one from Geoip API as Permutive Insights needs these to all be the same (it doesn't need the countrycode value but it might need to do a server lookup here for this, if it ever does)
                if (userGeo.geo_info.continent != undefined && userGeo.geo_info.continent != "") {
                    geoCont = "&cont=" + userGeo.geo_info.continent;
                }

                // If Permutive geoip data is writing to the userInfo cookie but Continent isn't changed then overwrite the Cloudflare Continent value so it is blank (otherwise the wrong continent would still be populated alongside the different country data from Permutive)
                if ((geoCountry != "" || geoCity != "" || geoPost != "") && geoCont == "") {
                    geoCont = "";
                }
            }
            fau.cookies.add("FauUserInfo", "ctry=" + ctry + geoCont + geoCity + geoCountry + geoPost, 7);
            //add geo data to dataLayer
            window.dataLayer.push({ 'fau.user.geo.city': city, 'fau.user.geo.country': ctry });
        });
    } else {
        //add geo data to dataLayer
        window.dataLayer.push({ 'fau.user.geo.city': city, 'fau.user.geo.country': ctry });
    }

}
    $(document).ready(function () {
        fau.anchorScroll.makeAnchorsOnPageScrollToo();

        try {
            hash = window.location.hash;
            if (hash) {
                $(window).scrollTop();
                $(window).load(function () {
                    var t = setTimeout(function () { fau.anchorScroll.scrollDownPage() }, 1);
                });
            }
        }
        catch (err) {
            console.log(err);
        }
    });
</script>

<script>
    !function (f, b, e, v, n, t, s) {
        if (f.fbq) return; n = f.fbq = function () {
            n.callMethod ?
            n.callMethod.apply(n, arguments) : n.queue.push(arguments)
        }; if (!f._fbq) f._fbq = n;
        n.push = n; n.loaded = !0; n.version = '2.0'; n.queue = []; t = b.createElement(e); t.async = !0;
        t.src = v; s = b.getElementsByTagName(e)[0]; s.parentNode.insertBefore(t, s)
    }(window,
        document, 'script', 'https://connect.facebook.net/en_US/fbevents.js?v=2.9.4');



    fbq('init', '841677565917748');
    fbq('track', "PageView");</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=841677565917748&ev=PageView&noscript=1"
/></noscript>

<script>
        var t = setTimeout(function () { getPSegmentsSiteWide(); }, 500);
        // get permutive segments and pass to AdGlare
        function getPSegmentsSiteWide() {
            var AGSitewideFilter = "";
            var _psegments = "" + JSON.parse(localStorage.getItem("_psegs"));
            var _ppatt = /,/gi;
            var AG_snippet = "";
            if (_psegments != null) AGSitewideFilter = AGSitewideFilter + "|_" + _psegments.replace(_ppatt, "_,_") + "_|";
            if (!navigator || !navigator.userAgent || /Googlebot/.test(navigator.userAgent) == false) {
                AG_snippet = "<div id=zone108827778 class='zoneOuter' style='padding: 5px;height 160px;'></div><script>(function () {var s = document.createElement('script');s.type = 'text/javascript'; s.async = true;s.src = '//engine.findamasters.com/?108827778&keywords=" + AGSitewideFilter + "';var n = document.getElementsByTagName('script')[0];n.parentNode.insertBefore(s, n);})();<\/script>";
                var t1 = setTimeout(function () { $('#adGlare-sitewide-targetted-spot').html(AG_snippet); }, 500);

                //GA Audience snippit
                window.dataLayer = window.dataLayer || {};
                if (AGSitewideFilter!="") window.dataLayer.push({ "dynx_itemid_permutivesegs": AGSitewideFilter });
                //-------------------
            }
        }
    </script>
<script>
    function triggerBasicSignInPopup(){
        $('#providerModal').html($('#providerModalLogin').html());
        $('#providerModal').modal('show'); $('iframe.fau-login-iframe').iFrameResize();
        fau.signup_win.toggleSignupArea();
        _SelectedSignInType = 'Basic';
        setSignInType();
    }
</script>
<script>
    if (sessionStorage.length > 0){
    if(sessionStorage.getItem('showSignupConfirmation') === null) {} else {
    var signupTypeSessionStorage = sessionStorage.getItem('showSignupConfirmation')
    sessionStorage.setItem('showSignupConfirmation', '');
    $(document).ready(function(){
            if (signupTypeSessionStorage === 'Newsletter') {                  
            $('#loginToast').toast('dispose');
            $('#loginToastText').html('Thanks for creating an account');
            $('#loginToastIcon').html("<i class='fa-regular fa-lg fa-circle-check text-green'></i>");
            $('#loginToast').toast('show');
        } else if (signupTypeSessionStorage === 'Basic') {
            $('#loginToast').toast('dispose');
            $('#loginToastText').html('Thanks for creating an account');
            $('#loginToastIcon').html("<i class='fa-regular fa-lg fa-circle-check text-green'></i>");
            $('#loginToast').toast('show');
        } else if (signupTypeSessionStorage === 'Shortlist') {
            $('#loginToast').toast('dispose');
            $('#loginToastText').html('Programme saved to <a style="text-decoration: underline;" class="text-reset" href="/myaccount/saved-courses.aspx">your account</a>');
            $('#loginToastIcon').html("<i class='fa-regular fa-lg fa-circle-check text-green'></i>");
            $('#loginToast').toast('show');
        }
    });
        
}
}
</script>

<link href="/bundles/MastersDegreesScss.css?v=0SPypkG0kF5gm3_um0aP_Ol8CPMm6ndPSzjMrRvGDfU1" rel="stylesheet" />
<script src="/bundles/MastersDegreeJs.js?v=LNl3q1KavhWVRyUvyZiUdzeOSAgdFh7xnukNaXfqddg1"></script>
<script src="/bundles/emailEnquiryFullJs.js?v=BlvK1yfUV8LCmoifkoqqzIN_HrdmcRJlBFLw5z1s_f81"></script>
<script>
        $(document).ready(function () {
            showSearch();
        });
        // detects if the page was reached from the back / forward browser buttons and then replaces the page with a reloaded one in the browser history (seems to work in all browsers)
        const perfEntries = performance.getEntriesByType('navigation');
        if (perfEntries.length && perfEntries[0].type === 'back_forward') {
            window.location.replace(window.location.href);
        }
        $(document).ready(function () {
            //$("#EmailTitle").before($('.callToAction').clone());
            if (window.location.hash == "#EmailArea") {
                setTimeout(function () {
                    var emailPanel = $('#EmailArea');
                    var height = emailPanel.height();
                    var scrollTop = emailPanel.offset().top - ($(window).height() / 2) + (height / 2); $('html, body').animate({ scrollTop: scrollTop }, 700);
                }, 700);
            }
        });
        function setUTM(instid, bpid, isTracking) {
            if (fau.cookies.read("utmTrackIID") == "") {

                fau.cookies.add("utmTrackable", isTracking);
                fau.cookies.add("utmTrackIID", instid);
                fau.cookies.add("utmcampaign", "bpid[" + bpid + "]");
                fau.cookies.add("utmmedium", "featuredListing");
            }
            else {
                if (fau.cookies.read("utmTrackIID") != instid) {

                    fau.cookies.add("utmTrackable", isTracking);
                    fau.cookies.add("utmTrackIID", instid);
                    fau.cookies.add("utmcampaign", "bpid[" + bpid + "]");
                    fau.cookies.add("utmmedium", "featuredListing");
                }
                else {
                    if (fau.cookies.read("utmTrackIID") == instid && fau.cookies.read("utmmedium") != "display") {

                        fau.cookies.add("utmTrackable", isTracking);
                        fau.cookies.add("utmTrackIID", instid);
                        fau.cookies.add("utmcampaign", "bpid[" + bpid + "]");
                        fau.cookies.add("utmmedium", "featuredListing");
                    }
                }
            }
        }
        //fau.hideSignupWindow = true;

    </script>
<meta property="og:title" /></head>
<body class="mas-course-body mas-course-body-new " data-courseid="64503">

<noscript><iframe src="https://sgtm.findamasters.com/ns.html?id=GTM-N4ZFML8"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script type="text/javascript">
    // initiate these variable site wide so they can inject data into the DataLayer Manager
    var dataLayerPagePropertyType = "";
    var dataLayerInstCityLocType = "";
    var dataLayerInstCountryLocType = "";

    var _loginProviderName = ""; // used to show where user logged in, in Javascript

    var searchAdsDisciplineIds = "";
    var searchAdsDisciplineNames = "";
    var searchAdsSubjectIds = "";
    var searchAdsSubjectNames = "";
    var searchAdsStudyTerms = "";
    var searchAdsStudyTypes = "";
    var searchAdsLocationCountryName = "";
    var searchAdsLocationCityName = "";
    var searchAdsProgrammeTypes = "";
  
    var pageLoadHasAlreadyFired =false;


	
	// user logged in so pass shortlist items list to JavaScript so these can be used in count number in the site menu bar
	 //user logged out so disable button in site menu bar that goes to shortlist manager page
		$(document).ready(function() {
            // turns off any shortlist button on the page if there is no one signed in
			fau.shortlist.OverrideShortlistToggleLinks();
		 });
	
 // needs to be outside the document.ready function as it is a global variable and needs to be outside the scope of the method.
var permutiveInsightsCategoryType = "";

 $(document).ready(function() {
	if(permutiveInsightsCategoryType != undefined && permutiveInsightsCategoryType != "")
	{
	var sI1 = setInterval(function(permutiveInsightsCategoryType) {
        if(typeof(PermutiveInsights)!=='undefined') {
            PermutiveInsights.pageLoadEvent(undefined, permutiveInsightsCategoryType);
            clearInterval(sI1);
        }
    },500);
	}
    
    if(pageLoadHasAlreadyFired == false) // only fire if the pageview event hasn't had extra properties attched and fired in a page (this stops duplicate events and is needed because of the timing of events with dynamic properties)
    {
	    DataLayerManager.PageViewedInfo('0', 'False');
    }

    //REMOVED FROM THE SITE AS THERE ARE NO FAULINKS SET UP SO KEEP HERE ONLY FOR WHEN NEEDED
    // Gets the parameters from the FAULink before it goes to the API and deals with UTMTracking before allowing the click to proceed
    // href check is case insensitive because of the "i"
    //$("a[href^='https://phd-admin-api.findauniversity.com/faulink/' i]").on("click", function (event) {
    //    var aLink = $(this);
    //        // prevent click from completing
    //        event.preventDefault();

     //       //get parameters for aqdding to AJAX url (used to process UTM data)
     //       var typeVal = GetParamValueFromUrlStr($(this).attr('href'), 'type');
     //       var typeParam = "";
     //       if (typeVal != undefined && typeVal != "") {
     //           typeParam = "&type=" + typeVal
     //       }
     //       var theIdVal = GetParamValueFromUrlStr($(this).attr('href'), 'theid');
     //       var  theIdParam = "";
     //       if (theIdVal != undefined &&  theIdVal != "") {
     //           theIdParam = "&theid=" +  theIdVal
     //       }

     //       $.ajax({
     //           url: '/common/utmTracker.aspx?url=' + encodeURIComponent($(this).attr('href').split('?')[0]) + typeParam + theIdParam,
     //          type: 'Get',
     //          cache: false,
     //            success: function (result) {
     //              aLink.attr('href', result.utmUrl); // remove params that don't need currently to be sent to the API 

     //               // redirect to url with faulink
     //               window.location = aLink.attr('href');
     //          },
     //           error: function (result, text, args) {
     //              //alert("error");
     //           }
     //       });
    //});

     // user must be logged out
        // added login modal landing page (e.g. http://www.findamasters.com/?#_login_=) for when links want a user to log into the website
	    if (CheckForKeyInUrlStr(window.location.href, '#_login_')) {
            var loginBtn = document.getElementById("navUserLogin");
            if(loginBtn != undefined)
            {
                var aLogin = loginBtn.getElementsByTagName('a')[0];
                if(aLogin != undefined)
                {
                    aLogin.click();
                }
            }
        }
     
});

//extracts parameter value from url string
function CheckForKeyInUrlStr(url, keyName) {

    var value = "";
    var arr = url.split('?');
    if (url.length > 1 && arr[1] != undefined && arr[1] !== '') {
        var arr2 = arr[1].split('&');
        for (var i = 0; i < arr2.length; i++) {
            var arr3 = arr2[i].split('=');
            if (arr3[0].toLowerCase() == keyName) {
                return true;
            }
        }
    }
    return false;
}

//extracts parameter value from url string
function GetParamValueFromUrlStr(url, paramName) {

    var value = "";
    var arr = url.split('?');
    if (url.length > 1 && arr[1] != undefined && arr[1] !== '') {
        var arr2 = arr[1].split('&');
        for (var i = 0; i < arr2.length; i++) {
            var arr3 = arr2[i].split('=');
            if (arr3[0].toLowerCase() == paramName) {
                value = arr3[1];
                console.log(value);
                break;
            }
        }
    }
    return value;
}
    
    // flag to set that stops the current page from firing DataLayer events in the DataLayerManager.js
    var isDataLayerPageDisabled = "False";

    $(document).ready(function() {

        window.focus();

        window.addEventListener("blur", () => {

          setTimeout(() => {
            if (document.activeElement.tagName === "IFRAME") {

              if(document.activeElement.closest('#billboard-inner') !== null)
              {
                  populateProgrammeDetailsPropertiesIfSet();
                  setSearchDataForAddAfterAjax();

                  DataLayerManager.AdClick('0', 'False', 'billboard'); 
                     DataLayerConsoleLog("ad_click");
                     window.focus();
              }
 

              if(document.activeElement.closest('.inSearchAdRow ') !== null)
              {
                  setSearchDataForAddAfterAjax();

                  DataLayerManager.AdClick('0', 'False', 'insearchbanner'); 
                    DataLayerConsoleLog("ad_click");
                    window.focus();
              }
   
              if(document.activeElement.closest('.inContentAdSection') !== null)
              {
                  populateProgrammeDetailsPropertiesIfSet();
                  DataLayerManager.AdClick('0', 'False', 'incontentbanner');
                    DataLayerConsoleLog("ad_click");
                     window.focus();
              }
            }
          });
        });
    });


    function setSearchDataForAddAfterAjax()
    {
        if(searchAdsDisciplineIds != "" && searchAdsDisciplineIds != "")
        {
            DataLayerManager.dynamicDisciplineIds = searchAdsDisciplineIds;
        }

        if(searchAdsDisciplineNames != "" && searchAdsDisciplineNames != "")
        {
            DataLayerManager.dynamicDisciplineNames = searchAdsDisciplineNames;
        }

        if(searchAdsSubjectIds != "" && searchAdsSubjectIds != "")
        {
            DataLayerManager.dynamicSubjectIds =  searchAdsSubjectIds;
        }

        if(searchAdsSubjectNames != "" && searchAdsSubjectNames != "")
        {
            DataLayerManager.dynamicSubjectNames = searchAdsSubjectNames;
        }

        if(searchAdsStudyTerms != "" && searchAdsStudyTerms != "")
        {
            DataLayerManager.dynamicStudyTerms = searchAdsStudyTerms;
        }

        if(searchAdsStudyTypes != "" && searchAdsStudyTypes != "")
        {
            DataLayerManager.dynamicStudyTypes =  searchAdsStudyTypes;
        }

        if(searchAdsLocationCountryName != "" && searchAdsLocationCountryName != "")
        {
            DataLayerManager.dynamicLocationCountryName = searchAdsLocationCountryName;
        }

        if(searchAdsLocationCityName != "" && searchAdsLocationCityName != "")
        {
            DataLayerManager.dynamicLocationCityName =  searchAdsLocationCityName;
        }

        if(searchAdsProgrammeTypes != "" && searchAdsProgrammeTypes != "")
        {
            DataLayerManager.dynamicProgrammeTypes =  searchAdsProgrammeTypes;
        }

    }

    function populateProgrammeDetailsPropertiesIfSet()
    {
        //Used reflection to stop errors if pages don't include masBasePage

        

        if("17,25,4" != "")
        {
            DataLayerManager.dynamicDisciplineIds = "17,25,4";
        }

        
        
        if("Geography,Mathematics,Biological Sciences" != "")
        {
            DataLayerManager.dynamicDisciplineNames = "Geography,Mathematics,Biological Sciences";
        }
        
        
        if("1701,2502,2505,2507,411,414,2516" != "")
        {
            DataLayerManager.dynamicSubjectIds = "1701,2502,2505,2507,411,414,2516";
        }
         
               
        if("Environmental Geography,Applied Mathematics,Mathematical Modelling,Computational Mathematics,Ecology - Biodiversity,Ecology - Conservation,Mathematics - Other" != "")
        {
            DataLayerManager.dynamicSubjectNames = "Environmental Geography,Applied Mathematics,Mathematical Modelling,Computational Mathematics,Ecology - Biodiversity,Ecology - Conservation,Mathematics - Other";
        }
        
                
        if("September" != "")
        {
            DataLayerManager.dynamicStudyTerms = "September";
        }
        
               
        if("Full Time,On Campus" != "")
        {
            DataLayerManager.dynamicStudyTypes = "Full Time,On Campus";
        }
        
                
        if("United Kingdom" != "")
        {
            DataLayerManager.dynamicLocationCountryName = "United Kingdom";
        }
         
               
        if("" != "")
        {
            DataLayerManager.dynamicLocationCityName = "";
        }
          
            
        if("MSc" != "")
        {
            DataLayerManager.dynamicProgrammeTypes =   "MSc";
        }
    }

    function DataLayerAdClick(adType, adId, institutionName, instId)
    {
        DataLayerManager.dynamicAdId = adId;
        DataLayerManager.dynamicInstitutionName = institutionName;
        DataLayerManager.dynamicIId = instId;
        DataLayerManager.AdClick('0', 'False', adType); 
       
        DataLayerConsoleLog("ad_click");
    }

    
    function DataLayerAdImpression(adType, adId, institutionName, instId, pageId = "", productId = "") // optional page_id field that is only used in inst profile on programme pages currently
    {
        DataLayerManager.dynamicAdId = adId;
        DataLayerManager.dynamicInstitutionName = institutionName;
        DataLayerManager.dynamicIId = instId;
        DataLayerManager.dynamicBpIdpId = pageId;
        DataLayerManager.dynamicProductId = productId;

        populateProgrammeDetailsPropertiesIfSet();
        setSearchDataForAddAfterAjax();

        DataLayerManager.Impression('0', 'False', adType); 
    }

    function DataLayerDepartmentImpression(adType, institutionName, instId, departmentName, departmentId, productId = "")
    {
        DataLayerManager.dynamicDepartmentName = departmentName;
        DataLayerManager.dynamicDId = departmentId;
        DataLayerManager.dynamicInstitutionName = institutionName;
        DataLayerManager.dynamicIId = instId;
        DataLayerManager.dynamicProductId = productId;

        DataLayerManager.Impression('0', 'False', adType); 
    }

    function DataLayerAdImpressionSearch(adType, positionInSearch)
    {
                    
        setSearchDataForAddAfterAjax();

        DataLayerManager.dynamicPositionInSearch = positionInSearch;
        DataLayerManager.Impression('0', 'False', adType); 
    }
    
    function DataLayerImpressionSearchResult(adType, progName)
    {
        setSearchDataForAddAfterAjax();

        DataLayerManager.Impression('0', 'False', adType, '', progName); 
    }
    
    function DataLayerAdImpressionContent(adType, positionInContent, productId = "")
    {     
        populateProgrammeDetailsPropertiesIfSet();

        DataLayerManager.dynamicPositionInContent = positionInContent;
        DataLayerManager.dynamicProductId = productId;
        DataLayerManager.Impression('0', 'False', adType); 
    }

    function DataLayerRefInternal(adType, institutionName, instId, productId = "")
    {
        DataLayerManager.dynamicInstitutionName = institutionName;
        DataLayerManager.dynamicIId = instId;
        DataLayerManager.dynamicProductId = productId;

        populateProgrammeDetailsPropertiesIfSet();
        
        DataLayerManager.ReferralInternal('0', 'False', adType); 
       
        DataLayerConsoleLog("referral_internal");
    }

    function DataLayerRefInternalAsAd(adType, institutionName, instId, adId)
    {
        DataLayerManager.dynamicInstitutionName = institutionName;
        DataLayerManager.dynamicIId = instId;
        DataLayerManager.dynamicAdId = adId;

        populateProgrammeDetailsPropertiesIfSet();
        
        DataLayerManager.ReferralInternal('0', 'False', adType); 
       
        DataLayerConsoleLog("referral_internal");
    }
        
    function DataLayerRefInternalFull(instId, institutionName, dId, bpIdpId, departmentName, adType, productId = "")
    {
        DataLayerManager.dynamicInstitutionName = institutionName;
        DataLayerManager.dynamicIId = instId;
        DataLayerManager.dynamicDId = dId;
        DataLayerManager.dynamicBpIdpId = bpIdpId;
        DataLayerManager.dynamicDepartmentName = departmentName;
        DataLayerManager.dynamicProductId = productId;

        populateProgrammeDetailsPropertiesIfSet();

        DataLayerManager.ReferralInternal('0', 'False', adType); 
       
        DataLayerConsoleLog("referral_internal");
    }
            
    function DataLayerRefExternalFull(instId, institutionName, dId, bpIdpId, departmentName, adType, productId = "")
    {
        DataLayerManager.dynamicInstitutionName = institutionName;
        DataLayerManager.dynamicIId = instId;
        DataLayerManager.dynamicDId = dId;
        DataLayerManager.dynamicBpIdpId = bpIdpId;
        DataLayerManager.dynamicDepartmentName = departmentName;
        DataLayerManager.dynamicProductId = productId;

        populateProgrammeDetailsPropertiesIfSet();

        DataLayerManager.ReferralExternal('0', 'False', adType); 

        DataLayerConsoleLog("referral_external");
    }

    function DataLayerConsoleLog(eventName)
    {
        var index = dataLayer.findIndex(object => {
            return object.event === eventName;
        });
        console.log(JSON.stringify(dataLayer[index]));
    }
    
</script>
<script>
        $(document).ready(function () { // needs to fire on DOM ready so the H1 header can be read for pagename
            //page view dynamic properties (these get emptied after use)
            DataLayerManager.dynamicIId = 302;
                DataLayerManager.dynamicInstitutionName = "University of Exeter";
                DataLayerManager.dynamicDId = "8985";
                DataLayerManager.dynamicDepartmentName = "Mathematics and Statistics";
                DataLayerManager.dynamicBpIdpId = "64503";
                DataLayerManager.dynamicDisciplineIds = "17,25,4";
                DataLayerManager.dynamicDisciplineNames = "Geography,Mathematics,Biological Sciences";
                DataLayerManager.dynamicSubjectIds = "1701,2502,2505,2507,411,414,2516";
                DataLayerManager.dynamicSubjectNames = "Environmental Geography,Applied Mathematics,Mathematical Modelling,Computational Mathematics,Ecology - Biodiversity,Ecology - Conservation,Mathematics - Other";
                DataLayerManager.dynamicStudyTerms = "September";
                DataLayerManager.dynamicStudyTypes = "Full Time,On Campus";
                DataLayerManager.dynamicLocationCountryName = "United Kingdom";
                DataLayerManager.dynamicLocationCityName = "";
                DataLayerManager.dynamicProgrammeTypes = "MSc";
                DataLayerManager.dynamicProductId = ""; 

                
                dataLayerPagePropertyType = "standardProgramme";
                


                DataLayerManager.PageViewedInfo('0', 'False');
            });

        pageLoadHasAlreadyFired = true; // represses the PageViewedInfo event in body.inc from firing

        //EmailEnquiry
        function SendDataLayerEmailEnquiry() {
            DataLayerManager.dynamicDisciplineIds = "17,25,4";
                DataLayerManager.dynamicDisciplineNames = "Geography,Mathematics,Biological Sciences";
                DataLayerManager.dynamicSubjectIds = "1701,2502,2505,2507,411,414,2516";
                DataLayerManager.dynamicSubjectNames = "Environmental Geography,Applied Mathematics,Mathematical Modelling,Computational Mathematics,Ecology - Biodiversity,Ecology - Conservation,Mathematics - Other";
                DataLayerManager.dynamicStudyTerms = "September";
                DataLayerManager.dynamicStudyTypes = "Full Time,On Campus";
                DataLayerManager.dynamicLocationCountryName = "United Kingdom";
                DataLayerManager.dynamicLocationCityName = "";
                DataLayerManager.dynamicProgrammeTypes = "MSc";
                DataLayerManager.dynamicProductId = ""; 
                DataLayerManager.EmailEnquiry(302, "University of Exeter", "8985", "64503", "Mathematics and Statistics", 0, "False", dataLayerPagePropertyType);

            /*DataLayerDisciplineIds,DataLayerDisciplineNames, DataLayerSubjectIds, DataLayerSubjectNames, DataLayerStudyTerms, DataLayerStudyTypes, DataLayerLocationCountryName, DataLayerLocationCityName*/

            //var index = dataLayer.findIndex(object => {
            //    return object.event === "email_enquiry";
            //});

            //console.log(JSON.stringify(dataLayer[index]));
        }



    </script>
<div id="header" class="search-header-bar">
<div id="header-inner">

<nav id="sitemenu" class="navbar navbar-expand-lg py-0 bg-white border-bottom border-light"><a class="navbar-brand p-0" href="/" title="FindAMasters.com"><img id="logo" height="30px" src="https://fau-res.cloudinary.com/image/upload/h_30,c_scale/mas/logo-color-cropped.svg" alt="FindAMasters.com" /></a><div Class="collapse navbar-collapse siteMenu" id="navbarNav">
<ul class="navbar-nav mx-auto siteMenu">
<li class="siteMenu__item" data-menu-type="programmes">Programmes <i class="fa-regular fa-angle-down"></i><i class="fa-regular fa-angle-up"></i></li>
<div id="programmes" class="nav-option nav-option__programmes">
<div class="container">
<div class="nav-option__col">
<h3>Masters Programmes</h3>
<a href="/masters-degrees/discipline/">Masters by discipline</a>
<a href="/masters-degrees/subject/">Masters by subject</a>
<a href="/masters-degrees/country/">Masters by country</a>
<a href="/masters-degrees/online-distance-learning/">Online Masters programmes</a>
<a href="/masters-degrees/part-time/">Part time Masters programmes</a>
<a href="/masters-degrees/last-minute-courses/">Start a Masters in 2023</a>
<a style="font-weight: 600;" href="/masters-degrees/">View all Masters programmes</a>
</div>
<div class="nav-option__col">
<h3>Masters by discipline</h3>
<a href="/masters-degrees/psychology/">Psychology</a>
<a href="/masters-degrees/business-and-management/">Business and Management</a>
<a href="/masters-degrees/nursing-and-health/">Nursing and Health</a>
<a href="/masters-degrees/history-and-archaeology/">History and Archaeology</a>
<a href="/masters-degrees/education/">Education</a>
<a style="font-weight: 600;" href="/masters-degrees/discipline/">Search by discipline</a>
</div>
<div class="nav-option__col">
<h3>Masters by country</h3>
<a href="/masters-degrees/united-kingdom/">United Kingdom</a>
<a href="/masters-degrees/usa/">USA</a>
<a href="/masters-degrees/germany/">Germany</a>
<a href="/masters-degrees/ireland/">Ireland</a>
<a href="/masters-degrees/netherlands/">Netherlands</a>
<a style="font-weight: 600;" href="/masters-degrees/country/">Search by country</a>
</div>
</div>
</div>
<li class="siteMenu__item" data-menu-type="guides">Guides <i class="fa-regular fa-angle-down"></i><i class="fa-regular fa-angle-up"></i></li>
<div id="guides" class="nav-option nav-option__guides">
<div class="container">
<div class="nav-option__col">
<h3>Masters advice</h3>
<a href="/guides/masters-degree-interviews">Masters degree interviews</a>
<a href="/guides/masters-degree-grades">Masters degree grades</a>
<a href="/guides/applying-for-a-masters">Postgraduate applications</a>
<a href="/guides/personal-statement-for-masters-degree">Personal statements</a>
<a href="/guides/postgraduate-certificate-in-education-pgce-guide">PGCE study</a>
<a href="/blog/">Masters blog</a>
<a href="/authors/">Our editorial team</a>
<a style="font-weight: 600;" href="/guides/advice/">View all advice guides</a>
</div>
<div class="nav-option__col">
<h3>Funding information</h3>
<a href="/guides/cost-of-a-masters">Masters degree costs</a>
<a href="/guides/postgraduate-loans-guide">UK postgraduate student loans</a>
<a href="/guides/international-masters-funding-uk">International student funding</a>
<a href="/guides/scholarships">Masters scholarships</a>
<a href="/guides/nhs-funding">NHS funding</a>
<a style="font-weight: 600;" href="/guides/funding/">View all funding information guides</a>
</div>
<div class="nav-option__col">
<h3>International study</h3>
<a href="/guides/masters-study-in-germany">Masters in Germany</a>
<a href="/guides/masters-study-in-usa">Masters in the USA</a>
<a href="/guides/masters-study-in-australia">Masters in Australia</a>
<a href="/guides/masters-study-in-canada">Masters in Canada</a>
<a href="/guides/masters-study-in-uk">Masters in the UK</a>
<a style="font-weight: 600;" href="/guides/study-abroad/">View all international study guides</a>
</div>
</div>
</div>
<li class="siteMenu__item" data-menu-type="events">Events <i class="fa-regular fa-angle-down"></i><i class="fa-regular fa-angle-up"></i></li>
<div id="events" class="nav-option nav-option__events">
<div class="container">
<div class="nav-option__col">
<h3>Postgrad study fairs</h3>
<a href="/events/virtual-fairs/">Virtual study fairs</a>
<a href="/events/postgrad-live/">Postgrad LIVE study fairs</a>
<a href="/events/phd-live/">PhD LIVE study fairs</a>
<a href="/events/postgraduateroadshow">Russell Group Roadshow</a>
<a style="font-weight: 600;" href="/events/calendar.aspx">View all study fairs</a>
</div>
<div class="nav-option__col">
<h3>University open days</h3>
<a href="/opendays/online/">Virtual / Online open days</a>
<a href="/opendays/?on-campus">On campus open days</a>
<a style="font-weight: 600;" href="/opendays/">View all open days</a>
</div>
</div>
</div>
</ul>
<a href="#" onclick="showSearch();return false;" class="mainSearchBtn d-none d-lg-inline-block showSearch mx-3">
<span class="fa-regular fa-search" aria-hidden="true"></span>
</a>
<ul id="navUserLogin" Class="navbar-nav navbar-nav__account d-none d-lg-inline-block small bg-success position-relative mt-n2 mb-n2" style="height: 45px;">
<li class="nav-item small d-flex align-items-center justify-content-center" style="cursor: pointer;">
<a class="nav-link" onclick="$('#providerModal').html($('#providerModalLogin').html());$('#providerModal').modal('show'); $('iframe.fau-login-iframe').iFrameResize(); fau.signup_win.toggleSignupArea(); _SelectedSignInType = 'Basic'; setSignInType();">
<i class="fa-regular fa-user pr-2"></i>
<span>Sign in</span>
<span class="nav-user__signup"></span>
</a>
</li>
</ul>
<ul id="navUserMenu" Class="navbar-nav navbar-nav__account small bg-success position-relative mt-n2 mb-n2 d-none">
<li id="oAuthProviderLogin" class="nav-item small d-flex align-items-center justify-content-center">
<a class="nav-link dropdown-toggle" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" id="accountProviderLink">
ACCOUNT
</a>
<div id="userNavMenu" style="z-index: 9;" class="dropdown-menu p-0 mt-0 border-0" aria-labelledby="navbarDropdown">
<a class="dropdown-item list-group-item small" href="/myaccount/">
<i class="fa-regular fa-house-user pr-2"></i>My account</a>
<a class="dropdown-item list-group-item small" href="/myaccount/alerts-searches.aspx">
<i class="fa-regular fa-bell pr-2"></i>News &amp; updates</a>
<a class="dropdown-item list-group-item small" href="/myaccount/email-enquiries.aspx">
<i class="fa-regular fa-envelope pr-2"></i>Sent enquiries</a>
<a class="dropdown-item list-group-item small" href="/myaccount/saved-courses.aspx">
<i class="fa-regular fa-heart pr-2"></i>Saved programmes</a>
<a class="dropdown-item list-group-item small" href="/myaccount/upcoming-events.aspx">
<i class="fa-regular fa-calendar pr-2"></i>Upcoming events</a>
<a class="dropdown-item list-group-item small" href="/myaccount/my-details.aspx">
<i class="fa-regular fa-user pr-2"></i>My details</a>
<a class="dropdown-item list-group-item small" style="cursor: pointer;" onclick="event.stopPropagation(); logoutUser();">
<i class="fa-regular fa-right-from-bracket pr-2"></i>Log out</a>
</div>
</li>
<li id="oAuthProviderLogout" class="nav-item small d-flex align-items-center justify-content-center" style="display: none !important;">
<a class="nav-link" id="oAuthProviderLogoutBtn" onclick="logoutUser();">Logout</a>
</li>
<li class="nav-item align-items-center justify-content-center d-flex px-2">
<a href="/MyAccount/saved-courses.aspx" class="softlink text-white mainSearchBtn text-decoration-none" id="ShortlistManagerButton">
<span class="fa-regular fa-lg fa-heart" aria-hidden="true"></span>
<span id="ShortlistCounter" style="position: relative; top: -10px; left: -3px;" class="glyphicon-star-bubble badge badge-secondary text-white">0</span>
</a>
</li>
</ul>
</div><span class="navbar-text pb-1 float-right"><a id="mobileUser" class="d-inline-block d-lg-none mx-2 btn btn-primary btn-sm" style="border-radius: 50px; padding: 10px;" onclick="$('#providerModal').html($('#providerModalLogin').html());$('#providerModal').modal('show'); $('iframe.fau-login-iframe').iFrameResize(); fau.signup_win.toggleSignupArea(); _SelectedSIgnInType = 'Basic'; setSignInType();"><i class="fa-regular fa-user"></i> Sign In</a><a class="d-inline-block d-lg-none ml-2" href="#" onclick="$('#navbarNav').toggleClass('show-mobile-menu');showSearch();return false;"><i class="fa-regular fa-bars"></i></a></span><div class="submenu d-none position-absolute d-none zindex-dropdown w-100" style="z-index: 3; left: 0;"><div class="submenu-inner"><div class="row mx-0 mb-n2 mt-2 bg-dark"><div id="Main" class="col-24 col-md-24"><div id="submenu_Main" class="menuBox" style="display: none;"><a href="#" class="menu-back hidden" onclick><i class="glyphicon glyphicon-triangle-left"></i></a><a href="#" class="menu-cross" onclick="hideMenu();return false;"><i class="glyphicon glyphicon-remove"></i></a><div class="row tight">
<div class="col-24 col-lg-8 menuCol text-white px-0"><div class=" menuItem py-3 border-bottom border-gray-600 px-3"><div class=" spacer"></div><a class="text-white" href=" /masters-degrees/" onclick title="Masters Degree Programmes">Masters Programmes </a></div><div class=" menuItem py-3 border-bottom border-gray-600 px-3"><div class=" spacer"></div><a class="text-white" href=" /events/" onclick title="Postgraduate Study Fairs & Open Day Events">Events </a></div></div><div class="col-24 col-lg-8 menuCol text-white px-0"><div class=" menuItem py-3 border-bottom border-gray-600 px-3"><div class=" spacer"></div><a class="text-white" href=" /guides/funding/" onclick title="Masters Degree Funding">Funding </a></div><div class=" menuItem py-3 border-bottom border-gray-600 px-3"><div class=" spacer"></div><a class="text-white" href=" /advice/" onclick title="Masters Degree Advice">Advice </a></div></div><div class="col-24 col-lg-8 menuCol text-white px-0"><div class=" menuItem py-3 border-bottom border-gray-600 px-3"><div class=" spacer"></div><a class=" softlink text-white" href=" /providers/?utm_source=header" title="Advertise on FindAMasters">Advertise with us</a></div></div>
<div class="col-24 col-lg-8 menuCol text-white px-0"><div class="menuItem py-3 border-bottom border-gray-600 p-3"><div class="spacer"></div><a id="signupMenuLinkMob" class="btn btn-success btn-block" onclick="$('#providerModal').html($('#providerModalLogin').html());$('#providerModal').modal('show'); $('iframe.fau-login-iframe').iFrameResize(); fau.signup_win.toggleSignupArea()" href="#"><i class="fa-regular fa-user"></i> Login / Register</a></div></div></div></div></div></div></div></div></li></ul></div></nav>

</div>
</div>
<div class="full-search">

<div class="full-search">
<div id="search" class="container-fluid bg-white px-0" style="display:none;">
<div id="search-inner" class="container py-0 py-lg-2">
<div class="row">
<div class="col-24 px-0">
<div id="SearchArea" class="input-group">
<input type="text" class="form-control" style="border: 0; border-radius: 0; box-shadow: none !important;" id="searchText" placeholder="Search 23,899 masters degrees worldwide" autocomplete="off" onfocus="SearchSuggester.onFocus(event, this)" aria-describedby="basic-addon2" />
<div class="input-group-append">
<button class="btn btn-basic" type="button" onclick="SearchSuggester.doSearch($(this).closest('#SearchArea').find(input));">
<i class="fa-regular fa-search"></i>
</button>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

</div>

<div style="display: block;"><div id="billboard" class="border-bottom"><div id="billboard-inner" class="container"><div class="row"><div id="zone209355127" class="zoneOuter" style="height:160px;"></div><script>(function (r, d, u) {var s = d.createElement(r); s.async = true; s.setAttribute('data-cfasync', false); u += '&cb=' + Date.now() + Math.random(); s.src = u; var n = d.getElementsByTagName(r)[0]; n.parentNode.insertBefore(s, n); })('script', document, '//engine.findamasters.com/?209355127');</script><script>function abb_impr_0() { }</script><script>$(document).ready(function() { DataLayerAdImpression('billboard', 0, '', ''); });</script></div></div></div></div><script>$(document).ready(function(){ $('.notification-banner-remove').click(function(){ fau.cookies.setSubValue('FauAlertBanner', 'closed', true, 1); $('.notification-banner').remove(); }); });</script><div class="col-24 notification-banner border-top border-bottom" style="text-align: center; background-color: #FEE823 !important; padding-top: 10px; padding-bottom: 10px;"><div class="notification-banner-inner mr-4 mr-lg-0"><a class="d-none d-md-block iconname " style="color: #333333" target="_blank" href="https://www.findamasters.com/signups/?ct=1950"><i class="fas fa-user-graduate"></i> Don't miss our weekly Masters newsletter | <span class="font-weight-bold">Sign up now</b></a><a class="d-inline-block d-md-none small" style="color: #333333" target="_blank" href="https://www.findamasters.com/signups/?ct=1950"><i class="fas fa-user-graduate"></i> Don't miss our weekly Masters newsletter | <span style="display: inline-block;" class="font-weight-bold">Sign up now</span></a></div><i onclick="fau.cookies.setSubValue('FauAlertBanner', 'closed', true, 1); $('.notification-banner').remove();" style="color: white; right: 10px; top: 10px; position: absolute;cursor: pointer;" class="fa-regular fa-xmark notification-banner-remove pointer"></i></div>

<div class="sitewide-outer container-fluid">
<div class="sitewide-holder container">


</div>
</div>
<div id="main-col">
<div id="MainArea" class data-pagemode="Description">
<script>
                var hasInstitutionProfile = true;
            </script>
<div class="breadcrumb-bar-section container-fluid bg-dark py-2">
<div class="breadcrumb-holder container" style="display: none;">

<div class="breadcrumbOuter container p-0 d-none d-md-block"><div id="breadcrumb-button-left" class="breadcrumb-button visible-xs"><span class="glyphicon glyphicon-chevron-left"></span></div><ol class="breadcrumb small m-0 px-0 px-md-3 px-lg-0 py-2 bg-transparent" itemprop="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="softlink text-dark" href="/" title="FindAMasters" itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">FindAMasters</span></a><meta itemprop="position" content="1" /></li> <i class="fa-regular fa-angle-right align-self-center px-2 text-secondary"></i> <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="softlink text-dark" href="/masters-degrees/" title="Masters Degree Programmes" itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Masters Programmes</span></a><meta itemprop="position" content="2" /></li> <i class="fa-regular fa-angle-right align-self-center px-2 text-secondary"></i> <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="softlink text-dark" href="/masters-degrees/" title="Search Masters Degrees" itemprop="item" itemtype="http://schema.org/Thing"><span itemprop="name">Search Masters Degrees</span></a><meta itemprop="position" content="3" /></li></ol><div id="breadcrumb-button-right" class="breadcrumb-button visible-xs"><span class="glyphicon glyphicon-chevron-right"></span></div><div style="clear:both;"></div></div>

</div>
<div class="back-link-holder container bg-dark px-0">
<a class="text-white" href="/masters-degrees/">
<i class="fa-regular fa-angle-left text-secondary"></i>Search Masters Degrees
</a>
</div>
</div>
<div class="full-width-container container-fluid bg-gray-700 shadow-sm course-sections__course-content course-sections__header bkg__inst-302 bkg__dept-8985 bkg__course-64503 ">
<div class="full-width-content container px-0 px-md-auto">
<div class="top-content-area">
<div class="row ">
<div class="course-header page-content pt-5 pb-5 col-md-17 col-24">
<div class="col-24 pl-0 pl-lg-0">
<h1 class="text-white course-header__course-title" data-permutive-title="Applied Data Science (Environment and Sustainability) MSc"><a href="javascript:void(0)" data-courseid="64503" class="shortlist-toggle shortlist-toggle__add text-white"><i class="fa-regular fa-heart"></i></a><a href="javascript:void(0)" data-courseid="64503" class="shortlist-toggle shortlist-toggle__remove text-success"><i class="fa-regular fa-heart"></i></a>&nbsp;&nbsp;Applied Data Science (Environment and Sustainability) MSc</h1>
<hr class="border-white" />
<h3 class="h5 course-header__inst-dept">
<span class="course-header__inst-dept-name d-block d-md-inline"><a class="course-header__institution text-white font-weight-light d-block d-md-inline" href="/masters-degrees/university-of-exeter/" title="View all Masters courses University of Exeter">University of Exeter</a> <span class="d-none d-md-inline">&nbsp;<i class="fa-regular fa-angle-right text-white"></i>&nbsp;</span> <a class="course-header__department  text-white font-weight-light d-block d-md-inline mt-2 mt-md-auto" href="/masters-degrees/university-of-exeter/mathematics-and-statistics/" title="View all Masters courses Mathematics and Statistics, University of Exeter">Mathematics and Statistics</a></span>
</h3>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="d-block d-md-none bottom-button px-5 col-24">
<a href="javascript:void(0)" data-stattype="3" data-email-name="University of Exeter" data-email-addr="e2f07701471def6d87af48543ce634b11d8e78021d4ab2e8e8b30cc980f49298" class="course-sidebar__button course-sidebar__button--main btn btn-success btn-block border email emailLink rounded-pill">Register interest</a>
</div>
<div class="full-width-container container-fluid full-width-white full-width-main">
<div class="container px-0">
<div class="row">
<div class="page-content col-24 col-md-16 col-lg-17 px-0 px-md-auto pr-lg-3 ">
<div class="col-24 course-content pr-lg-4">
<div class="key-info__outer row pt-3">
<div class="key-info col-24 text-gray-600">
<span class="key-info__content key-info__study-type py-2 pr-md-3 text-nowrap d-block d-md-inline-block">
<i class="fa-regular fa-clock key-info__icon mr-1"></i>
<a class="inheritFont concealLink text-decoration-none text-gray-600" href="/masters-degrees/full-time/" title="View all Full time Masters courses">Full time</a>
</span>
<span class="key-info__content key-info__start-date py-2 pr-md-3 text-nowrap d-block d-md-inline-block" title="Start dates"><i class="fa-regular fa-calendar key-info__icon mr-2"></i>September</span>
<span class="key-info__content key-info__qualification py-2 pr-md-3 text-nowrap d-block d-md-inline-block"><i class="fa-regular fa-graduation-cap key-info__icon mr-2"></i><a class="inheritFont concealLink  text-gray-600 text-decoration-none" href="/masters-degrees/msc-degrees/" title="View all MSc courses">MSc</a></span>
<span class="key-info__content key-info__duration py-2 pr-md-3 d-block d-md-inline-block"><i style="webkit-transform: scaleX(-1); transform: scaleX(-1);" class="fa-regular fa-clock-rotate-left key-info__icon mr-2"></i>1 year full time</span>
</div>
</div>
<div class="d-block d-md-none course-buttons col-24 px-0 py-3">
<div class="course-sidebar__buttons row m-0">
<a href="/common/clickCount.aspx?theid=64503&type=211&did=8985&url=https%3a%2f%2fwww.exeter.ac.uk%2fpostgraduate%2fcourses%2fmathematics%2fappdataenv%2f%3futm_source%3dfindamasters%26utm_medium%3daffiliate%26utm_campaign%3duoe-courselisting-pgt-adsenv" target="_blank" onclick="faustat.addstats('MAS',211,64503);PermutiveInsights.linkClickEvent(this.innerHTML, 'link', this.getAttribute('href'));ga('send', 'event', 'InstID=302', 'Course Listing Referral (Footer Action Bar)', 'CID=64503#', {'nonInteraction': 1});;DataLayerRefExternalFull(302, 'University of Exeter', '8985', '64503', 'Mathematics and Statistics', dataLayerPagePropertyType, '');dataLayer.push({'event': 'referral_clicks', 'click_type': 'Course Page > Institution Website Button', 'InstID': '302', 'CID': '64503', 'type': '211', });;" rel="nofollow" class="course-sidebar__button btn  btn-outline-success   btn-block course-sidebar__button--main rounded-pill webLink">Visit Institution website</a>
<a href="javascript:void(0)" data-stattype="3" data-email-name="University of Exeter" data-email-addr="e2f07701471def6d87af48543ce634b11d8e78021d4ab2e8e8b30cc980f49298" class="course-sidebar__button course-sidebar__button--main btn btn-success btn-block email emailLink rounded-pill">Register interest</a>
<div class="clearfix"></div>
</div>
</div>
<hr class="col-xs-24 hidden-xs" />
<div class="course-data__container col-24 ml-md-n1 p-0 pb-3">
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light subjLink concealLink course-data course-data__discipline" href="/masters-degrees/biological-sciences/" title="View all courses in Biological Sciences">Biological Sciences</a>
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light subjLink concealLink course-data course-data__discipline" href="/masters-degrees/geography/" title="View all courses in Geography">Geography</a>
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light subjLink concealLink course-data course-data__discipline" href="/masters-degrees/mathematics/" title="View all courses in Mathematics">Mathematics</a>
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light subjLink concealLink course-data course-data__subject" href="/masters-degrees/applied-mathematics/" title="View all courses in Applied Mathematics">Applied Mathematics</a>
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light subjLink concealLink course-data course-data__subject" href="/masters-degrees/computational-mathematics/" title="View all courses in Computational Mathematics">Computational Mathematics</a>
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light subjLink concealLink course-data course-data__subject" href="/masters-degrees/biodiversity/" title="View all courses in Ecology - Biodiversity">Ecology - Biodiversity</a>
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light subjLink concealLink course-data course-data__subject" href="/masters-degrees/conservation-ecology/" title="View all courses in Ecology - Conservation">Ecology - Conservation</a>
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light subjLink concealLink course-data course-data__subject" href="/masters-degrees/environmental-geography/" title="View all courses in Environmental Geography">Environmental Geography</a>
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light subjLink concealLink course-data course-data__subject" href="/masters-degrees/mathematical-modelling/" title="View all courses in Mathematical Modelling">Mathematical Modelling</a>
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light course-data course-data__city" href="/masters-degrees/united-kingdom/exeter/" title="View all courses in Exeter">Exeter</a>
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light course-data course-data__country" href="/masters-degrees/united-kingdom/" title="View all courses in United Kingdom">United Kingdom</a>
<a class="card-badge text-wrap text-left badge badge-gray-200 p-2 m-1 font-weight-light course-data course-data__on-campus" href="/masters-degrees/on-campus/" title="View all on campus courses">On Campus</a>
</div>
<div class="mobile-logo__container col-xs-24 d-block d-md-none">
<a class="logoLink" target="_blank" href="/common/clickCount.aspx?theid=64503&amp;type=3&amp;did=8985&amp;url=https%3a%2f%2fwww.exeter.ac.uk%2fpostgraduate%2fcourses%2fmathematics%2fappdataenv%2f%3futm_source%3dfindamasters%26utm_medium%3daffiliate%26utm_campaign%3duoe-courselisting-pgt-adsenv" onclick="DataLayerRefExternalFull(302, 'University of Exeter', '8985', '64503', 'Mathematics and Statistics', dataLayerPagePropertyType, '');" title="Click here to visit the Mathematics and Statistics website">
<img style="max-height: 80px;" class="img-fluid bg-white p-3 border rounded shadow-sm" src="https://fau-res.cloudinary.com/image/upload/f_gif/common/institutions/logos/Institutions/PID302.gif" alt="Mathematics and Statistics Logo" />
</a>
</div>
<span class="jacs-discs d-none" data-discid="4">Biological Sciences (4)</span>
<span class="jacs-discs d-none" data-discid="17">Geography (17)</span>
<span class="jacs-discs d-none" data-discid="25">Mathematics (25)</span>
<script>
                            var discArray = [];

                            var oldDiscArray = [];

                            $('.jacs-discs').each(function () {
                                var discId = $(this).attr('data-discid');
                                discArray.push(discId);
                            });

                            discArray.forEach(function (x) {
                                if (x === "1") {
                                    //Agriculture > Earth Sciences
                                    oldDiscArray.push(3);
                                }
                                if (x === "2") {
                                    //Anthropology > Biological & Medical Sciences
                                    oldDiscArray.push(1);
                                }
                                if (x === "3") {
                                    //Architecture, Building & Planning > Engineering
                                    oldDiscArray.push(4);
                                }
                                if (x === "4") {
                                    //Biological Sciences > Biological & Medical Sciences
                                    oldDiscArray.push(1);
                                }
                                if (x === "5") {
                                    //Business & Management > Business & Finance
                                    oldDiscArray.push(11);
                                }
                                if (x === "6") {
                                    //Chemistry > Chemical Sciences
                                    oldDiscArray.push(2);
                                }
                                if (x === "7") {
                                    //Communication & Media Studies > Arts & Humanities
                                    oldDiscArray.push(5);
                                    oldDiscArray.push(8);
                                    //oldDiscArray.push(9);
                                }
                                if (x === "8") {
                                    //Computer Science > Maths & Computing
                                    oldDiscArray.push(5);
                                }
                                if (x === "9") {
                                    //Creative Arts & Design > Arts
                                    oldDiscArray.push(8)
                                }
                                if (x == "10") {
                                    //Economics > Business & Finance
                                    oldDiscArray.push(11);
                                }
                                if (x === "11") {
                                    //Education > Education
                                    oldDiscArray.push(13);
                                }
                                if (x === "12") {
                                    //Engineering > Engineering
                                    oldDiscArray.push(4);
                                }
                                if (x === "13") {
                                    //Environmental Sciences > Earth Scicnces
                                    oldDiscArray.push(3);
                                }
                                if (x === "14") {
                                    //Finance > Business & Finance
                                    oldDiscArray.push(11);
                                }
                                if (x === "15") {
                                    //Food Sciences > BIological & Medical Sciences
                                    oldDiscArray.push(1);
                                }
                                if (x === "16") {
                                    //Forensic & Archaeological Sciences > Earth Sciences
                                    oldDiscArray.push(3);
                                }
                                if (x === "17") {
                                    //Geography > Earth Sciences
                                    oldDiscArray.push(3);
                                }
                                if (x === "18") {
                                    //Geology > Earth Sciences
                                    oldDiscArray.push(3);
                                }
                                if (x === "19") {
                                    //History & Archaeology > Humanities
                                    oldDiscArray.push(9);
                                }
                                if (x === "20") {
                                    //Information Services > Maths & Computing
                                    oldDiscArray.push(5);
                                }
                                if (x === "21") {
                                    //Languages, Literature & Culture > Humanities
                                    oldDiscArray.push(9);
                                }
                                if (x === "22") {
                                    //Law > Law
                                    oldDiscArray.push(12);
                                }
                                if (x === "23") {
                                    //Linguistics & Classics > Humanities
                                    oldDiscArray.push(9);
                                }
                                if (x === "24") {
                                    //Materials Science > Physical Sciences
                                    oldDiscArray.push(6);
                                }
                                if (x === "25") {
                                    //Mathematics > Maths & Computing
                                    oldDiscArray.push(5);
                                }
                                if (x === "26") {
                                    //Medicine > Biological & Medical Sciences
                                    oldDiscArray.push(1);
                                }
                                if (x === "27") {
                                    //Nursing & Health > Biological & Medical Sciences
                                    oldDiscArray.push(1);
                                }
                                if (x === "28") {
                                    //Philosophy > Social Sciences & Health
                                    oldDiscArray.push(8);
                                    oldDiscArray.push(9);
                                }
                                if (x === "29") {
                                    //Physics > Physical Sciences
                                    oldDiscArray.push(6);
                                }
                                if (x === "30") {
                                    //Politics & Government > Humanities
                                    oldDiscArray.push(9);
                                }
                                if (x === "31") {
                                    //Psychology > Social Sciences & Health
                                    oldDiscArray.push(10);
                                }
                                if (x === "32") {
                                    //Social Work > Social Sciences & Health
                                    oldDiscArray.push(10);
                                }
                                if (x === "33") {
                                    //Sociology > Social Sciences & Health
                                    oldDiscArray.push(10);
                                }
                                if (x === "34") {
                                    //Theology & Religious Studies > Humanities
                                    oldDiscArray.push(9);
                                }
                                if (x === "35") {
                                    //Veterinary Sciences > Biological & Medical Sciences
                                    oldDiscArray.push(10);
                                }
                            });

                            setTimeout(function () {
                                oldDiscArray.forEach(x => {
                                    var disc = "#disc" + x + "";
                                    $(disc).prop("checked", true);
                                });
                                $('#SubjectInterestFields').parent().addClass('d-none');
                            }, 100);
                                

                            $('.jacs-discs').remove();

                           


                        </script>
<div class="course-sections course-sections__description col-xs-24">
<h2 class="course-sections__title mt-3 mt-md-0">About the course</h2>
<div>
<div class="course-sections__content">
<div id="Snippet">
<h3 id="overview">Overview</h3><ul><li>Develop an understanding of state-of-the-art modelling, emergent data science techniques, and explore economic, environmental, and societal issues surrounding sustainability practices and policies</li><li>Based at our stunning Penryn Campus in Cornwall and hosted by the University’s Environment and Sustainability Institute, which leads cutting-edge research on problems of environmental change</li><li>Be exposed to a wide variety of data and data analytics approaches with opportunities to work with industry, charities, or the public sector</li><li>Gain the skills and experience you need to succeed in the demanding and fast growing data analytics sectors particularly in relation to sustainability</li></ul><h3 id="coursecontent">Course content</h3><p>The contemporary climate and environmental crises necessitate discipline-transcending solutions underpinned by understanding complex systems and models that draw from a data intensive world. Sustainable development is now a top priority in many industries and for many public and non-governmental organisations.</p>
</div>
</div>
<a class="col-xs-24 read-more-area course-sections__read-more btn btn-link p-0 text-success text-decoration-none" href="javascript:void(0)" onclick="Page.loadReadMore(this, $(this).parent(), 'desc', 64503, 302); $('#descLoading').show(); $(this).remove();">Read more about this course <i class="fa-regular fa-angle-down"></i>
</a>
<p class="loading" id="descLoading" style="display: none; text-align: left;">
<img src="/images/loading1.gif" alt>
Loading...
</p>
<script>
                                            function descReadMoreInit() {
                                                faustat.addstatsarray('MAS', 244, 64503);
                                        ga('send', 'event', 'InstID=' + 302, 'Course Listing Full Description Viewed', 'CID=' + 64503 + '#', { 'nonInteraction': 1 });
                                            }
                                        </script>
</div>
</div>
<hr class="col-xs-24" />
<div class="course-sections course-sections__entry-requirements tight col-xs-24">
<h2 class="course-sections__title">Entry Requirements</h2>
<div class="course-sections__content">
<p>A good degree (normally a 2:2). <br/> <br/>Successful applicants will usually have at least an A-level or equivalent in Mathematics and/or have received quantitative skills training as part of their undergraduate programme, or possess relevant professional experience. <br/> <br/>Prior experience of coding is not necessary on this course. <br/> <br/>Please visit our entry requirements section for equivalencies from your country and further information on English language requirements.</p>
</div>
</div>
<hr class="col-xs-24" />
<div class="course-sections course-sections__duo-lingo tight col-xs-24">
<div class="course-sections__content">
<span id="zone611148863"></span>
<script>
                                            (function () {
                                                var s = document.createElement('script');
                                                s.type = 'text/javascript';
                                                s.async = true;
                                                s.src = '//engine.findamasters.com/?611148863';
                                                var n = document.getElementsByTagName('script')[0];
                                                n.parentNode.insertBefore(s, n);
                                            })();
                                        </script>
</div>
</div>
<hr class="col-xs-24 tight" />
<div class="course-sections course-sections__fees tight col-xs-24">
<h2 class="course-sections__title">Fees</h2>
<div class="course-sections__content">
<p>For current programme fees please see our website.</p>
</div>
</div>
</div>
</div>
<div class="page-content col-md-7 col-24 p-md-0 ">
<div class="col-24 course-sidebar__holder px-0">
<div class="course-sidebar shadow-sm">
<div class="course-sidebar__mobile-top d-block d-md-none shadow">
<p>
<i class="fas fa-bars"></i>&nbsp;<span class="mobile-top__active-section">Course Content</span>
</p>
</div>
<div class="course-sidebar__inner">
<div class="course-sidebar__logo d-none d-md-block text-center">
<a class="logoLink float-left-xs" target="_blank" href="/common/clickCount.aspx?theid=64503&amp;type=3&amp;did=8985&amp;url=https%3a%2f%2fwww.exeter.ac.uk%2fpostgraduate%2fcourses%2fmathematics%2fappdataenv%2f%3futm_source%3dfindamasters%26utm_medium%3daffiliate%26utm_campaign%3duoe-courselisting-pgt-adsenv" title="Click here to visit the Mathematics and Statistics website">
<img class="img-fluid" src="https://fau-res.cloudinary.com/image/upload/f_gif/common/institutions/logos/Institutions/PID302.gif" alt="Mathematics and Statistics Logo" />
</a>
<div class="clear-left-xs"></div>
</div>
<div class="course-sidebar__jumplinks">
<a onclick="jumplinkClick('course-content')" class="course-sidebar__jumplink course-sidebar__jumplink--course-content course-sidebar__jumplink--active"><i class="fa-regular fa-angle-right"></i>Course Content</a>
<a onclick="jumplinkClick('entry-requirements')" class="course-sidebar__jumplink course-sidebar__jumplink--entry-requirements"><i class="fa-regular fa-angle-right"></i>Entry Requirements</a>
<a onclick="jumplinkClick('fees')" class="course-sidebar__jumplink course-sidebar__jumplink--fees"><i class="fa-regular fa-angle-right"></i>Fees</a>
<a onclick="jumplinkClick('opendays')" class="course-sidebar__jumplink course-sidebar__jumplink--opendays"><i class="fa-regular fa-angle-right"></i>Open Days</a>
<a onclick="jumplinkClick('student-chat')" class="course-sidebar__jumplink course-sidebar__jumplink--student-chat student-chat-button"><i class="fa-regular fa-angle-right"></i>Chat to a student</a>
<a onclick="jumplinkClick('study-info')" class="course-sidebar__jumplink course-sidebar__jumplink--study-info"><i class="fa-regular fa-angle-right"></i>Where will I study?</a>
<a onclick="jumplinkClick('videos')" class="course-sidebar__jumplink course-sidebar__jumplink--videos"><i class="fa-regular fa-angle-right"></i>Videos</a>
<a onclick="jumplinkClick('scholarships')" class="course-sidebar__jumplink course-sidebar__jumplink--scholarships"><i class="fa-regular fa-angle-right"></i>Scholarships</a>
</div>
<div class="course-sidebar__buttons px-3 px-md-0">
<a href="/common/clickCount.aspx?theid=64503&type=211&did=8985&url=https%3a%2f%2fwww.exeter.ac.uk%2fpostgraduate%2fcourses%2fmathematics%2fappdataenv%2f%3futm_source%3dfindamasters%26utm_medium%3daffiliate%26utm_campaign%3duoe-courselisting-pgt-adsenv" target="_blank" onclick="faustat.addstats('MAS',211,64503);PermutiveInsights.linkClickEvent(this.innerHTML, 'link', this.getAttribute('href'));ga('send', 'event', 'InstID=302', 'Course Listing Referral (Footer Action Bar)', 'CID=64503#', {'nonInteraction': 1});;DataLayerRefExternalFull(302, 'University of Exeter', '8985', '64503', 'Mathematics and Statistics', dataLayerPagePropertyType, '');dataLayer.push({'event': 'referral_clicks', 'click_type': 'Course Page > Institution Website Button', 'InstID': '302', 'CID': '64503', 'type': '211', });;" rel="nofollow" class="btn btn-block  btn-outline-success   course-sidebar__button course-sidebar__button--main rounded-pill webLink">Visit institution website</a>
<a href="javascript:void(0)" data-stattype="3" data-email-name="University of Exeter" data-email-addr="e2f07701471def6d87af48543ce634b11d8e78021d4ab2e8e8b30cc980f49298" class="btn btn-block btn-success course-sidebar__button course-sidebar__button--main email emailLink rounded-pill">Register interest</a>
<div class="clearfix"></div>
<script>
                                    
                                                $(document).ready(function () {
                                                    var shortlistValue = (new URL(location.href)).searchParams.get('shortlist');
                                                    var sendEnqValue = (new URL(location.href)).searchParams.get('sendenq');
                                                    var readMoreValue = (new URL(location.href)).searchParams.get('readmore');
                                                    if (shortlistValue === 'true') {
                                                        fau.shortlist.toggleFromAmp(64503); c
                                        }
                                        if (readMoreValue === 'true') {
                                            setTimeout(function () {
                                                $('html, body').animate({
                                                    scrollTop: $('.read-more-area').offset().top
                                                }, 'fast');
                                                $('.read-more-area').click();
                                            }, 2000);

                                        }
                                        if (sendEnqValue === 'true') {
                                            setTimeout(function () {
                                                $('html, body').animate({
                                                    scrollTop: $('#email-holder').offset().top
                                                }, 'fast');
                                            }, 2000);
                                        }
                                    });

                                            </script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div style="background: #efefef;" class="full-width-container shadow-sm container-fluid full-width-white extras-container">
<script>
                    $(document).ready(function () {
                        var textArea = $('#TextInput');

                        $('#TextInput').keyup(function () {
                            if (textArea.val().length === 0) {
                                $('#InsertPrevious').prop("checked", false)
                            }
                        });
                    })

                </script>
<div style="background: #f0f0f0;" class="full-width-container container-fluid full-width-white px-0 px-lg-3 extras-container">
<div class="full-width-container container px-0 px-md-0 py-3 ">
<div class="container px-0">
<div class="row pr-lg-4">
<div class="col-24 col-md-16 col-lg-17">
<div class="email-form">
<h2 style="font-weight: bold;" data-instname="The University of Exeter" class="mb-0" id="EmailTitle">Register your interest for this programme</h2>
<div id="email-holder">
<meta http-equiv="EXPIRES" content="0" />
<script src="/common/js/moment-with-locales.js"></script>
<script>
    var _rollbarConfig = {
        accessToken: "ffaf3c97c40d42a89f8e756b4e8a26de",
        captureUncaught: true,
        captureUnhandledRejections: true,
        payload: {
            environment: "production",
            client: {
                javascript: {
                    code_version: '1.0.0',
                }
            }
        }
    };
    // Rollbar Snippet
    !function (r) { var e = {}; function o(n) { if (e[n]) return e[n].exports; var t = e[n] = { i: n, l: !1, exports: {} }; return r[n].call(t.exports, t, t.exports, o), t.l = !0, t.exports } o.m = r, o.c = e, o.d = function (r, e, n) { o.o(r, e) || Object.defineProperty(r, e, { enumerable: !0, get: n }) }, o.r = function (r) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(r, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(r, "__esModule", { value: !0 }) }, o.t = function (r, e) { if (1 & e && (r = o(r)), 8 & e) return r; if (4 & e && "object" == typeof r && r && r.__esModule) return r; var n = Object.create(null); if (o.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: r }), 2 & e && "string" != typeof r) for (var t in r) o.d(n, t, function (e) { return r[e] }.bind(null, t)); return n }, o.n = function (r) { var e = r && r.__esModule ? function () { return r.default } : function () { return r }; return o.d(e, "a", e), e }, o.o = function (r, e) { return Object.prototype.hasOwnProperty.call(r, e) }, o.p = "", o(o.s = 0) }([function (r, e, o) { "use strict"; var n = o(1), t = o(5); _rollbarConfig = _rollbarConfig || {}, _rollbarConfig.rollbarJsUrl = _rollbarConfig.rollbarJsUrl || "https://cdn.rollbar.com/rollbarjs/refs/tags/v2.26.1/rollbar.min.js", _rollbarConfig.async = void 0 === _rollbarConfig.async || _rollbarConfig.async; var a = n.setupShim(window, _rollbarConfig), l = t(_rollbarConfig); window.rollbar = n.Rollbar, a.loadFull(window, document, !_rollbarConfig.async, _rollbarConfig, l) }, function (r, e, o) { "use strict"; var n = o(2), t = o(3); function a(r) { return function () { try { return r.apply(this, arguments) } catch (r) { try { console.error("[Rollbar]: Internal error", r) } catch (r) { } } } } var l = 0; function i(r, e) { this.options = r, this._rollbarOldOnError = null; var o = l++; this.shimId = function () { return o }, "undefined" != typeof window && window._rollbarShims && (window._rollbarShims[o] = { handler: e, messages: [] }) } var s = o(4), d = function (r, e) { return new i(r, e) }, c = function (r) { return new s(d, r) }; function u(r) { return a((function () { var e = this, o = Array.prototype.slice.call(arguments, 0), n = { shim: e, method: r, args: o, ts: new Date }; window._rollbarShims[this.shimId()].messages.push(n) })) } i.prototype.loadFull = function (r, e, o, n, t) { var l = !1, i = e.createElement("script"), s = e.getElementsByTagName("script")[0], d = s.parentNode; i.crossOrigin = "", i.src = n.rollbarJsUrl, o || (i.async = !0), i.onload = i.onreadystatechange = a((function () { if (!(l || this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState)) { i.onload = i.onreadystatechange = null; try { d.removeChild(i) } catch (r) { } l = !0, function () { var e; if (void 0 === r._rollbarDidLoad) { e = new Error("rollbar.js did not load"); for (var o, n, a, l, i = 0; o = r._rollbarShims[i++];)for (o = o.messages || []; n = o.shift();)for (a = n.args || [], i = 0; i < a.length; ++i)if ("function" == typeof (l = a[i])) { l(e); break } } "function" == typeof t && t(e) }() } })), d.insertBefore(i, s) }, i.prototype.wrap = function (r, e, o) { try { var n; if (n = "function" == typeof e ? e : function () { return e || {} }, "function" != typeof r) return r; if (r._isWrap) return r; if (!r._rollbar_wrapped && (r._rollbar_wrapped = function () { o && "function" == typeof o && o.apply(this, arguments); try { return r.apply(this, arguments) } catch (o) { var e = o; throw e && ("string" == typeof e && (e = new String(e)), e._rollbarContext = n() || {}, e._rollbarContext._wrappedSource = r.toString(), window._rollbarWrappedError = e), e } }, r._rollbar_wrapped._isWrap = !0, r.hasOwnProperty)) for (var t in r) r.hasOwnProperty(t) && (r._rollbar_wrapped[t] = r[t]); return r._rollbar_wrapped } catch (e) { return r } }; for (var p = "log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleAnonymousErrors,handleUnhandledRejection,captureEvent,captureDomContentLoaded,captureLoad".split(","), f = 0; f < p.length; ++f)i.prototype[p[f]] = u(p[f]); r.exports = { setupShim: function (r, e) { if (r) { var o = e.globalAlias || "Rollbar"; if ("object" == typeof r[o]) return r[o]; r._rollbarShims = {}, r._rollbarWrappedError = null; var l = new c(e); return a((function () { e.captureUncaught && (l._rollbarOldOnError = r.onerror, n.captureUncaughtExceptions(r, l, !0), e.wrapGlobalEventHandlers && t(r, l, !0)), e.captureUnhandledRejections && n.captureUnhandledRejections(r, l, !0); var a = e.autoInstrument; return !1 !== e.enabled && (void 0 === a || !0 === a || function (r) { return !("object" != typeof r || void 0 !== r.page && !r.page) }(a)) && r.addEventListener && (r.addEventListener("load", l.captureLoad.bind(l)), r.addEventListener("DOMContentLoaded", l.captureDomContentLoaded.bind(l))), r[o] = l, l }))() } }, Rollbar: c } }, function (r, e, o) { "use strict"; function n(r, e, o, n) { r._rollbarWrappedError && (n[4] || (n[4] = r._rollbarWrappedError), n[5] || (n[5] = r._rollbarWrappedError._rollbarContext), r._rollbarWrappedError = null); var t = e.handleUncaughtException.apply(e, n); o && o.apply(r, n), "anonymous" === t && (e.anonymousErrorsPending += 1) } r.exports = { captureUncaughtExceptions: function (r, e, o) { if (r) { var t; if ("function" == typeof e._rollbarOldOnError) t = e._rollbarOldOnError; else if (r.onerror) { for (t = r.onerror; t._rollbarOldOnError;)t = t._rollbarOldOnError; e._rollbarOldOnError = t } e.handleAnonymousErrors(); var a = function () { var o = Array.prototype.slice.call(arguments, 0); n(r, e, t, o) }; o && (a._rollbarOldOnError = t), r.onerror = a } }, captureUnhandledRejections: function (r, e, o) { if (r) { "function" == typeof r._rollbarURH && r._rollbarURH.belongsToShim && r.removeEventListener("unhandledrejection", r._rollbarURH); var n = function (r) { var o, n, t; try { o = r.reason } catch (r) { o = void 0 } try { n = r.promise } catch (r) { n = "[unhandledrejection] error getting `promise` from event" } try { t = r.detail, !o && t && (o = t.reason, n = t.promise) } catch (r) { } o || (o = "[unhandledrejection] error getting `reason` from event"), e && e.handleUnhandledRejection && e.handleUnhandledRejection(o, n) }; n.belongsToShim = o, r._rollbarURH = n, r.addEventListener("unhandledrejection", n) } } } }, function (r, e, o) { "use strict"; function n(r, e, o) { if (e.hasOwnProperty && e.hasOwnProperty("addEventListener")) { for (var n = e.addEventListener; n._rollbarOldAdd && n.belongsToShim;)n = n._rollbarOldAdd; var t = function (e, o, t) { n.call(this, e, r.wrap(o), t) }; t._rollbarOldAdd = n, t.belongsToShim = o, e.addEventListener = t; for (var a = e.removeEventListener; a._rollbarOldRemove && a.belongsToShim;)a = a._rollbarOldRemove; var l = function (r, e, o) { a.call(this, r, e && e._rollbar_wrapped || e, o) }; l._rollbarOldRemove = a, l.belongsToShim = o, e.removeEventListener = l } } r.exports = function (r, e, o) { if (r) { var t, a, l = "EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(","); for (t = 0; t < l.length; ++t)r[a = l[t]] && r[a].prototype && n(e, r[a].prototype, o) } } }, function (r, e, o) { "use strict"; function n(r, e) { this.impl = r(e, this), this.options = e, function (r) { for (var e = function (r) { return function () { var e = Array.prototype.slice.call(arguments, 0); if (this.impl[r]) return this.impl[r].apply(this.impl, e) } }, o = "log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleAnonymousErrors,handleUnhandledRejection,_createItem,wrap,loadFull,shimId,captureEvent,captureDomContentLoaded,captureLoad".split(","), n = 0; n < o.length; n++)r[o[n]] = e(o[n]) }(n.prototype) } n.prototype._swapAndProcessMessages = function (r, e) { var o, n, t; for (this.impl = r(this.options); o = e.shift();)n = o.method, t = o.args, this[n] && "function" == typeof this[n] && ("captureDomContentLoaded" === n || "captureLoad" === n ? this[n].apply(this, [t[0], o.ts]) : this[n].apply(this, t)); return this }, r.exports = n }, function (r, e, o) { "use strict"; r.exports = function (r) { return function (e) { if (!e && !window._rollbarInitialized) { for (var o, n, t = (r = r || {}).globalAlias || "Rollbar", a = window.rollbar, l = function (r) { return new a(r) }, i = 0; o = window._rollbarShims[i++];)n || (n = o.handler), o.handler._swapAndProcessMessages(l, o.messages); window[t] = n, window._rollbarInitialized = !0 } } } }]);
    // End Rollbar Snippet
</script>
<script>
    $(document).ready(function () {
        $('.float-container input, .float-container textarea, .float-container select').each(function () {
            if ($(this).val().length > 0) {
                $(this).parent().addClass('float-container__active');
            }
        });


        $('.float-container input, .float-container textarea, .float-container select').focus(function () {
            $(this).parent().addClass('float-container__active');
        }).blur(function () {
            if ($(this).val().length === 0) {
                $(this).parent().removeClass('float-container__active');
            }
        });
    });
</script>
<script>
    var hj_triggered = 0;
    $(document).ready(function () {

        //$('.email-form #NationalityField select').on('change', function (e) {
        //    EmailEntry.emailEntryValidate($('#NationalityInput'), true);
        //});

        //$('.email-form #CountryOfResField select').on('change', function (e) {
        //    EmailEntry.emailEntryValidate($('#CountryOfResInput'), true);
        //});

        setTimeout(function () {
            $("#NationalityField .bs-searchbox .form-control").attr("placeholder", "Search for your nationality");
            $("#CountryOfResField .bs-searchbox .form-control").attr("placeholder", "Search for your country of residence");
        }, 1);


        if (typeof hj === 'object') {
            if (hj_triggered == 0) {
                $(".mas-course-body #EmailPanel input").click(function () {
                    hj('trigger', 'email-enq-record');
                    hj_triggered = 1;
                    $('.mas-course-body #footerBottom').css('margin-bottom', '0px');
                });
            }
            $(".mas-course-body #email-enq-submit").click(function () {
                hj('tagRecording', ['sent enquiry']);
                $('#EmailTitle').html("").hide();
            });
        };

        

    });

    function getCities(isReload) {
        if (typeof isReload === 'undefined') { isReload = false; }

        ddlCities = document.getElementById("CityInput");
        ddlCities.options.length = 0;
        //AddOption("Loading", "0");
        var CountryData = "Country=" + $('#CountryOfResInput').val();
        $.ajax({
            type: "POST",
            url: "/controls/GeoLocations.ashx?" + CountryData,
            data: CountryData,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                LocSuccess(msg);
                var loc = fau.cookies.getSubValue('FauUserInfo', 'city');;
                //$('#CityInput').val($('#CityInput option').filter(function () { return $(this).html() == "" + loc + ""; }).val());

                //EmailEntry.emailEntryValidate($('#CityInput'), true);

                $("#CityInput").attr('disabled', false);

                $("#CityField select").val("0").change();
            },
            error: function () {
                LocSuccess();
                EmailEntry.emailEntryValidate($('#CityInput'), false);
            }
        });
    }

    //$(function () {
    //    $('.selectpicker').selectpicker();
    //});


    function LocSuccess(response) {
        if (response == null) {
            ddlCities.options.length = 0;
            AddOption("Please choose country", "0");
        }
        else {
            ddlCities.options.length = 0;
            AddOption("", "");
            $('#CityInput').val("");

            response.sort(SortByName);

            for (index = 0; index < response.length; ++index) {
                AddOption(response[index].Name, response[index].GeoLocationId);
            }
        }
    }
    function SortByName(x, y) {
        return ((x.Name == y.Name) ? 0 : ((x.Name > y.Name) ? 1 : -1));
    }
    function AddOption(text, value) {
        var option = document.createElement('option');
        option.value = value;
        option.innerHTML = text;
        ddlCities.options.add(option);
    }

    function PopulateCity() {
        $('#txtCity').attr('value', $('#CityInput').val());
    }

    function validateCity(oSrc, args) {

        if ($('#CountryInput').val() == '') {
            args.IsValid = false;
        } else {
            if ($('#ddlCity').val() == '0') {
                args.IsValid = false;
                return;
            } else {
                //ClearddlCity();
                args.IsValid = true;
                return;
            }
        }
    }
    function reloadLocation() {
        getCities(true);
    }

    function GeoLocateLocation() {
        if ($('#CountryInput').val() == '') {
            var cCode = geoplugin_countryCode();
            $('#CountryInput').val(cCode).prop('selected', true);
            EmailEntry.emailEntryValidate($('#CountryInput'), true);

            getCities(true);
        }
        else {
            var length = $('#ddlCity').children('option').length;
            if (length == 1) {           // && $('#txtCity').val() =='0') {
                getCities(true);
            }
        }
    }



</script>
<div id="EmailArea" class="email-area__new emailPanelOuter noBorder  course-content open" data-id="64503" data-type="1" data-stattype="1">
<div id="EmailPanel" class="emailPanel fau-form form__with-validation territory">
<div class="sendPage">
<div style="display: none;" class="title">Recipient: <span class="toField">University of Exeter</span></div>
<p class="text-muted col-22 px-0 mt-2" style="font-size: .9rem;">The university will respond to you directly. You will have a FindAMasters account to view your sent enquiries and receive email alerts with new Masters opportunities and guidance to help you choose the right programme.</p>
.
<div class="formInner">
<div class="row my-3 ">
<div id="FromFirstNameAddrField" class="col-23 m-0 form-group float-container">
<label class="text-muted" for="FromFirstNameInput">
First name
</label>
<input value onblur="EmailEntry.validateField($(this), true);" id="FromFirstNameInput" name="FromFirstNameInput" tabindex="1" class="form-control textInput input-lg m-0" type="text" maxlength="50" onkeyup="if (event.keyCode == 13) EmailEntry.onEmailEntrySend(this);" data-val="true" data-val-required="Please enter your first name" data-val-length-min="2" data-val-length-max="40" data-val-length="Your first name must be between 2 and 40 characters in length" />
<span class="validation-message small d-none"></span>
</div>
</div>
<div class="row my-3 ">
<div id="FromLastNameAddrField" class="col-23 m-0 form-group float-container">
<label class="text-muted" for="FromLastNameInput">
Last name
</label>
<input value onblur="EmailEntry.validateField($(this), true);" id="FromLastNameInput" name="FromLastNameInput" tabindex="1" class="form-control textInput input-lg m-0" type="text" maxlength="50" minlength="2" onkeyup="if (event.keyCode == 13) EmailEntry.onEmailEntrySend(this);" data-val="true" data-val-required="Please enter your last name" data-val-length-min="2" data-val-length-max="40" data-val-length="Your last name must be between 2 and 40 characters in length" />
<span class="validation-message small d-none"></span>
</div>
</div>
<div class="row my-3 ">
<div id="FromEmailAddrField" class="col-23 m-0 form-group float-container">
<label class="text-muted" for="FromAddrInput">
Email address
</label>
<input value onblur="EmailEntry.validateField($(this), true);" id="FromAddrInput" name="FromAddrInput" tabindex="1" class="form-control textInput input-lg m-0" type="text" maxlength="80" onkeyup="if (event.keyCode == 13) EmailEntry.onEmailEntrySend(this);" data-val="true" data-val-required="Please enter your email address" data-val-regex="Your email address is invalid." data-val-regex-pattern="^(?![-._'+])([_a-zA-Z0-9-._'+]+[a-zA-Z0-9-']+)@([-0-9a-zA-Z]+[.])+[a-zA-Z]{2,16}$" data-val-length-min="6" data-val-length-max="80" data-val-length="Your email address must be between 6 and 80 characters in length" />
<span class="validation-message small d-none"></span>
</div>
</div>
<div class="card p-4 d-none">
<h3>It looks like you alredy have a FindAMasters Account</h3>
<p class="mb-0">Log in to save time sending your enquiry and view previously sent enquiries</p>
</div>
<div class="row my-3 ">
<div id="FromTeleAddrField" class="col-23 m-0 form-group float-container">
<label class="text-muted" for="FromTeleInput">
Telephone number <span class="badge badge-gray-200 rounded-pill p-2 font-weight-light">Optional</span>
</label>
<input onblur="EmailEntry.validateField($(this), true);" id="FromTeleInput" name="FromTeleInput" tabindex="1" class="form-control textInput input-lg m-0" type="text" maxlength="50" onkeyup="if (event.keyCode == 13) EmailEntry.onEmailEntrySend(this);" data-val="true" data-val-length-min="2" data-val-length-max="40" data-val-length="Your telephone number must be between 2 and 40 characters in length" />
<span class="validation-message small d-none"></span>
</div>
<div class="col-1 px-0 d-flex align-items-center justify-content-center text-gray-500">
<i data-toggle="tooltip" data-placement="bottom" title="Providing your phone number enables the university to call you to respond to your enquiry." class="fa-regular fa-question-circle" style="cursor: help;"></i>
</div>
</div>
<div id="MoreInfoFields" class="col-22 px-0 form-group">
<label class="moreinfofieldsLabel" for="MoreInfoFields">
<h4>What would you like more information about?</h4>
<span class="warning-message" style="display: none;"><i class="fad fa-exclamation-triangle"></i> Please ensure you select at least one option</span>
</label>
<div class="clearBoth"></div>
<span class="validation-message small d-none"></span>
<div id="moreInfoCheckboxes" class="col-xs-24 col-md-24 col-lg-24 mas-checkbox tight-left enquiry-option enquiry-option__current">
<div class="row">
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input id="InfoCourseFees" class="checkbox" type="checkbox">
<span class="enquiry-type__inner text-muted">
<i class="fa-regular fa-circle"></i>&nbsp;
Fees & Funding
</span>
</label>
</div>
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input id="InfoEntryReq" class="checkbox" type="checkbox">
<span class="enquiry-type__inner">
<i class="fa-regular fa-circle"></i>&nbsp;
Entry requirements
</span>
</label>
</div>
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input id="InfoLangReq" class="checkbox" type="checkbox">
<span class="enquiry-type__inner">
<i class="fa-regular fa-circle"></i>&nbsp;
Language requirements
</span>
</label>
</div>
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input id="InfoAppProc" class="checkbox" type="checkbox">
<span class="enquiry-type__inner">
<i class="fa-regular fa-circle"></i>&nbsp;
Application procedure
</span>
</label>
</div>
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input id="InfoStartDate" class="checkbox" type="checkbox">
<span class="enquiry-type__inner">
<i class="fa-regular fa-circle"></i>&nbsp;
Start dates & study options
</span>
</label>
</div>
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input id="InfoOther" class="checkbox" type="checkbox">
<span class="enquiry-type__inner">
<i class="fa-regular fa-circle"></i>&nbsp;
Other
</span>
</label>
</div>
</div>
</div>
</div>
<div class="row">
<div id="SubjectInterestFields" class="col-23 pt-0 form-group">
<label class="moreinfofieldsLabel" for="MoreInfoFields">
<h4 class="pt-0">Which subjects are you interested in studying?</h4>
<span class="warning-message" style="display: none;"><i class="fad fa-exclamation-triangle"></i>Please ensure you select at least one option</span>
</label>
<div class="clearBoth"></div>
<div id="subjectsInterestedIn" class="col-xs-24 col-md-24 col-lg-24 mas-checkbox tight-left enquiry-option enquiry-option__current">
<div class="row">
<div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="8" id="disc8" data-discid="8"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Arts</span></label></div><div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="1" id="disc1" data-discid="1"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Biological & Medical Sciences</span></label></div><div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="11" id="disc11" data-discid="11"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Business & Finance</span></label></div><div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="2" id="disc2" data-discid="2"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Chemical Sciences</span></label></div><div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="3" id="disc3" data-discid="3"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Earth Sciences</span></label></div><div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="13" id="disc13" data-discid="13"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Education</span></label></div><div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="4" id="disc4" data-discid="4"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Engineering</span></label></div><div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="9" id="disc9" data-discid="9"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Humanities</span></label></div><div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="12" id="disc12" data-discid="12"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Law</span></label></div><div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="5" id="disc5" data-discid="5"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Maths & Computing</span></label></div><div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="6" id="disc6" data-discid="6"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Physical Sciences</span></label></div><div class="checkbox-holder enquiry-type my-1"><label class="checkbox-container"><input type="checkbox" class="checkbox" value="10" id="disc10" data-discid="10"><span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;Social Sciences & Health</span></label></div>
</div>
</div>
<span class="validation-message small d-none"></span>
</div>
<div class="col-1 px-0 d-flex align-items-center justify-content-center text-gray-500">
<i data-toggle="tooltip" data-placement="bottom" title="Select your preferred subjects to receive relevant alerts on Masters opportunities." class="fa-regular fa-question-circle" style="cursor: help;"></i>
</div>
</div>
<div class="row my-3">
<div id="TextInputOuter" class="col-23 m-0 form-group float-container">
<span class="label-cover"></span>
<label class="text-muted" for="TextInput">
Message
</label>
<textarea style="padding-top: 35px;" id="TextInput" name="TextInput" tabindex="1" rows="8" class="form-control textInput input-lg m-0" type="text" maxlength="2000" onblur="EmailEntry.validateField($(this),true); EmailEntry.validateMoreInfoFieldsFromTextArea();" data-val="true" data-val-required="Please enter your message" data-val-length-min="2" data-val-length-max="2000" data-val-length="Your message must be between 2 and 2000 characters in length"></textarea>
<span class="validation-message small d-none"></span>
</div>
<div class="col-1 px-0 d-flex align-items-center justify-content-center text-gray-500">
<i data-toggle="tooltip" data-placement="bottom" title="Ask questions about applications, funding, eligibility or any other queries you have. " class="fa-regular fa-question-circle" style="cursor: help;"></i>
</div>
</div>
<div class="row my-3 ">
<div id="CountryOfResField" class="col-23 m-0 form-group float-container">
<label class="text-muted" for="CountryOfResInput">
Country of residence
</label>
<select value="0" id="CountryOfResInput" name="CountryOfRes" data-dropupAuto="false" tabindex="4" class="form-control textInput input-lg m-0" OnChange="getCities(); EmailEntry.validateField($(this),true);" data-val="true" data-val-required="Please select where you are currently living">
<option value></option>
<option value="17">England</option>
<option value="27">Northern Ireland</option>
<option value="28">Scotland</option>
<option value="31">Wales</option>
<option value="202">Afghanistan</option>
<option value="104">Albania</option>
<option value="257">Algeria</option>
<option value="315">American Samoa</option>
<option value="105">Andorra</option>
<option value="258">Angola</option>
<option value="149">Anguilla</option>
<option value="150">Antigua and Barbuda</option>
<option value="187">Argentina</option>
<option value="203">Armenia</option>
<option value="151">Aruba</option>
<option value="21">Australia</option>
<option value="106">Austria</option>
<option value="204">Azerbaijan</option>
<option value="152">Bahamas</option>
<option value="205">Bahrain</option>
<option value="206">Bangladesh</option>
<option value="153">Barbados</option>
<option value="107">Belarus</option>
<option value="108">Belgium</option>
<option value="154">Belize</option>
<option value="259">Benin</option>
<option value="155">Bermuda</option>
<option value="207">Bhutan</option>
<option value="188">Bolivia</option>
<option value="109">Bosnia and Herzegovina</option>
<option value="260">Botswana</option>
<option value="189">Brazil</option>
<option value="208">British Ind. Ocean Terr.</option>
<option value="184">British Virgin Islands</option>
<option value="209">Brunei Darussalam</option>
<option value="110">Bulgaria</option>
<option value="261">Burkina Faso</option>
<option value="262">Burundi</option>
<option value="210">Cambodia</option>
<option value="263">Cameroon</option>
<option value="156">Canada</option>
<option value="264">Cape Verde</option>
<option value="396">Caribbean Netherlands</option>
<option value="157">Cayman Islands</option>
<option value="265">Central African Rep.</option>
<option value="266">Chad</option>
<option value="190">Chile</option>
<option value="211">China</option>
<option value="212">Christmas Island</option>
<option value="213">Cocos (Keeling)</option>
<option value="191">Colombia</option>
<option value="267">Comoros</option>
<option value="317">Cook Islands</option>
<option value="158">Costa Rica</option>
<option value="269">Côte d'Ivoire</option>
<option value="111">Croatia</option>
<option value="159">Cuba</option>
<option value="395">Curacao</option>
<option value="112">Cyprus</option>
<option value="113">Czechia</option>
<option value="268">Democratic Republic of the Congo</option>
<option value="114">Denmark</option>
<option value="270">Djibouti</option>
<option value="160">Dominica</option>
<option value="161">Dominican Republic</option>
<option value="215">East Timor</option>
<option value="192">Ecuador</option>
<option value="271">Egypt</option>
<option value="162">El salvador</option>
<option value="272">Equatorial Guinea</option>
<option value="273">Eritrea</option>
<option value="115">Estonia</option>
<option value="274">Ethiopia</option>
<option value="193">Falkland Islands</option>
<option value="116">Faroe Islands</option>
<option value="318">Fiji</option>
<option value="117">Finland</option>
<option value="18">France</option>
<option value="194">French Guiana</option>
<option value="319">French Polynesia</option>
<option value="275">Gabon</option>
<option value="276">Gambia</option>
<option value="216">Georgia</option>
<option value="118">Germany</option>
<option value="277">Ghana</option>
<option value="119">Gibraltar</option>
<option value="120">Greece</option>
<option value="163">Greenland</option>
<option value="164">Grenada</option>
<option value="165">Guadeloupe</option>
<option value="320">Guam</option>
<option value="166">Guatemala</option>
<option value="1978">Guernsey</option>
<option value="278">Guinea</option>
<option value="279">Guinea-Bissau</option>
<option value="195">Guyana</option>
<option value="167">Haiti</option>
<option value="168">Honduras</option>
<option value="217">Hong Kong</option>
<option value="121">Hungary</option>
<option value="122">Iceland</option>
<option value="218">India</option>
<option value="219">Indonesia</option>
<option value="220">Iran</option>
<option value="221">Iraq</option>
<option value="20">Ireland</option>
<option value="1686">Isle of Man</option>
<option value="222">Israel</option>
<option value="123">Italy</option>
<option value="169">Jamaica</option>
<option value="223">Japan</option>
<option value="1924">Jersey</option>
<option value="224">Jordan</option>
<option value="225">Kazakstan</option>
<option value="280">Kenya</option>
<option value="321">Kiribati</option>
<option value="391">Kosovo</option>
<option value="226">Kuwait</option>
<option value="227">Kyrgystan</option>
<option value="228">Laos</option>
<option value="124">Latvia</option>
<option value="229">Lebanon</option>
<option value="281">Lesotho</option>
<option value="282">Liberia</option>
<option value="283">Libyan Arab Jamahiriya</option>
<option value="125">Liechtenstein</option>
<option value="126">Lithuania</option>
<option value="127">Luxembourg</option>
<option value="230">Macau</option>
<option value="284">Madagascar</option>
<option value="285">Malawi</option>
<option value="231">Malaysia</option>
<option value="232">Maldives</option>
<option value="286">Mali</option>
<option value="129">Malta</option>
<option value="322">Marshall Islands</option>
<option value="170">Martinique</option>
<option value="287">Mauritania</option>
<option value="288">Mauritius</option>
<option value="289">Mayotte</option>
<option value="171">Mexico</option>
<option value="323">Micronesia</option>
<option value="130">Moldova</option>
<option value="131">Monaco</option>
<option value="233">Mongolia</option>
<option value="392">Montenegro</option>
<option value="172">Montserrat</option>
<option value="290">Morocco</option>
<option value="291">Mozambique</option>
<option value="234">Myanmar</option>
<option value="292">Namibia</option>
<option value="324">Nauru</option>
<option value="235">Nepal</option>
<option value="132">Netherlands</option>
<option value="173">Netherlands Antilles</option>
<option value="325">New Caledonia</option>
<option value="326">New Zealand</option>
<option value="174">Nicaragua</option>
<option value="293">Niger</option>
<option value="294">Nigeria</option>
<option value="327">Niue</option>
<option value="328">Norfolk Island</option>
<option value="236">North Korea</option>
<option value="128">North Macedonia</option>
<option value="329">Northern Mariana Is.</option>
<option value="133">Norway</option>
<option value="237">Oman</option>
<option value="238">Pakistan</option>
<option value="330">Palau</option>
<option value="214">Palestine</option>
<option value="175">Panama</option>
<option value="331">Papua New Guinea</option>
<option value="196">Paraguay</option>
<option value="197">Peru</option>
<option value="239">Philippines</option>
<option value="332">Pitcairn</option>
<option value="134">Poland</option>
<option value="135">Portugal</option>
<option value="176">Puerto Rico</option>
<option value="240">Qatar</option>
<option value="1995">Republic of the Congo</option>
<option value="295">Reunion</option>
<option value="136">Romania</option>
<option value="137">Russian Federation</option>
<option value="296">Rwanda</option>
<option value="397">Saint Barthelemy</option>
<option value="303">Saint Helena
</option>
<option value="177">Saint Kitts and Nevis</option>
<option value="178">Saint Lucia</option>
<option value="394">Saint Martin</option>
<option value="179">Saint Pierre and Miquelon</option>
<option value="180">Saint Vincent and Grenadines</option>
<option value="333">Samoa</option>
<option value="138">San Marino</option>
<option value="297">Sao Tome and Principe</option>
<option value="241">Saudi Arabia</option>
<option value="298">Senegal</option>
<option value="139">Serbia</option>
<option value="299">Seychelles</option>
<option value="300">Sierra Leone</option>
<option value="242">Singapore</option>
<option value="1692">Sint Maarten</option>
<option value="140">Slovakia</option>
<option value="141">Slovenia</option>
<option value="334">Solomon Islands</option>
<option value="301">Somalia</option>
<option value="302">South Africa</option>
<option value="243">South Korea</option>
<option value="393">South Sudan</option>
<option value="142">Spain</option>
<option value="244">Sri Lanka</option>
<option value="304">Sudan</option>
<option value="198">Suriname</option>
<option value="143">Svalbard and Jan Mayen</option>
<option value="305">Swaziland</option>
<option value="144">Sweden</option>
<option value="145">Switzerland</option>
<option value="245">Syria</option>
<option value="246">Taiwan</option>
<option value="247">Tajikistan</option>
<option value="306">Tanzania</option>
<option value="248">Thailand</option>
<option value="307">Togo</option>
<option value="335">Tokelau</option>
<option value="336">Tonga</option>
<option value="181">Trinidad and Tobago</option>
<option value="308">Tunisia</option>
<option value="249">Turkey</option>
<option value="250">Turkmenistan</option>
<option value="182">Turks and Caicos Is.</option>
<option value="337">Tuvalu</option>
<option value="185">U.S. Virgin Islands</option>
<option value="309">Uganda</option>
<option value="146">Ukraine</option>
<option value="251">United Arab Emirates</option>
<option value="199">Uruguay</option>
<option value="338">US Minor Outlying Is.</option>
<option value="183">USA</option>
<option value="252">Uzbekistan</option>
<option value="339">Vanuatu</option>
<option value="147">Vatican City State</option>
<option value="200">Venezuela</option>
<option value="253">Vietnam</option>
<option value="340">Wallis and Futuna Is.</option>
<option value="310">Western Sahara</option>
<option value="254">Yemen</option>
<option value="148">Yugoslavia</option>
<option value="311">Zaire</option>
<option value="312">Zambia</option>
<option value="313">Zimbabwe</option>
</select>
<span class="validation-message small d-none"></span>
</div>
<div class="col-1 px-0 d-flex align-items-center justify-content-center text-gray-500">
<i data-toggle="tooltip" data-placement="bottom" title="Select your current location to access location-specific funding opportunities." class="fa-regular fa-question-circle" style="cursor: help;"></i>
</div>
</div>
<div class="row my-3 ">
<div id="CityField" class="col-23 m-0 form-group float-container">
<label class="text-muted" for="CityInput">
Nearest city
</label>
<select disabled id="CityInput" name="City" tabindex="5" OnChange="EmailEntry.validateField($(this),true);" class="form-control textInput input-lg m-0" data-val="true" data-val-required="Please select your nearest city">
<option value></option>
</select>
<span class="validation-message small d-none"></span>
</div>
<div class="col-1 px-0 d-flex align-items-center justify-content-center text-gray-500">
<i data-toggle="tooltip" data-placement="bottom" title="Select your current location to access location-specific funding opportunities and alerts for events near you." class="fa-regular fa-question-circle" style="cursor: help;"></i>
</div>
</div>
<div class="row my-3 ">
<div id="NationalityField" class="col-23 m-0 form-group float-container">
<label class="text-muted" for="NationalityInput">
Nationality
</label>
<select id="NationalityInput" name="Nationality" OnChange="EmailEntry.validateField($(this),true);" tabindex="5" class="form-control textInput input-lg m-0" data-val="true" data-val-required="Please select your nationality">
<option value></option>
<option value="17">English</option>
<option value="27">Northern Irish</option>
<option value="28">Scottish</option>
<option value="31">Welsh</option>
<option value="202">Afghan</option>
<option value="104">Albanian</option>
<option value="257">Algerian</option>
<option value="183">American</option>
<option value="315">American Samoan</option>
<option value="338">American, Islander</option>
<option value="105">Andorran</option>
<option value="258">Angolan</option>
<option value="149">Anguillian</option>
<option value="150">Antiguans</option>
<option value="187">Argentinian</option>
<option value="203">Armenian</option>
<option value="151">Aruban</option>
<option value="21">Australian</option>
<option value="106">Austrian</option>
<option value="204">Azerbaijani</option>
<option value="152">Bahamian</option>
<option value="205">Bahraini</option>
<option value="206">Bangladeshi</option>
<option value="153">Barbadian</option>
<option value="397">Barthelemois</option>
<option value="107">Belarusian</option>
<option value="108">Belgian</option>
<option value="154">Belizean</option>
<option value="259">Beninese</option>
<option value="155">Bermudian</option>
<option value="207">Bhutanese</option>
<option value="188">Bolivian</option>
<option value="109">Bosnian</option>
<option value="189">Brazilian</option>
<option value="184">British Virgin Islander</option>
<option value="209">Bruneian</option>
<option value="110">Bulgarian</option>
<option value="261">Burkinabe</option>
<option value="234">Burmese</option>
<option value="262">Burundian</option>
<option value="210">Cambodian</option>
<option value="263">Cameroonian</option>
<option value="156">Canadian</option>
<option value="264">Cape Verdean</option>
<option value="396">Caribbean Netherlander</option>
<option value="157">Caymanian</option>
<option value="265">Central African</option>
<option value="266">Chadian</option>
<option value="208">Chagossian</option>
<option value="190">Chilean</option>
<option value="211">Chinese</option>
<option value="212">Christmas Islander</option>
<option value="213">Cocossian</option>
<option value="191">Colombian</option>
<option value="267">Comoran</option>
<option value="268">Congolese</option>
<option value="1995">Congolese</option>
<option value="317">Cook Islander</option>
<option value="158">Costa Rican</option>
<option value="111">Croatian</option>
<option value="159">Cuban</option>
<option value="395">Curacaoan</option>
<option value="112">Cypriot</option>
<option value="113">Czech</option>
<option value="114">Danish</option>
<option value="270">Djibouti</option>
<option value="161">Dominican</option>
<option value="160">Dominican (Dominica)</option>
<option value="132">Dutch</option>
<option value="173">Dutch Antillean</option>
<option value="215">East Timorese</option>
<option value="192">Ecuadorean</option>
<option value="271">Egyptian</option>
<option value="251">Emirati Arab</option>
<option value="272">Equatorial Guinean</option>
<option value="273">Eritrean</option>
<option value="115">Estonian</option>
<option value="274">Ethiopian</option>
<option value="193">Falkland Islander</option>
<option value="116">Faroese</option>
<option value="318">Fijian</option>
<option value="239">Filipino</option>
<option value="117">Finnish</option>
<option value="18">French</option>
<option value="179">French (St. Pierre + Miquelon)</option>
<option value="194">French Guianese</option>
<option value="319">French Polynesians</option>
<option value="275">Gabonese</option>
<option value="276">Gambian</option>
<option value="216">Georgian</option>
<option value="118">German</option>
<option value="277">Ghanaian</option>
<option value="119">Gibraltarian</option>
<option value="120">Greek</option>
<option value="163">Greenlander</option>
<option value="164">Grenadian</option>
<option value="165">Guadeloupian</option>
<option value="320">Guamanian</option>
<option value="166">Guatemalan</option>
<option value="279">Guinea-Bissauan</option>
<option value="278">Guinean</option>
<option value="195">Guyanese</option>
<option value="167">Haitian</option>
<option value="168">Honduran</option>
<option value="217">Hongkonger</option>
<option value="121">Hungarian</option>
<option value="122">Icelander</option>
<option value="321">I-Kiribati</option>
<option value="218">Indian</option>
<option value="219">Indonesian</option>
<option value="220">Iranian</option>
<option value="221">Iraqi</option>
<option value="20">Irish</option>
<option value="222">Israeli</option>
<option value="123">Italian</option>
<option value="269">Ivorian</option>
<option value="169">Jamaican</option>
<option value="223">Japanese</option>
<option value="224">Jordanian</option>
<option value="225">Kazakhstani</option>
<option value="280">Kenyan</option>
<option value="177">Kittian/Nevisian</option>
<option value="391">Kosovan</option>
<option value="226">Kuwaiti</option>
<option value="227">Kyrgyz</option>
<option value="228">Laotian</option>
<option value="124">Latvian</option>
<option value="229">Lebanese</option>
<option value="282">Liberian</option>
<option value="283">Libyan</option>
<option value="125">Liechtensteiner</option>
<option value="126">Lithuanian</option>
<option value="127">Luxembourger</option>
<option value="230">Macanese</option>
<option value="128">Macedonian</option>
<option value="289">Mahorais</option>
<option value="284">Malagasy</option>
<option value="285">Malawi</option>
<option value="231">Malaysian</option>
<option value="232">Maldivan</option>
<option value="286">Malian</option>
<option value="129">Maltese</option>
<option value="322">Marshallese</option>
<option value="170">Martinican</option>
<option value="287">Mauritanian</option>
<option value="288">Mauritian</option>
<option value="171">Mexican</option>
<option value="323">Micronesian</option>
<option value="130">Moldovan</option>
<option value="131">Monacan</option>
<option value="233">Mongolian</option>
<option value="392">Montenegrin</option>
<option value="172">Montserratian</option>
<option value="290">Moroccan</option>
<option value="281">Mosotho</option>
<option value="260">Motswana</option>
<option value="291">Mozambican</option>
<option value="292">Namibian</option>
<option value="324">Nauruan</option>
<option value="235">Nepalese</option>
<option value="325">New Caledonian</option>
<option value="326">New Zealander</option>
<option value="174">Nicaraguan</option>
<option value="294">Nigerian</option>
<option value="293">Nigerien (Niger)</option>
<option value="327">Niuean</option>
<option value="339">Ni-Vanuatu</option>
<option value="328">Norfolk Islander</option>
<option value="236">North Korean</option>
<option value="133">Norwegian</option>
<option value="237">Omani</option>
<option value="238">Pakistani</option>
<option value="330">Palauan</option>
<option value="214">Palestinian</option>
<option value="175">Panamanian</option>
<option value="331">Papua New Guinean</option>
<option value="196">Paraguayan</option>
<option value="197">Peruvian</option>
<option value="332">Pitcairn Islander</option>
<option value="134">Polish</option>
<option value="135">Portuguese</option>
<option value="176">Puerto Rican</option>
<option value="240">Qatari</option>
<option value="295">Reunionese</option>
<option value="136">Romanian</option>
<option value="137">Russian</option>
<option value="296">Rwandan</option>
<option value="310">Sahrawi</option>
<option value="303">Saint Helenian</option>
<option value="178">Saint Lucian</option>
<option value="180">Saint Vincentian</option>
<option value="162">Salvadoran</option>
<option value="333">Samoan</option>
<option value="138">San Marinese</option>
<option value="297">Sao Tomean</option>
<option value="241">Saudi</option>
<option value="298">Senegalese</option>
<option value="139">Serbian</option>
<option value="299">Seychellois</option>
<option value="300">Sierra Leonean</option>
<option value="242">Singaporean</option>
<option value="140">Slovakian</option>
<option value="141">Slovenian</option>
<option value="334">Solomon Islander</option>
<option value="301">Somali</option>
<option value="302">South African</option>
<option value="243">South Korean</option>
<option value="393">South Sudanese</option>
<option value="142">Spanish</option>
<option value="244">Sri Lankan</option>
<option value="1692">St. Maartener</option>
<option value="394">St. Martiner</option>
<option value="304">Sudanese</option>
<option value="198">Surinamer</option>
<option value="143">Svalbard</option>
<option value="305">Swazi</option>
<option value="144">Swedish</option>
<option value="145">Swiss</option>
<option value="245">Syrian</option>
<option value="246">Taiwanese</option>
<option value="247">Tajik</option>
<option value="306">Tanzanian</option>
<option value="248">Thai</option>
<option value="307">Togolese</option>
<option value="335">Tokelauan</option>
<option value="336">Tongan</option>
<option value="181">Trinidadian or Tobagonian</option>
<option value="308">Tunisian</option>
<option value="249">Turkish</option>
<option value="250">Turkmen</option>
<option value="182">Turks and Caicos Islander</option>
<option value="337">Tuvaluan</option>
<option value="185">U.S. Virgin Islander</option>
<option value="309">Ugandan</option>
<option value="146">Ukrainian</option>
<option value="199">Uruguayan</option>
<option value="252">Uzbekistani</option>
<option value="200">Venezuelan</option>
<option value="253">Vietnamese</option>
<option value="340">Wallisian, Futunan</option>
<option value="254">Yemenite</option>
<option value="148">Yugoslav</option>
<option value="311">Zairean</option>
<option value="312">Zambian</option>
<option value="313">Zimbabwean</option>
</select>
<span class="validation-message small d-none"></span>
</div>
<div class="col-1 px-0 d-flex align-items-center justify-content-center text-gray-500">
<i data-toggle="tooltip" data-placement="bottom" title="Select your nationality to access nationality-specific funding opportunities." class="fa-regular fa-question-circle" style="cursor: help;"></i>
</div>
</div>
<div class="row ">
<div id="AgeRangeFields" class="col-23 pt-0 mb-2 form-group">
<label class="moreinfofieldsLabel" for="MoreInfoFields">
<h4 class="pt-0">Which age group are you? <span class="badge badge-gray-200 rounded-pill p-2 font-weight-light">Optional</span></h4>
</label>
<div class="clearBoth"></div>
<div class="col-xs-24 col-md-24 col-lg-24 mas-checkbox enquiry-option enquiry-option__current">
<div class="row">
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input id="Age1821" data-median-age="19.5" class="radio" name="ageRadio" type="radio">
<span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;18-21
</span>
</label>
</div>
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input data-median-age="22.5" id="Age2225" class="radio" name="ageRadio" type="radio">
<span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;22-25
</span>
</label>
</div>
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input data-median-age="28.5" id="Age2631" class="radio" name="ageRadio" type="radio">
<span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;26-31
</span>
</label>
</div>
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input data-median-age="38.5" id="Age3245" class="radio" name="ageRadio" type="radio">
<span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;32-45
</span>
</label>
</div>
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input data-median-age="55" id="Age4665" class="radio" name="ageRadio" type="radio">
<span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;46-65
</span>
</label>
</div>
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input data-median-age="66" id="AgeOver66" class="radio" name="ageRadio" type="radio">
<span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;66+
</span>
</label>
</div>
<div class="checkbox-holder enquiry-type my-1">
<label class="checkbox-container">
<input id="AgeNone" data-median-age class="radio" name="ageRadio" type="radio">
<span class="enquiry-type__inner"><i class="fa-regular fa-circle"></i>&nbsp;I prefer not to say
</span>
</label>
</div>
</div>
</div>
</div>
<div class="col-1 px-0 d-flex align-items-center justify-content-center text-gray-500">
<i data-toggle="tooltip" data-placement="bottom" title="Select your age to access age-specific funding opportunities." class="fa-regular fa-question-circle" style="cursor: help;"></i>
</div>
</div>
</div>
<div class="col-xs-24 pb-3 checkbox-holder no-border tight checkbox-send-copy d-none">
<label class="checkbox-container">
Send a copy to me <span class="d-none d-lg-inline">for my own records</span>
<input id="SendCopy" class="checkbox" type="checkbox" checked="checked">
<span class="checkmark"></span>
<span class="checkmark"></span>
</label>
</div>
<div class="clearfix"></div>
<div class="col-xs-24 col-sm-24 col-md-24 col-lg-24 tight email-submit-button mt-3">
<button tabindex="8" id="email-enq-submit" class="sendOption clb noarrow btn rounded-pill btn-success px-4 py-3" onclick="EmailEntry.onEmailEntrySend(this, ''); return false;" value="Submit" style="margin-top: 0px;">Register interest</button>
</div>
<p class="small mt-3 text-gray-500">
The information you submit to University of Exeter will only be used by them or their data partners to deal with your enquiry, according to their <a href="http://www.exeter.ac.uk/privacy/cookies/" target="_blank">privacy notice</a>. For more information on how we use and store your data, please read our <a href="/privacy.aspx" target="_blank">privacy statement</a>.
</p>
<div class="errorsOuter col-xs-24 col-sm-24 col-md-24 col-lg-24 tight" style=" margin-top:15px; margin-bottom: 0px;">
<h3><span class="glyphicon glyphicon-exclamation-sign"></span>Please correct the errors indicated below to send your enquiry</h3>
<div class="errorsInner"></div>
</div>
<div class="clearBoth"></div>
</div>
<div class="sentPage hiddenish">
<div class="card p-5 text-gray-900">
<br/>
<i class="fa-regular fa-envelope-circle-check fa-2x text-primary"></i>
<script>
                    dataLayer.push({
                        'event': 'conv_events',
                        'event_category': 'Course Enquiry',
                        'event_action': 'University Enquiry',
                        'event_label': '302'
                    });
                </script>
<br/>
</div>
</div>
<input id="ToAddrInput" type="hidden" value="e2f07701471def6d87af48543ce634b11d8e78021d4ab2e8e8b30cc980f49298" />
</div>
</div>
<div class="clearBoth"></div>
<script>
    function updateEnquiryMessage() {
        //EmailEntry.scrollTo(jQuery('#EmailTitle,#EmailPanel'));
        jQuery('.sendPage').remove();
        //jQuery('.sentPage').show();
        //jQuery('#EmailTitle').hide();
        $('#EmailTitle').html("").hide();
        $("<div class='card text-center p-5'><i class='fa-regular fa-circle-check fa-2x text-green'></i><br/><h3>Enquiry sent to " + instName + "</h3><p>You can view sent enquiries and change your alert preferences within <a href='/myaccount/'>your account</a>. You will find more details about our newsletter in your welcome email.</p></div>").insertAfter($('#EmailTitle'));

        $('#email-holder').addClass('d-none');

        $('#loginToastText').html('Enquiry sent successfully');
        $('#loginToastIcon').html("<i class='fa-regular fa-circle-check text-green'></i>");
        $('#loginToast').toast('show');
    }

    function updateEnquiryMessageGoogle() {
        EmailEntry.scrollTo(jQuery('#EmailTitle,#EmailPanel'));
        jQuery('#newsletterQuestion').remove();
        jQuery('.sentPage').show();
        jQuery('#EmailTitle').hide();
    }



    function enquiryOption(type, component) {

        var checkbox = $(component);

        if ((checkbox).hasClass('enquiry-type__active')) {
            $(checkbox).removeClass('enquiry-type__active');
            if (type === 'fees') {
                $('#InfoCourseFees').prop('checked', false);
            } else if (type === 'appproc') {
                $('#InfoAppProc').prop('checked', false);

            } else if (type === 'langreq') {
                $('#InfoLangReq').prop('checked', false);

            } else if (type === 'entry') {
                $('#InfoEntryReq').prop('checked', false);
            }
            else if (type === 'startdate') {
                $('#InfoStartDate').prop('checked', false);
            } else {
                $('#InfoOther').prop('checked', false);
            }
        }
        else {
            if (type === 'fees') {
                $('#InfoCourseFees').prop('checked', true);
            } else if (type === 'appproc') {
                $('#InfoAppProc').prop('checked', true);

            } else if (type === 'langreq') {
                $('#InfoLangReq').prop('checked', true);

            } else if (type === 'entry') {
                $('#InfoEntryReq').prop('checked', true);
            }
            else if (type === 'startdate') {
                $('#InfoStartDate').prop('checked', true);
            } else {
                $('#InfoOther').prop('checked', true);
            }
            $(checkbox).addClass('enquiry-type__active');
        }
    }
</script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="full-width-container container-fluid full-width-white extras-container">
<div class="page-content container px-0">
<div class="row pr-lg-4">
<div class="col-24 col-md-16 col-lg-17 course-content">
<a class="text-dark text-decoration-none" onclick="faustat.addstats('MAS', 224, 64503);DataLayerManager.ChatToStudent(302, 'University of Exeter', 'unibuddy', 0,'False', '17,25,4' , 'Geography,Mathematics,Biological Sciences',  '1701,2502,2505,2507,411,414,2516',  'Environmental Geography,Applied Mathematics,Mathematical Modelling,Computational Mathematics,Ecology - Biodiversity,Ecology - Conservation,Mathematics - Other',  'September',  'Full Time,On Campus',  'United Kingdom',  '',  'MSc', '');ga('send', 'event', 'InstID=302', 'Course Listing Institution Profile Referral (Button)', 'CID=64503#', {'nonInteraction': 1});" href="/masters-degrees/institution/302/university-of-exeter/#student-chat" target="_blank">
<div class="row course-sections__student-chat--outer bg-white border rounded shadow-sm my-4 mx-0 p-3">
<div class="col-24 px-0 course-sections__student-chat course-sections__student-chat--tap course-sections__student-chat--new">
<h4 class="course-sections__title">Chat to a Student Ambassador</h4>
<p>Our student ambassadors are the best people to tell you about what studying at University of Exeter is like.</p>
<div class="col-xs-24 tight student-chat__bottom text-center">
<img src="https://fau-res.cloudinary.com/image/upload/f_auto/mas/ambassador-image.png" class="img-fluid pb-2" />
<span class="student-chat__btn btn btn-success rounded-pill px-4 py-3">Chat to a student now</span>
</div>
</div>
</div>
</a>
<div class="course-sections course-sections__opendays col-24 px-0 px-md-auto">
<h2 class="course-sections__title mt-4 mt-md-3">Open days</h2>
<div class="row m-md-n2  mx-0 ">
<div class="calendar-block__outer  col-24 px-0 p-md-2  col-md-12" id="DetailsOpenDayDiv0">
<a class="calendar-block card col w-100 h-100 px-0 shadow-sm text-decoration-none" onclick="DataLayerRefInternal('FeaturedOpenDay', 'University of Exeter', '302', '');faustat.addstats('MAS', '280', 64503);PermutiveInsights.linkClickEvent(this.innerHTML, 'link', this.getAttribute('href'));" href="/opendays/7792/you-can-now-book-your-place-at-our-postgraduate-online-subject-sessions" title="Click to find out more about this open day: You can now book your place at our Postgraduate Online Subject Sessions!">
<div class="card-img-wrap">
<img alt="Open Day" title="Open Day" class="img-event img-fluid card-img-top" src="https://fau-res.cloudinary.com/image/upload/common/bespoke-pages/custom-pages/bpid7792/img2023515594.jpg">
</div>
<div class="card-body">
<h5 class="text-dark">You can now book your place at our Postgraduate Online Subject Sessions!</h5>
<p class="text-dark"><i class="fa-regular fa-calendar text-secondary" aria-hidden="true"></i>04 December 2023</p>
</div>
</a>
</div>
<script>
                                            var observerDetailsOpenDay0 = new IntersectionObserver(
                                                function (entries) {
                                                    if (entries[0].isIntersecting === true) {
                                                        DataLayerAdImpression('FeaturedOpenDay', 0, 'University of Exeter', '302', '', '');
                                                     observerDetailsOpenDay0.disconnect();
                                                 }
                                             },
                                             {
                                                 threshold: [1]
                                             });

                                            observerDetailsOpenDay0.observe(document.querySelector('#DetailsOpenDayDiv0'));
                                        </script>
<br/>
</div>
</div>
<div class="course-sections course-sections__study-info tight col-24 px-0 px-md-auto">
<h2 class="course-sections__title mt-4 mt-md-3">Where will I study?</h2>
<div class="inst-profile" id="DetailsInstitutionProfileDiv">
<a class="card mb-3 shadow-sm text-dark text-decoration-none" onclick="DataLayerRefInternal('InstitutionProfile', 'University of Exeter', '302', '');faustat.addstats('MAS', 224, 64503);PermutiveInsights.linkClickEvent(this.innerHTML, 'link', this.getAttribute('href'));ga('send', 'event', 'InstID=302', 'Course Listing Institution Profile Referral (Button)', 'CID=64503#', {'nonInteraction': 1});" href="/masters-degrees/institution/302/university-of-exeter" target="_blank">
<div class="card-img-wrap">
<img class="img-fluid card-img-top inst-profile__image" alt="University Logo logo for Choose Exeter for your Masters" src="https://fau-res.cloudinary.com/image/upload/common/bespoke-pages/custom-pages/bpid3580/img202343996.jpg" />
</div>
<div class="card-body">
<h5>University of Exeter</h5>
<p>A Masters at the is a great way to gain a competitive edge in your field or gain specialist training in a particular subject area. At Exeter we combine teaching excellence and high levels of student satisfaction with world class research. A member of the Russell Group, our success is built on a strong partnership with our students and a clear focus on high performance. We are the fastest growing research-intensive university in the UK and 98 per cent of our research was rated as international or world-leading quality in the last national Research Excellence Framework. </p>
<span class="btn btn-link text-success p-0 text-decoration-none">Read More <i class="fa-regular fa-angle-down"></i></span>
</div>
</a>
</div>
<script>
                                    var observerDetailsInstitutionProfile = new IntersectionObserver(
                                        function (entries) {
                                            if (entries[0].isIntersecting === true) {
                                                DataLayerAdImpression('InstitutionProfile', 0, 'University of Exeter', '302', '64503', '');
                                            observerDetailsInstitutionProfile.disconnect();
                                        }
                                    },
                                    {
                                        threshold: [1]
                                    });

                                    observerDetailsInstitutionProfile.observe(document.querySelector('#DetailsInstitutionProfileDiv'));
                                </script>
</div>
<div class="course-sections course-sections__location-map col-24 mt-3 mt-md-3 tight py-3 px-0 px-md-auto">
<h5>Where is University of Exeter</h5>
<div style="width: 100%; overflow: hidden; height: 300px; margin-bottom: 20px; border-radius: 5px;">
<iframe src="https://www.google.com/maps/embed/v1/place?q=50.73717100,-3.53518800&amp;key=AIzaSyCU8UMY7fuRpJbPl4yq38xQtBDfmMw_hc8&zoom=8" width="100%" height="600" frameborder="0" style="border: 0; margin-top: -150px;"></iframe>
</div>
</div>
<div class="col-24 px-lg-0">
<hr/>
</div>
<div class="course-sections course-sections__videos col-24 px-0 px-lg-0">
<h2 class="course-sections__title">Videos</h2>
<div class="col-24 p-0 relatedFeaturePanel open">
<div class="col-24 p-0" id="VideosContent">
<div>
<div id="VidPlayerOuter" class="iframeInner embed-responsive embed-responsive-16by9">
<iframe id="VideoPlayer" src="https://www.youtube.com/embed/pqJsk35HZw4?enablejsapi=1&origin=http%3A%2F%2Fwww.findamasters.com&rel=0" frameborder="0" allowfullscreen></iframe>
</div>
<br/>
<div>
<h6 class="vidListTitle">All Available Videos:</h6>
<div class="row" id="VideoList">
<div class="col-md-8 col-12 mb-3 selected" itemscope itemtype="http://schema.org/VideoObject">
<span class="d-none" itemprop="description">REF2021: Our research is changing the world</span>
<span class="d-none" itemprop="name">REF2021: Our research is changing the world</span>
<span class="d-none" itemprop="uploadDate">13/06/2023 12:40:03</span>
<a href="#extra-content-videos" onclick="Page.vidLinkOnClick(1, 'pqJsk35HZw4'); $(this).closest('div').add('#VideoList .selected').toggleClass('selected');">
<link itemprop="thumbnailUrl" href="https://www.youtube.com/embed/pqJsk35HZw4?autoplay=1&enablejsapi=1&origin=http%3A%2F%2Fwww.findamasters.com&rel=0" />
<img class="img-fluid" src="https://img.youtube.com/vi/pqJsk35HZw4/0.jpg" />
<div class="spacer"></div>
<div class="vidTitle text-dark small">REF2021: Our research is changing the world</div>
</a>
<meta content="REF2021: Our research is changing the world, University of Exeter" />
<meta content="2023-06-13T12:40:03.0730000+01:00" />
</div>
<div class="col-md-8 col-12 mb-3 " itemscope itemtype="http://schema.org/VideoObject">
<span class="d-none" itemprop="description">This is the University of Exeter</span>
<span class="d-none" itemprop="name">This is the University of Exeter</span>
<span class="d-none" itemprop="uploadDate">13/06/2023 12:40:12</span>
<a href="#extra-content-videos" onclick="Page.vidLinkOnClick(1, 'BUN0sSa2e9c'); $(this).closest('div').add('#VideoList .selected').toggleClass('selected');">
<link itemprop="thumbnailUrl" href="https://www.youtube.com/embed/BUN0sSa2e9c?autoplay=1&enablejsapi=1&origin=http%3A%2F%2Fwww.findamasters.com&rel=0" />
<img class="img-fluid" src="https://img.youtube.com/vi/BUN0sSa2e9c/0.jpg" />
<div class="spacer"></div>
<div class="vidTitle text-dark small">This is the University of Exeter</div>
</a>
<meta content="This is the University of Exeter, University of Exeter" />
<meta content="2023-06-13T12:40:12.0800000+01:00" />
</div>
<div class="col-md-8 col-12 mb-3 " itemscope itemtype="http://schema.org/VideoObject">
<span class="d-none" itemprop="description">Top tips for adjusting to university life at the University of Exeter</span>
<span class="d-none" itemprop="name">Top tips for adjusting to university life at the University of Exeter</span>
<span class="d-none" itemprop="uploadDate">13/06/2023 12:40:23</span>
<a href="#extra-content-videos" onclick="Page.vidLinkOnClick(1, 'Vd8PPq1l84Y'); $(this).closest('div').add('#VideoList .selected').toggleClass('selected');">
<link itemprop="thumbnailUrl" href="https://www.youtube.com/embed/Vd8PPq1l84Y?autoplay=1&enablejsapi=1&origin=http%3A%2F%2Fwww.findamasters.com&rel=0" />
<img class="img-fluid" src="https://img.youtube.com/vi/Vd8PPq1l84Y/0.jpg" />
<div class="spacer"></div>
<div class="vidTitle text-dark small">Top tips for adjusting to university life at ...</div>
</a>
<meta content="Top tips for adjusting to university life at the University of Exeter, University of Exeter" />
<meta content="2023-06-13T12:40:23.9630000+01:00" />
</div>
<div class="col-md-8 col-12 mb-3 " itemscope itemtype="http://schema.org/VideoObject">
<span class="d-none" itemprop="description">Discover the University of Exeter</span>
<span class="d-none" itemprop="name">Discover the University of Exeter</span>
<span class="d-none" itemprop="uploadDate">13/06/2023 12:40:34</span>
<a href="#extra-content-videos" onclick="Page.vidLinkOnClick(1, 'B_dKplPQtnQ'); $(this).closest('div').add('#VideoList .selected').toggleClass('selected');">
<link itemprop="thumbnailUrl" href="https://www.youtube.com/embed/B_dKplPQtnQ?autoplay=1&enablejsapi=1&origin=http%3A%2F%2Fwww.findamasters.com&rel=0" />
<img class="img-fluid" src="https://img.youtube.com/vi/B_dKplPQtnQ/0.jpg" />
<div class="spacer"></div>
<div class="vidTitle text-dark small">Discover the University of Exeter</div>
</a>
<meta content="Discover the University of Exeter, University of Exeter" />
<meta content="2023-06-13T12:40:34.5300000+01:00" />
</div>
<div class="col-md-8 col-12 mb-3 " itemscope itemtype="http://schema.org/VideoObject">
<span class="d-none" itemprop="description">Where it&#39;s all possible</span>
<span class="d-none" itemprop="name">Where it&#39;s all possible</span>
<span class="d-none" itemprop="uploadDate">13/06/2023 12:40:46</span>
<a href="#extra-content-videos" onclick="Page.vidLinkOnClick(1, 'nI08RFnY9F4'); $(this).closest('div').add('#VideoList .selected').toggleClass('selected');">
<link itemprop="thumbnailUrl" href="https://www.youtube.com/embed/nI08RFnY9F4?autoplay=1&enablejsapi=1&origin=http%3A%2F%2Fwww.findamasters.com&rel=0" />
<img class="img-fluid" src="https://img.youtube.com/vi/nI08RFnY9F4/0.jpg" />
<div class="spacer"></div>
<div class="vidTitle text-dark small">Where it's all possible</div>
</a>
<meta content="Where it&#39;s all possible, University of Exeter" />
<meta content="2023-06-13T12:40:46.8800000+01:00" />
</div>
<div class="col-md-8 col-12 mb-3 " itemscope itemtype="http://schema.org/VideoObject">
<span class="d-none" itemprop="description">MSc Applied Data Science</span>
<span class="d-none" itemprop="name">MSc Applied Data Science</span>
<span class="d-none" itemprop="uploadDate">13/06/2023 12:42:04</span>
<a href="#extra-content-videos" onclick="Page.vidLinkOnClick(1, 'axCVRYczaFc'); $(this).closest('div').add('#VideoList .selected').toggleClass('selected');">
<link itemprop="thumbnailUrl" href="https://www.youtube.com/embed/axCVRYczaFc?autoplay=1&enablejsapi=1&origin=http%3A%2F%2Fwww.findamasters.com&rel=0" />
<img class="img-fluid" src="https://img.youtube.com/vi/axCVRYczaFc/0.jpg" />
<div class="spacer"></div>
<div class="vidTitle text-dark small">MSc Applied Data Science</div>
</a>
<meta content="MSc Applied Data Science, University of Exeter" />
<meta content="2023-06-13T12:42:04.8030000+01:00" />
</div>
<div class="col-md-8 col-12 mb-3 " itemscope itemtype="http://schema.org/VideoObject">
<span class="d-none" itemprop="description">Discover MSc Applied Data Science (Environment and Sustainability) at the University of Exeter</span>
<span class="d-none" itemprop="name">Discover MSc Applied Data Science (Environment and Sustainability) at the University of Exeter</span>
<span class="d-none" itemprop="uploadDate">13/06/2023 12:42:48</span>
<a href="#extra-content-videos" onclick="Page.vidLinkOnClick(1, 'i_K1GbmAom4'); $(this).closest('div').add('#VideoList .selected').toggleClass('selected');">
<link itemprop="thumbnailUrl" href="https://www.youtube.com/embed/i_K1GbmAom4?autoplay=1&enablejsapi=1&origin=http%3A%2F%2Fwww.findamasters.com&rel=0" />
<img class="img-fluid" src="https://img.youtube.com/vi/i_K1GbmAom4/0.jpg" />
<div class="spacer"></div>
<div class="vidTitle text-dark small">Discover MSc Applied Data Science (Environmen...</div>
</a>
<meta content="Discover MSc Applied Data Science (Environment and Sustainability) at the University of Exeter, University of Exeter" />
<meta content="2023-06-13T12:42:48.6770000+01:00" />
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="course-sections course-sections__scholarships pb-4 tight col-24 px-0 px-md-auto overflow-auto">
<h2 class="course-sections__title">Scholarships</h2>
<div class="accordion accordion-block">
<div class="card my-2 border rounded">
<div class="card-header p-2" id="schol-accordion__header--6716">
<h6 class="mb-0">
<button class="btn btn-link btn-block text-left collapsed text-decoration-none text-dark" type="button" data-toggle="collapse" data-target="#schol-accordion__content--6716" aria-expanded="true" aria-controls="collapseOne">
Postgraduate funding
</button>
</h6>
</div>
<div id="schol-accordion__content--6716" class="collapse" aria-labelledby="schol-accordion__header--6716">
<div class="card-body">
<p>
We’ve provided the information on our website to help you get started on finding funding opportunities that are available to you: <a class="noWrap inheritFont" onclick="ga('send', 'event', 'DeptID=8985', 'Referral: Text Hyperlinks', 'CID=64503#', {'nonInteraction': 1});faustat.addstats('MAS',25,64503);PermutiveInsights.linkClickEvent(this.innerHTML, 'link', this.getAttribute('href'));DataLayerRefExternalFull(302, 'University of Exeter', 8985, '64503', 'Mathematics and Statistics', '');" href="https://www.findamasters.com/common/clickCount.aspx?theid=64503&type=25&DID=8985&url=https%3a%2f%2fwww.exeter.ac.uk%2fstudy%2ffunding%2f" rel="nofollow" target="_blank">https://www.exeter.ac.uk/study/funding/</a>
</p>
<h4>Eligibility</h4>
<p>We recommend you start looking as early as possible for funding, especially if you will need financial assistance to undertake a postgraduate course. <br/>There are a number of ways to fund postgraduate study including: scholarships, studentships, wages, bursaries, savings, inheritance, and, increasingly, alternative methods such as crowdfunding and philanthropy. The options available may depend on your fee status or other criteria. <br/></p>
<h4>Application Procedure</h4>
<p>See our website for details of funding available and how to apply :<a class="noWrap inheritFont" onclick="ga('send', 'event', 'DeptID=8985', 'Referral: Text Hyperlinks', 'CID=64503#', {'nonInteraction': 1});faustat.addstats('MAS',25,64503);PermutiveInsights.linkClickEvent(this.innerHTML, 'link', this.getAttribute('href'));DataLayerRefExternalFull(302, 'University of Exeter', 8985, '64503', 'Mathematics and Statistics', '');" href="https://www.findamasters.com/common/clickCount.aspx?theid=64503&type=25&DID=8985&url=https%3a%2f%2fwww.exeter.ac.uk%2fstudy%2ffunding%2f" rel="nofollow" target="_blank">https://www.exeter.ac.uk/study/funding/</a></p>

<br/>
<p>
<a class="wrapUrls btn btn-success" href="https://www.findamasters.com/common/clickCount.aspx?theid=64503&amp;type=28&amp;DID=8985&amp;url=https%3a%2f%2fwww.exeter.ac.uk%2fstudy%2ffunding%2f" onclick="ga('send', 'event', 'DeptID=8985', 'Referral: Scholarship Text Hyperlinks', 'CID=64503#', {'nonInteraction': 1});faustat.addstats('MAS',28,64503);PermutiveInsights.linkClickEvent(this.innerHTML, 'link', this.getAttribute('href'));" title="Further information about Postgraduate funding from University of Exeter" target="_blank">Find out more</a>
</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script>faustat.addstats('MAS','1',64503);</script>
<div class="clearBoth"></div>
</div>
<div class="full-width-container container-fluid full-width-white search-suggestions__holder">
<div class="page-content container px-0 px-md-auto pl-lg-0">
<div class="col-24 col-md-16 col-lg-17 course-content pl-0 mb-3 pr-0 pr-md-3">
<div class="row m-n2 pr-lg-2">
<div class="col-md-12 col-24 p-2">
<div class="card shadow-sm h-100 w-100" href="/study-abroad/">
<div class="card-img-wrap">
<img class="card-img-top" src="https://fau-res.cloudinary.com/image/upload/f_auto/mas/search-suggestions.jpg">
</div>
<div class="card-body">
<a href="/study-abroad/" class="card-title text-dark h5">Search Suggestions</a>
<p class="card-text text-dark">Based on your current searches we recommend the following search filters</p>
<div class="suggestions__link d-flex py-2 align-items-center">
<i class="fa-regular fa-map-location-dot text-secondary suggestions__link--icon px-2"></i>
<p class="suggestions__link--text mb-0 small">Check out our other Masters Courses in <a class="text-success text-decoration-none" href="/masters-degrees/united-kingdom/exeter/" title="View all courses in Exeter">Exeter</a>, <a class="text-success text-decoration-none" href="/masters-degrees/united-kingdom/" title="View all courses in United Kingdom">United Kingdom</a></p>
</div>
<div class="suggestions__link d-flex py-2 align-items-center">
<i class="fa-regular fa-user-graduate text-secondary suggestions__link--icon px-2"></i>
<p class="suggestions__link--text mb-0 small">Check out our other Masters Courses in <a class="text-success text-decoration-none" href="/masters-degrees/geography/">Geography</a></p>
</div>
<div class="suggestions__link d-flex py-2 align-items-center">
<i class="fa-regular text-secondary fa-search suggestions__link--icon px-2"></i>
<p class="suggestions__link--text mb-0 small">Start a new search with our database of over <a class="text-success text-decoration-none" href="/masters-degrees/">23,000 Masters Courses</a></p>
</div>
</div>
</div>
</div>
<div class="col-md-12 col-24 p-2">
<div class="card shadow-sm h-100 w-100" href="/study-abroad/">
<div class="card-img-wrap">
<img class="card-img-top" src="https://fau-res.cloudinary.com/image/upload/f_auto/mas/search-suggestions.jpg">
</div>
<div class="card-body">
<a href="/study-abroad/" class="card-title text-dark h5">Course Suggestions</a>
<p class="card-text text-dark">Based on your current search criteria we thought you might be interested in these</p>
<p class="suggestions__content lh-small">
<a class="suggestions__content--course text-success small text-decoration-none" href="/masters-degrees/course/applied-data-science-and-statistics-msc/?i302d8985c58547" title="View Applied Data Science and Statistics MSc at Mathematics and Statistics, University of Exeter">Applied Data Science and Statistics MSc</a>
<br/>
<a class="suggestions__content--university small text-dark text-decoration-none" href="/masters-degrees/university-of-exeter/" title="View all Masters Degrees at University of Exeter">University of Exeter</a>
</p>
<p class="suggestions__content lh-small">
<a class="suggestions__content--course text-success small text-decoration-none" href="/masters-degrees/course/applied-data-science-and-modelling-msc/?i302d8985c64505" title="View Applied Data Science and Modelling MSc at Mathematics and Statistics, University of Exeter">Applied Data Science and Modelling MSc</a>
<br/>
<a class="suggestions__content--university small text-dark text-decoration-none" href="/masters-degrees/university-of-exeter/" title="View all Masters Degrees at University of Exeter">University of Exeter</a>
</p>
<p class="suggestions__content lh-small">
<a class="suggestions__content--course text-success small text-decoration-none" href="/masters-degrees/course/applied-data-science-msc/?i235d416c61080" title="View Applied Data Science MSc at School of Computing, Engineering &amp; Design Technologies, Teesside University">Applied Data Science MSc</a>
<br/>
<a class="suggestions__content--university small text-dark text-decoration-none" href="/masters-degrees/teesside-university/" title="View all Masters Degrees at Teesside University">Teesside University</a>
</p>
</div>
</div>
</div>
</div>

<div class="col-24 my-3 pl-md-0 pr-md-2 px-0 inContentAdSection">
<div class="inContentZone"></div>
</div>
<script src="https://polyfill.io/v3/polyfill.min.js?features=IntersectionObserver"></script>
<script type="text/javascript">
                    var zones = ["284096665"];
                    var observerMas = new IntersectionObserver(setMasAdObservers);

                    $(document).ready(function () {
                        var filter = getPSegments();

                        for (let i = 0; i < zones.length; i++) {
                            get_incontent_ad(zones[i], filter, i + 1);
                        }
                    });
                    function getPSegments() {
                        var filter = "";
                        var _psegments = "" + JSON.parse(localStorage.getItem("_psegs"));
                        var _ppatt = /,/gi;
                        if (_psegments != null) filter = "|_" + _psegments.replace(_ppatt, "_,_") + "_|";
                        return filter;
                    }
                    function get_incontent_ad(zone, filter, position) {
                        if (!navigator || !navigator.userAgent || /Googlebot/.test(navigator.userAgent) == false) {
                            var keywords = "";
                            if (filter != "") keywords = "&keywords=" + filter;
                            var snippet = "<span id=zone" + zone + "></span><" + "script>(function() {var s = document.createElement('script');s.type = 'text/javascript'; s.async = true;s.src = '//engine.findamasters.com/?" + zone + keywords + "';var n = document.getElementsByTagName('script')[0];n.parentNode.insertBefore(s, n);})();</" + "script>";
                            var t1 = setTimeout(function () { $('.inContentZone:eq(0)').after(snippet + "<s" + "cript> $('.inContentZone:eq(0)').remove();</" + "script><s" + "cript> observerMas.observe(document.querySelector('#zone" + zone + "'));</" + "script>"); }, 500);
                        }
                    }

                    function setMasAdObservers(entries) {
                        entries.forEach(entry => {
                            if (entry.isIntersecting === true) {
                                indexId = zones.indexOf(entry.target.id.replace('zone', ''));
                                DataLayerAdImpressionContent('incontentbanner', indexId + 1, '');
                                observerMas.unobserve(entry.target);
                            }
                        }, {
                            threshold: 1.0
                        });
                    }
                </script>
</div>
</div>
</div>
<script type="text/javascript">
        function showDeptProf() {
            $('.dp-menu__tab').removeClass('dp-menu__tab--active');
            $('.dp-menu__tab--dept-info').addClass('dp-menu__tab--active');
            $('.full-width-main').addClass('d-none');
            $('.dprof__holder').removeClass('d-none');
            $('.dprog__holder').addClass('d-none');
            $('.extras-container').addClass('d-none');
            $('.search-suggestions__holder').addClass('d-none');
            $('.course-sidebar').addClass('d-none');

            $('.sub-menu__details').removeClass('sub-menu__active');
            $('.sub-menu__programmes').removeClass('sub-menu__active');
            $('.sub-menu__profile').addClass('sub-menu__active');

            //-- fire dept profile view stat
            
        }

        function goToStudentChat() {
            $('html,body').animate({
                scrollTop: $("#dept-student-chat").offset().top
            });
        }

        function goToDeptProfChat() {
            showDeptProf();
            setTimeout(function () {
                goToStudentChat();
            }, 100)


        }

        function showDeptProgs() {
            $('.dp-menu__tab').removeClass('dp-menu__tab--active');
            $('.dp-menu__tab--progs').addClass('dp-menu__tab--active');
            $('.full-width-main').addClass('d-none');
            $('.dprof__holder').addClass('d-none');
            $('.dprog__holder').removeClass('d-none');
            $('.extras-container').addClass('d-none');
            $('.search-suggestions__holder').addClass('d-none');
            $('.course-sidebar').addClass('d-none');

            $('.sub-menu__details').removeClass('sub-menu__active');
            $('.sub-menu__programmes').addClass('sub-menu__active');
            $('.sub-menu__profile').removeClass('sub-menu__active');

            //-- fire dept programmes tab view stat
            
        }
        function showProgramme() {
            $('.dp-menu__tab').removeClass('dp-menu__tab--active');
            $('.dp-menu__tab--prog-det').addClass('dp-menu__tab--active');
            $('.dprof__holder').addClass('d-none');
            $('.dprog__holder').addClass('d-none');
            $('.full-width-main').removeClass('d-none');
            $('.extras-container').removeClass('d-none');
            $('.search-suggestions__holder').removeClass('d-none');
            $('.course-sidebar').removeClass('d-none');
            $('.course-sidebar').removeClass('course-sidebar__fixed');
            $('.sub-menu__details').addClass('sub-menu__active');
            $('.sub-menu__programmes').removeClass('sub-menu__active');
            $('.sub-menu__profile').removeClass('sub-menu__active');
        }


        function showFl() {
            $('.fl-menu__tab--fl').addClass('fl-menu__tab--active');
            $('.fl-menu__tab--pg').removeClass('fl-menu__tab--active');
            $('.fl__holder').removeClass('d-none');
            $('.full-width-main').addClass('d-none');
            $('.extras-container').addClass('d-none');
            $('.search-suggestions__holder').addClass('d-none');
            $('.course-sidebar').removeClass('course-sidebar__fixed');
            $('.fl__container').addClass('d-none');
              
        }

        function hideFl() {
            $('.fl-menu__tab--pg').addClass('fl-menu__tab--active');
            $('.fl-menu__tab--fl').removeClass('fl-menu__tab--active');
            $('.fl__holder').addClass('d-none');
            $('.full-width-main').removeClass('d-none');
            $('.extras-container').removeClass('d-none');
            $('.search-suggestions__holder').removeClass('d-none');
            $('.course-sidebar').removeClass('course-sidebar__fixed');
            $('.fl__container').removeClass('d-none');
        }

        function openVideoModal(vidSrc) {
            var videoSrc = vidSrc;
            $('#videoModal').modal('show');
            $('#youtubeIframeSrc').attr("src", "https://www.youtube.com/embed/" + videoSrc);
            $('#youtubeIframeSrc').attr("data-vid", videoSrc);
        }

        function openImageBankModal(imgPath) {
            var imgSrc = imgPath;
            $('#imageModal').modal('show');
            $('#img-modal__src').attr("src", "https://fau-res.cloudinary.com/image/upload/w_1000,h_600,c_fill/common/page-listings/IID302/" + imgSrc);
            $('#img-modal__src').attr("data-img", imgSrc);
        }

        function showNextVideo() {
            var videoArray = [];

            $('.video-gallery__video').each(function () {
                var src = $(this).attr('data-videoid');
                videoArray.push(src);
            });

            var videoVal = $('#youtubeIframeSrc').attr('data-vid');

            var next = videoArray[($.inArray(videoVal, videoArray) + 1) % videoArray.length];

            $('#youtubeIframeSrc').attr("src", "https://www.youtube.com/embed/" + next);
            $('#youtubeIframeSrc').attr("data-vid", next);
        }

        function showPrevVideo() {
            var videoArray = [];

            $('.video-gallery__video').each(function () {
                var src = $(this).attr('data-videoid');
                videoArray.push(src);
            });

            var videoVal = $('#vid-modal__src').attr('data-vid');

            var next = videoArray[($.inArray(videoVal, videoArray) - 1) % videoArray.length];

            $('#youtubeIframeSrc').attr("src", "https://www.youtube.com/embed/" + next);
            $('#youtubeIframeSrc').attr("data-vid", next);
        }

        function showNextImage() {
            var imageArray = [];

            $('.image-gallery__image').each(function () {
                var src = $(this).attr('data-img');
                imageArray.push(src);
            });

            var imgVal = $('#img-modal__src').attr('data-img');

            var next = imageArray[($.inArray(imgVal, imageArray) + 1) % imageArray.length];

            $('#img-modal__src').attr("src", "https://fau-res.cloudinary.com/image/upload/w_1000,h_600,c_fill/common/page-listings/IID302/" + next);
            $('#img-modal__src').attr("data-img", next);
        }

        function showPrevImage() {
            var imageArray = [];

            $('.image-gallery__image').each(function () {
                var src = $(this).attr('data-img');
                imageArray.push(src);
            });

            var imgVal = $('#img-modal__src').attr('data-img');

            var next = imageArray[($.inArray(imgVal, imageArray) - 1) % imageArray.length];

            if (next === undefined) {
                next = imageArray.slice(imageArray.length - 1);
            }

            $('#img-modal__src').attr("src", "https://fau-res.cloudinary.com/image/upload/w_1000,h_600,c_fill/common/page-listings/IID302/" + next);
            $('#img-modal__src').attr("data-img", next);
        }


        if ($('.sub-menu__details').length > 0) {

            $('.sub-menu__details').click(function () {
                showProgramme();
            });
            $('.sub-menu__profile').click(function () {
                showDeptProf();
            });
            $('.sub-menu__programmes').click(function () {
                showDeptProgs();
            });
        }
        if ($('.dprof__holder').length > 0) {
            $('.dp-menu__tab--dept-info').click(function () {
                showDeptProf();
            });

            $('.dp-menu__tab--prog-det').click(function () {
                showProgramme();
            });
            $('.dp-menu__tab--progs').click(function () {
                showDeptProgs();
            });
        }
        //checks if there is a featured listing
        if ($('.fl__holder').length > 0) {

            //when clicking the course content hides the FL content and shows the course content.
            $('.fl-menu__tab--pg').click(function () {
                hideFl();
            });

            $('.fl-menu__tab--fl').click(function () {
                showFl();
            });

            $('.fl__outer').click(function () {
                showFl();
            });


        }
    </script>
<script type="text/javascript">
        function showDeptProf() {
            $('.dp-menu__tab').removeClass('dp-menu__tab--active');
            $('.dp-menu__tab--dept-info').addClass('dp-menu__tab--active');
            $('.full-width-main').addClass('d-none');
            $('.dprof__holder').removeClass('d-none');
            $('.dprog__holder').addClass('d-none');
            $('.extras-container').addClass('d-none');
            $('.search-suggestions__holder').addClass('d-none');
            $('.course-sidebar').addClass('d-none');

            $('.sub-menu__details').removeClass('sub-menu__active');
            $('.sub-menu__programmes').removeClass('sub-menu__active');
            $('.sub-menu__profile').addClass('sub-menu__active');

            //-- fire dept profile view stat
            
        }

        function goToStudentChat() {
            $('html,body').animate({
                scrollTop: $("#dept-student-chat").offset().top
            });
        }

        function goToDeptProfChat() {
            showDeptProf();
            setTimeout(function () {
                goToStudentChat();
            }, 100)


        }

        function showDeptProgs() {
            $('.dp-menu__tab').removeClass('dp-menu__tab--active');
            $('.dp-menu__tab--progs').addClass('dp-menu__tab--active');
            $('.full-width-main').addClass('d-none');
            $('.dprof__holder').addClass('d-none');
            $('.dprog__holder').removeClass('d-none');
            $('.extras-container').addClass('d-none');
            $('.search-suggestions__holder').addClass('d-none');
            $('.course-sidebar').addClass('d-none');

            $('.sub-menu__details').removeClass('sub-menu__active');
            $('.sub-menu__programmes').addClass('sub-menu__active');
            $('.sub-menu__profile').removeClass('sub-menu__active');

            //-- fire dept programmes tab view stat
            
        }
        function showProgramme() {
            $('.dp-menu__tab').removeClass('dp-menu__tab--active');
            $('.dp-menu__tab--prog-det').addClass('dp-menu__tab--active');
            $('.dprof__holder').addClass('d-none');
            $('.dprog__holder').addClass('d-none');
            $('.full-width-main').removeClass('d-none');
            $('.extras-container').removeClass('d-none');
            $('.search-suggestions__holder').removeClass('d-none');
            $('.course-sidebar').removeClass('d-none');
            $('.course-sidebar').removeClass('course-sidebar__fixed');
            $('.sub-menu__details').addClass('sub-menu__active');
            $('.sub-menu__programmes').removeClass('sub-menu__active');
            $('.sub-menu__profile').removeClass('sub-menu__active');
        }


        function showFl() {
            $('.fl-menu__tab--fl').addClass('fl-menu__tab--active');
            $('.fl-menu__tab--pg').removeClass('fl-menu__tab--active');
            $('.fl__holder').removeClass('d-none');
            $('.full-width-main').addClass('d-none');
            $('.extras-container').addClass('d-none');
            $('.search-suggestions__holder').addClass('d-none');
            $('.course-sidebar').removeClass('course-sidebar__fixed');
            $('.fl__container').addClass('d-none');
              
        }

        function hideFl() {
            $('.fl-menu__tab--pg').addClass('fl-menu__tab--active');
            $('.fl-menu__tab--fl').removeClass('fl-menu__tab--active');
            $('.fl__holder').addClass('d-none');
            $('.full-width-main').removeClass('d-none');
            $('.extras-container').removeClass('d-none');
            $('.search-suggestions__holder').removeClass('d-none');
            $('.course-sidebar').removeClass('course-sidebar__fixed');
            $('.fl__container').removeClass('d-none');
        }

        function openVideoModal(vidSrc) {
            var videoSrc = vidSrc;
            $('#videoModal').modal('show');
            $('#youtubeIframeSrc').attr("src", "https://www.youtube.com/embed/" + videoSrc);
            $('#youtubeIframeSrc').attr("data-vid", videoSrc);
        }

        function openImageBankModal(imgPath) {
            var imgSrc = imgPath;
            $('#imageModal').modal('show');
            $('#img-modal__src').attr("src", "https://fau-res.cloudinary.com/image/upload/w_1000,h_600,c_fill/common/page-listings/IID302/" + imgSrc);
            $('#img-modal__src').attr("data-img", imgSrc);
        }

        function showNextVideo() {
            var videoArray = [];

            $('.video-gallery__video').each(function () {
                var src = $(this).attr('data-videoid');
                videoArray.push(src);
            });

            var videoVal = $('#youtubeIframeSrc').attr('data-vid');

            var next = videoArray[($.inArray(videoVal, videoArray) + 1) % videoArray.length];

            $('#youtubeIframeSrc').attr("src", "https://www.youtube.com/embed/" + next);
            $('#youtubeIframeSrc').attr("data-vid", next);
        }

        function showPrevVideo() {
            var videoArray = [];

            $('.video-gallery__video').each(function () {
                var src = $(this).attr('data-videoid');
                videoArray.push(src);
            });

            var videoVal = $('#vid-modal__src').attr('data-vid');

            var next = videoArray[($.inArray(videoVal, videoArray) - 1) % videoArray.length];

            $('#youtubeIframeSrc').attr("src", "https://www.youtube.com/embed/" + next);
            $('#youtubeIframeSrc').attr("data-vid", next);
        }

        function showNextImage() {
            var imageArray = [];

            $('.image-gallery__image').each(function () {
                var src = $(this).attr('data-img');
                imageArray.push(src);
            });

            var imgVal = $('#img-modal__src').attr('data-img');

            var next = imageArray[($.inArray(imgVal, imageArray) + 1) % imageArray.length];

            $('#img-modal__src').attr("src", "https://fau-res.cloudinary.com/image/upload/w_1000,h_600,c_fill/common/page-listings/IID302/" + next);
            $('#img-modal__src').attr("data-img", next);
        }

        function showPrevImage() {
            var imageArray = [];

            $('.image-gallery__image').each(function () {
                var src = $(this).attr('data-img');
                imageArray.push(src);
            });

            var imgVal = $('#img-modal__src').attr('data-img');

            var next = imageArray[($.inArray(imgVal, imageArray) - 1) % imageArray.length];

            if (next === undefined) {
                next = imageArray.slice(imageArray.length - 1);
            }

            $('#img-modal__src').attr("src", "https://fau-res.cloudinary.com/image/upload/w_1000,h_600,c_fill/common/page-listings/IID302/" + next);
            $('#img-modal__src').attr("data-img", next);
        }

        function stopVideo() {
            $('#youtubeIframeSrc').attr("src", "");
        }
        if ($('.sub-menu__details').length > 0) {

            $('.sub-menu__details').click(function () {
                showProgramme();
            });
            $('.sub-menu__profile').click(function () {
                showDeptProf();
            });
            $('.sub-menu__programmes').click(function () {
                showDeptProgs();
            });
        }
        if ($('.dprof__holder').length > 0) {
            $('.dp-menu__tab--dept-info').click(function () {
                showDeptProf();
            });

            $('.dp-menu__tab--prog-det').click(function () {
                showProgramme();
            });
            $('.dp-menu__tab--progs').click(function () {
                showDeptProgs();
            });
        }
        //checks if there is a featured listing
        if ($('.fl__holder').length > 0) {

            //when clicking the course content hides the FL content and shows the course content.
            $('.fl-menu__tab--pg').click(function () {
                hideFl();
            });

            $('.fl-menu__tab--fl').click(function () {
                showFl();
            });

            $('.fl__outer').click(function () {
                showFl();
            });


        }
    </script>
<script>
        function googleEventTracker(sender, a, b, c) {
            ga('send', 'event', a, b, c, { 'nonInteraction': 1 });
            $(".readMore").attr("href", "javascript:;");
        }
    </script>
<script>
        $(window).scroll(function () {
            usableHeight = ($(window).height()) / 9;
            footerHeight = $('#footerBottom').height();

            widgetBottom = (($(window).scrollTop()) - (footerHeight));
            pageHeight = $(document).height();

            //gets the distance between the top of the widget and the top of the document
            widgetTop = $('.course-sidebar__holder').offset().top - $(window).scrollTop()

            var bottomHeight = $(document).height() - $('#footerBottom').height() - $('.course-sidebar').height() - 50;
            var bottomGap = $(window).scrollTop() - $('#footerBottom').height() - 150;
            //checks if the page is close to the footer

            //if the above gap is bigger than 25% of the document add a class (with position: fixed) to the signup sidebar.
            if (widgetTop < usableHeight) {
                $('.course-sidebar').addClass('course-sidebar__fixed');
            }
            //else remove the class with position fixed.
            else if (widgetTop > usableHeight) {
                $('.course-sidebar').removeClass('course-sidebar__fixed');
            }
        })
    </script>
<script>
        $(window).scroll(function () {
            if ($('.dp-menu__tab--dept-info').hasClass('dp-menu__tab--active')) {


                usableHeight = ($(window).height()) / 9;
                footerHeight = $('#footerBottom').height();

                widgetBottom = (($(window).scrollTop()) - (footerHeight));
                pageHeight = $(document).height();

                //gets the distance between the top of the widget and the top of the document
                widgetTop = $('.dept-sidebar__holder').offset().top - $(window).scrollTop()

                var bottomHeight = $(document).height() - $('#footerBottom').height() - $('.dept-sidebar').height() - 50;
                var bottomGap = $(window).scrollTop() - $('#footerBottom').height() - 150;
                //checks if the page is close to the footer

                //if the above gap is bigger than 25% of the document add a class (with position: fixed) to the signup sidebar.
                if (widgetTop < usableHeight) {
                    $('.dept-sidebar').addClass('dept-sidebar__fixed');
                }
                //else remove the class with position fixed.
                else if (widgetTop > usableHeight) {
                    $('.dept-sidebar').removeClass('dept-sidebar__fixed');
                }
            }
        })
    </script>
<script>
        //Used to control the accordions on SCholarships & Open Days
        $('.accordion__title').click(function () {
            //gets the accordion content and arrow
            var accordionContent = $(this).parent().find('.accordion__content');
            var accordionArrow = $(this).parent().find('.accordion__toggle-icon');
            //checks if the accoridon content is visible or not.
            //if hidden: changes arrow direction and shows content.
            //if visible: changes arrow direction and hides content.
            if (accordionContent.hasClass('hidden')) {
                accordionContent.removeClass('hidden');
                accordionArrow.addClass('fa-chevron-up').removeClass('fa-angle-down');
            }
            else {
                accordionContent.addClass('hidden');
                accordionArrow.addClass('fa-chevron-down').removeClass('fa-angle-up');
            }
        })
    </script>
<script>
        //we use this function to navigate the user when they click a jumplink on the course sidebar.
        //the jumplink scrolls the user to 50px above the section. This should automatically trigger function below to change the active jumplink based on scroll position.

        var isScrolling = false;

        function jumplinkClick(type) {
            if (isScrolling === false) {
                isScrolling = true;
                var sectionClass = '.course-sections__' + type;
                $('.course-sidebar__inner').removeClass('course-sidebar__inner--show');
                $('.course-sidebar__mobile-top .fa-regular').toggleClass('fa-angle-down').toggleClass('fa-angle-up');
                $('html, body').animate({
                    scrollTop: ($(sectionClass).offset().top - 50)
                }, 1000);
                setTimeout(function () {
                    isScrolling = false;
                }, 1000)
            }

        };
    </script>
<script>
        $(window).scroll(function () {
            var scrollPos = $(window).scrollTop();
            var courseDataArea = $(".course-data__container").offset().top;
            var courseFooterArea = $("#footerBottom").offset().top;
            var courseSections = ['fees', 'videos', 'scholarships', 'student-profiles', 'study-info', 'student-chat', 'opendays'];
            var courseSectionTitles = ['Fees', 'Videos', 'Scholarships', 'Student Profiles', 'Where will I Study?', 'Chat to a student', 'Open Days'];
            $(courseSections).each(function (index, value) {
                if ($('.course-sections__' + value).length > 0) {

                    var elementTop = $(".course-sections__" + value).offset().top;
                    var elementHeight = $(".course-sections__" + value).outerHeight();

                    if ((scrollPos > elementTop - 100) && (scrollPos < (elementTop - 100 + elementHeight))) {
                        $(".mobile-top__active-section").text(courseSectionTitles[index]);

                        $(".course-sidebar__jumplink--" + value).addClass("course-sidebar__jumplink--active");

                    } else {
                        $(".course-sidebar__jumplink--" + value).removeClass("course-sidebar__jumplink--active");
                    }
                };
            });

            if ($('.course-sections__entry-requirements').length > 0) {
                var entryReqTop = $(".course-sections__entry-requirements").offset().top;
                var entryReqHeight = $(".course-sections__entry-requirements").outerHeight();

                if (scrollPos < (entryReqTop - 100)) {
                    $(".course-sidebar__jumplink--course-content").addClass("course-sidebar__jumplink--active");
                    $(".mobile-top__active-section").text('About the course');
                }
                else {
                    $(".course-sidebar__jumplink--course-content").removeClass("course-sidebar__jumplink--active");
                }

                if ((scrollPos > (entryReqTop - 100)) && (scrollPos < ((entryReqTop - 100) + entryReqHeight))) {
                    $(".course-sidebar__jumplink--entry-requirements").addClass("course-sidebar__jumplink--active");
                    $(".mobile-top__active-section").text('Entry Requirements');
                } else {
                    $(".course-sidebar__jumplink--entry-requirements").removeClass("course-sidebar__jumplink--active");
                }

                if (scrollPos < entryReqTop - 100) {
                    $(".course-sidebar__jumplink--course-content").addClass("course-sidebar__jumplink--active");
                } else {
                    $(".course-sidebar__jumplink--course-content").removeClass("course-sidebar__jumplink--active");
                }
            }

            //this is for MOBILE devices only
            if (scrollPos > courseDataArea && scrollPos < (courseFooterArea - $(window).height())) {
                //we add a class to the sidebar on mobile to fix the bar to the top of the page after the user has scrolled by the key content info & buttons.
                $('.course-sidebar').addClass('course-sidebar__scroll course-sidebar__in');
                $('.bottom-button').addClass('bottom-button__in bottom-button__scroll');

            }
            else {
                if ($('.course-sidebar__inner').hasClass('course-sidebar__inner--show')) {
                    //we don't close the dropdown if the user has the dropdown menu open and scrolls to the top of page page!
                } else {
                    $('.course-sidebar').removeClass('course-sidebar__scroll course-sidebar__in');
                    $('.bottom-button').removeClass('bottom-button__in bottom-button__scroll');

                    //Unibuddy Test Code
                    if ($('.unibuddy-face').length > 0) {
                        $('.unibuddy-face').removeClass('visible-xs').addClass('hidden');
                    }
                }
            }
        });
    </script>
<script>

        if ($('#email-holder').length > 0) {
            $(window).scroll(function () {
                var top_of_element = $("#email-holder").offset().top;
                var bottom_of_element = $("#email-holder").offset().top + $("#email-holder").outerHeight();
                var bottom_of_screen = $(window).scrollTop() + $(window).innerHeight();
                var top_of_screen = $(window).scrollTop();
                var footerHeight = $("#footerBottom").height();
                var pageHeight = $(document).height();
                var windowHeight = $(window).height();
                var courseDataArea = $(".course-data__container").offset().top;
                var scrollPos = $(window).scrollTop();

                if (scrollPos > (pageHeight - windowHeight - footerHeight)) {
                    $('.bottom-button').removeClass('bottom-button__in');
                    $('.course-sidebar').removeClass('course-sidebar__in');
                }
                else if (scrollPos > courseDataArea) {
                    if ((bottom_of_screen > top_of_element) && (top_of_screen < bottom_of_element)) {
                        $('.bottom-button').removeClass('bottom-button__in');
                        $('.course-sidebar').removeClass('course-sidebar__in');
                    } else {
                        $('.bottom-button').addClass('bottom-button__in');
                        $('.course-sidebar').addClass('course-sidebar__in');
                    }
                }
            });
        }
    </script>
<script>
        //when the user clicks the sidebar (fixed to top) the dropdwon menu opens to allow navigation via jumplinks.

        $('.emailLink').click(function () {
            $('.bottom-button').addClass('bottom-button__no');
            $('.bottom-button').removeClass('bottom-button__in bottom-button__scroll');
            $('.course-sidebar__inner').removeClass('course-sidebar__inner--show');
        });

        $('.course-sidebar__buttons--student-chat').click(function () {
            $('.bottom-button').addClass('bottom-button__no');
            $('.bottom-button').removeClass('bottom-button__in bottom-button__scroll');
            $('.course-sidebar__inner').removeClass('course-sidebar__inner--show');
        })

        $('.mobile-top__button--web').click(function () {
            $('.course-sidebar__inner').toggleClass('course-sidebar__inner--show');
            $('.course-sidebar__mobile-top .fa-regular').toggleClass('fa-angle-down').toggleClass('fa-angle-up');
        });

        $('.course-sidebar__mobile-top').click(function () {
            var scrollPos = $(window).scrollTop();
            var courseDataArea = $(".course-data__container").offset().top;

            $('.course-sidebar__inner').toggleClass('course-sidebar__inner--show');
            $('.course-sidebar__mobile-top .fa-regular').toggleClass('fa-angle-down').toggleClass('fa-angle-up');

            //If the user scrolls to the top with the menu open, then we hide the Menu Bar as it only shows after page scroll.
            if (scrollPos < courseDataArea) {
                $('.course-sidebar').removeClass('course-sidebar__scroll course-sidebar__in');
                $('.bottom-button').removeClass('bottom-button__in bottom-button__scroll');
            }
        });
    </script>
<script>
        $(document).ready(function () {
            widgetVisible = false;

            if ($('.vf-widget').length) {
                setTimeout(
                    function () {
                        if (this.widgetVisible === false) {
                            showVfWidget();
                            this.widgetVisible = true;
                        }
                    }, 30000);
            }
        });

        function showVfWidget() {
            this.widgetVisible = true;
            $('.vf-widget__popdown').addClass('vf-widget__popdown--hiding');
            setTimeout(
                function () {
                    $('.vf-widget__popup').addClass('vf-widget__popup--show');
                }, 300);
        }
        function hideVfWidget() {
            $('.vf-widget__popup').removeClass('vf-widget__popup--show');
            setTimeout(
                function () {
                    $('.vf-widget__popdown').removeClass('vf-widget__popdown--hiding');
                }, 300);
        }
    </script>
<script>
        //audience building for GA, see AH or JT
        window.dataLayer = window.dataLayer || {};
        window.dataLayer.push({ 'IsFeatured': 'False' });
        //add pageview details to dataLayer
        window.dataLayer.push({ 'fau.event': 'page.view', 'fau.product.id': 64503, 'fau.inst.id': 302 , 'fau.dept.id': 8985 });
    </script>
<script>
  $("body").click(function(event) {
  if (event.target.id != "socialLikesFooter" && event.target.parentElement) {
  if (event.target.parentElement.className != "socialLike") $('#socialLikesFooter').removeClass("heightAuto");
  }
  });

  $('#socialLikesFooter').click(function(){
  if($(this).hasClass("heightAuto")) {
  $(this).removeClass("heightAuto");
  } else {
  $(this).addClass("heightAuto");
  }
  });

		


</script>
<div id="footerBottom" class="site-footer bg-dark text-white small">
<div class="container-fluid small-md">
<div class="container py-4">
<div class="row">
<div class="col-24 col-md-6 py-2 py-md-0">
<strong class="d-block font-weight-bold">Masters Degrees</strong>
<span class="d-block"><a class="text-white" href="/masters-degrees/" title="Masters degrees">Search for Masters Degrees</a></span>
<span class="d-block"><a class="text-white d-block" href="/masters-degrees/united-kingdom/" title="Masters Degrees in United Kingdom">Masters Degrees in United Kingdom</a></span>
<span class="d-block"><a class="text-white d-block" href="/masters-degrees/usa/" title="Masters Degrees in the USA">Masters Degrees in the USA</a></span>
<span class="d-block"><a class="text-white d-block" href="/masters-degrees/psychology/" title="Masters Degrees in Psychology">Masters Degrees in Psychology</a></span>
<span class="d-block"><a class="text-white d-block" href="/masters-degrees/online-distance-learning/" title="online programmes">Online Masters Degrees</a></span>
<span class="d-block"><a class="text-white d-block" href="/signups/" title="Masters degrees newsletter">Masters Degrees by Email</a></span>
</div>
<div class="col-24 col-md-6  py-2 py-md-0">
<strong class="d-block font-weight-bold">Info for students</strong>
<span class="d-block"><a class="text-white d-block" href="/opendays/" title="Postgraduate open days">Postgraduate Open Days</a></span>
<span class="d-block"><a class="text-white d-block" href="/guides/what-is-a-masters-degree" title="Masters Study Guides">Masters Study Guides</a></span>
<span class="d-block"><a class="text-white d-block" href="/guides/funding/" title="Funding Your Masters">Funding Your Masters</a></span>
<span class="d-block"><a class="text-white d-block" href="/guides/study-abroad/" title="Studying Abroad">Masters Degrees Abroad</a></span>
<span class="d-block"><a class="text-white d-block" href="/advice/masters-discussion-forum.aspx" title="Postgraduate Forum">Postgraduate Advice Forum</a></span>
<span class="d-block"><a class="text-white d-block" href="/guides/masters-graduate-entry-tests" title="Graduate Entry Tests">Graduate Entry Tests</a></span>
<span class="d-block"><a class="text-white d-block" href="/signups/" title="Postgraduate Newsletter">Postgraduate Email Updates</a></span>
<span class="d-block"><a class="text-white d-block" href="/signups/?U=Y" title="Unsubscribe">Manage my Email Preferences</a></span>
</div>
<div class="col-24 col-md-6  py-2 py-md-0">
<strong class="d-block font-weight-bold">Info for advertisers</strong>
<span class="d-block"><a class="text-white d-block" href="/providers/" title="Advertise your Masters Programmes">Advertise your Masters Programmes</a></span>
<span class="d-block"><a class="text-white d-block" href="/providers/display-advertising.aspx" title="Postgraduate Display Advertising">Display Advertising</a></span>
<span class="d-block"><a class="text-white d-block" href="/providers/email-campaigns.aspx" title="Postgraduate Email Campaigns">Emails Campaigns</a></span>
<span class="d-block"><a class="text-white d-block" href="/providers/open-days.aspx" title="Postgraduate open days">Featured Open Days</a></span>
<span class="d-block"><a class="text-white d-block" href="https://admin.findauniversity.com/#/login" target="_blank" title="Advertiser login">Provider Login</a></span>
<span class="d-block"><a class="text-white d-block" href="/about/about-findamasters.aspx" title="About FindAMasters">About FindAMasters</a></span>
<span class="d-block"><a class="text-white d-block" href="/providers/terms-and-conditions.aspx" target="_blank" title="Advertiser terms">Advertiser Terms</a></span>
</div>
<div class="col-24 col-md-6  py-2 py-md-0">
<div style="text-align:center; font-size: 20px;">
<div class="d-inline-block px-1">
<a class="text-white" href="https://www.facebook.com/FindAMasters" target="_blank">
<i class="fa-brands fa-facebook-f"></i>
</a>
</div>
<div class="d-inline-block px-1">
<a class="text-white" href="https://www.twitter.com/FindAMasters" target="_blank">
<i class="fa-brands fa-twitter"></i>
</a>
</div>
<div class="d-inline-block px-1">
<a class="text-white" href="https://www.instagram.com/findamasters/" target="_blank">
<i class="fa-brands fa-instagram"></i>
</a>
</div>
<div class="d-inline-block px-1">
<a class="text-white" href="https://youtube.com/findamasters" target="_blank">
<i class="fa-brands fa-youtube"></i>
</a>
</div>
</div>
<br/>
<p style=" color:white; text-align:center; font-size:13px;">
<span style="white-space:nowrap;">FindAMasters. </span>
<span style="white-space:nowrap;">
Copyright 2005-2023
</span>
<br/>All rights reserved.
</p>
<div id="footer_changeLocation" class="hide">
<p style="text-align: center;">
<i class="fa-regular fa-location-dot"></i> <span class="cityName">Unknown</span>&nbsp;&nbsp;&nbsp;(<span class="change-city-link"><a>change</a></span>)
</p>
</div>
<script>
				if (fau.cookies.getSubValue('FauUserInfo','ctry') === "GB") {
					document.getElementById("footer_changeLocation").classList.remove("hide");
				}
			</script>
</div>
</div>
<div class="row justify-content-center py-3">
<div class="col-auto">
<a class="text-white" href="/about/contact-findamasters.aspx" id="FooterBottom_siteMap" title="Contact us at FindAMasters.com">
Contact Us
</a>
</div>
<div class="col-auto">
<a class="text-white" href="/sitemap.aspx" id="FooterBottom_siteMap">
Sitemap
</a>
</div>
<div class="col-auto">
<a class="text-white" href="/privacy.aspx" id="FooterBottom_privacyStatement" title="FindAMasters.com Privacy Statement">
Privacy
</a>
</div>
<div class="col-auto">
<a class="text-white" href="/about/accessibility-statement.aspx" id="FooterBottom_accessibilityStatement">
Accessibility
</a>
</div>
<div class="col-auto">
<a class="text-white" href="/providers/" id="FooterBottom_advertise" title="Advertise your Masters programmes">
Advertise
</a>
</div>
</div>
<div class="row justify-content-center">
<div class="col-24 text-light text-center">
FindAMasters is a trading name of <a class="text-light" href="https://www.findauniversity.com" id="FooterBottom_FrameWork_Footer_Address" target="_blank" title="Postgraduate Advertising">FindAUniversity Ltd</a>.
</div>
<div class="col-24 text-light text-center">
Registered Address: <a class="text-light" href="https://www.findauniversity.com" id="FooterBottom_FrameWork_Footer_Address" target="_blank" title="Postgraduate Advertising">FindAUniversity Ltd</a>, 77 Sidney St, Sheffield, <a class="text-light" href="https://www.google.co.uk/maps/place/77+Sidney+St,+Sheffield+S1+4RG/@53.3751241,-1.4695689,19z/data=!4m5!3m4!1s0x487982841f3396b9:0xa5afad228a9a5087!8m2!3d53.3749497!4d-1.469188" target="_blank">S1 4RG</a>, UK. Tel: <a class="text-light" href="tel:+441142134334" target="_blank">+44 (0)114 213 4334</a>
</div>
<div class="col-24 text-light text-center border-top border-gray-600 mt-2 pt-2">
<strong>Our websites:</strong> <a target="_blank" class="text-light" href="https://www.findaphd.com">FindAPhD</a> | <a target="_blank" class="text-light" href="https://www.findanmba.com">FindAnMBA</a> | <a target="_blank" class="text-light" href="https://www.findapostdoc.com">FindAPostDoc</a> | <a target="_blank" class="text-light" href="https://www.findaprofessionaldoctorate.com">FindAProfessionalDoctorate</a> | <a target="_blank" class="text-light" href="https://www.postgraduatefunding.com">PostgraduateFunding</a> | <a target="_blank" class="text-light" href="https://www.postgraduateforum.com">Postgraduate Forum</a>
</div>
</div>
</div>
</div>
<script>
    function Get_Cookie(check_name) {
        // first we'll split this cookie up into name/value pairs
        // note: document.cookie only returns name=value, not the other components
        var a_all_cookies = document.cookie.split(';');
        var a_temp_cookie = '';
        var cookie_name = '';
        var cookie_value = '';
        var b_cookie_found = false; // set boolean t/f default f

        for (i = 0; i < a_all_cookies.length; i++) {
            // now we'll split apart each name=value pair
            a_temp_cookie = a_all_cookies[i].split('=');


            // and trim left/right whitespace while we're at it
            cookie_name = a_temp_cookie[0].replace(/^\s+|\s+$/g, '');

            // if the extracted name matches passed check_name
            if (cookie_name == check_name) {
                b_cookie_found = true;
                // we need to handle case where cookie has no value but exists (no = sign, that is):
                if (a_temp_cookie.length > 1) {
                    cookie_value = unescape(a_temp_cookie[1].replace(/^\s+|\s+$/g, ''));
                }
                // note that in cases where cookie is initialized but no value, null is returned
                return cookie_value;
                break;
            }
            a_temp_cookie = null;
            cookie_name = '';
        }
        if (!b_cookie_found) {
            return null;
        }
    }

    function Set_Cookie(name, value, expires, path, domain, secure) {
        // set time, it's in milliseconds
        var today = new Date();
        today.setTime(today.getTime());

        /*
        if the expires variable is set, make the correct
        expires time, the current script below will set
        it for x number of days, to make it for hours,
        delete * 24, for minutes, delete * 60 * 24
        */
        if (expires) {
            expires = expires * 1000 * 60 * 60 * 24;
        }
        var expires_date = new Date(today.getTime() + (expires));

        document.cookie = name + "=" + escape(value) +
            ((expires) ? ";expires=" + expires_date.toGMTString() : "") +
            ((path) ? ";path=" + path : "") +
            ((domain) ? ";domain=" + domain : "") +
            ((secure) ? ";secure" : "");
    }
</script>
<div class="pulse-survey" style="position: fixed; bottom: 20px; right: 20px; background: #333333; z-index: 9999; padding: 20px; display: none;">
<i onclick="closePulseTab();" style="position: absolute; top: 10px; right: 10px; color: white; cursor: pointer;" class="fa-regular fa-angle-down fa-lg"></i>
<p>Have you got time to answer some quick questions about Masters study?</p>
<a onclick="closePulseTab();" class="btn btn-success btn-sm" style="padding: 10px 25px;" target="_blank" href="https://forms.gle/4ZpJEEzqmEHRGfS86">OK!</a>
<a onclick="closePulseTab();" style="color: white; margin-top: 10px; margin-left: 10px; cursor: pointer;">Sorry, not right now</a>
</div>
<script>
$(window).scroll(function () {

if ((Get_Cookie('pulseVal')) || (window.location.href.indexOf('/events/') > -1) || (window.location.href.indexOf('/connect/') > -1) || (window.location.href.indexOf('/providers/') > -1) || (window.location.href.indexOf('/signups/') > -1) ) {

}
else {
	  if ($(window).scrollTop() > $('body').height() / 2) {
		$('.pulse-survey').show("slow");
  } 
}
});

    function closePulseTab() {
        $('.pulse-survey').addClass('hide');
        Set_Cookie('pulseVal', '1', 30, '/', '', ''); // mark as 1 to indicate closed already
    }

		function closePulseTabForms(){
		$('.pulse-survey').addClass('d-none');
	}

</script>
<style>
@media (min-width: 767px){
.pulse-survey{
	max-width: 300px;
}
}
@media (max-width: 767px){
.pulse-survey{
	width: 90%;
}
}
.pulse-survey{
	border-radius: 5px;
	box-shadow: 0 .5rem 1rem rgba(0,0,0,.15)!important;
	border: 1px solid #666;
}
.pulse-survey .btn-success{
	border-radius: 50px;
}
.pulse-survey p{
	font-size: 10pt;
}
</style>
<script>var isLocal = false;</script>
</div>

<div id="cityModal" Class="modal" tabindex="-1" role="dialog"><div Class="modal-dialog" role="document"><div Class="modal-content city-select-modal"><div Class="modal-header"><h5 Class="modal-title">Select your nearest city</h5><Button type="button" Class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div Class="modal-body"><ul class="p-0" style="max-height:218px; overflow: scroll; overflow-x: hidden; list-style: none;"><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Aberdeen'}">Aberdeen</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Aberystwyth'}">Aberystwyth</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Abingdon'}">Abingdon</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Argyll'}">Argyll</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Bangor'}">Bangor</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Barnsley'}">Barnsley</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Bath'}">Bath</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Bedford'}">Bedford</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Belfast'}">Belfast</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Birmingham'}">Birmingham</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Bishop Burton'}">Bishop Burton</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Blackpool'}">Blackpool</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Bolton'}">Bolton</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Bournemouth'}">Bournemouth</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Bradford'}">Bradford</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Bridlington'}">Bridlington</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Brighton'}">Brighton</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Bristol'}">Bristol</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Buckingham'}">Buckingham</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Cambridge'}">Cambridge</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Canterbury'}">Canterbury</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Cardiff'}">Cardiff</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Carlisle'}">Carlisle</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Chatham Maritime'}">Chatham Maritime</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Chelmsford'}">Chelmsford</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Chester'}">Chester</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Chichester'}">Chichester</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Cirencester'}">Cirencester</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Colchester'}">Colchester</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Coleraine'}">Coleraine</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Coventry'}">Coventry</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Crawley'}">Crawley</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Derby'}">Derby</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Didcot'}">Didcot</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Doncaster'}">Doncaster</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Dundee'}">Dundee</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Durham'}">Durham</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'East Malling'}">East Malling</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Edinburgh'}">Edinburgh</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Egham'}">Egham</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Exeter'}">Exeter</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Falmouth'}">Falmouth</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Farnham'}">Farnham</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Frome'}">Frome</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Glasgow'}">Glasgow</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Gloucester'}">Gloucester</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Goole'}">Goole</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Grimsby'}">Grimsby</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Guildford'}">Guildford</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Harpenden'}">Harpenden</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Harrogate'}">Harrogate</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Hatfield'}">Hatfield</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Hemel Hempstead'}">Hemel Hempstead</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Hereford'}">Hereford</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'High Wycombe'}">High Wycombe</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Horsham'}">Horsham</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Huddersfield'}">Huddersfield</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Hull'}">Hull</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Ilminster'}">Ilminster</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Inverness'}">Inverness</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Ipswich'}">Ipswich</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Isle of Man'}">Isle of Man</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Jordanstown'}">Jordanstown</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Lampeter'}">Lampeter</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Lancaster'}">Lancaster</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Leeds'}">Leeds</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Leicester'}">Leicester</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Lincoln'}">Lincoln</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Liverpool'}">Liverpool</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'London'}">London</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'London Central'}">London Central</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'London East'}">London East</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'London West'}">London West</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Londonderry'}">Londonderry</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Loughborough'}">Loughborough</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Luton'}">Luton</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Maidstone'}">Maidstone</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Malmesbury'}">Malmesbury</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Manchester'}">Manchester</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Medway'}">Medway</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Middlesbrough'}">Middlesbrough</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Milton Keynes'}">Milton Keynes</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Musselburgh'}">Musselburgh</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'N Ireland'}">N Ireland</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'N. Ireland'}">N. Ireland</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Newcastle'}">Newcastle</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Newmarket'}">Newmarket</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Newport'}">Newport</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Northampton'}">Northampton</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Norwich'}">Norwich</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Nottingham'}">Nottingham</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Oban'}">Oban</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Omagh'}">Omagh</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Ormskirk '}">Ormskirk </li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Oxford'}">Oxford</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Plymouth'}">Plymouth</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Portsmouth'}">Portsmouth</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Potters Bar'}">Potters Bar</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Preston'}">Preston</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Reading'}">Reading</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Rotherham'}">Rotherham</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Saffron Waldon'}">Saffron Waldon</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Salisbury'}">Salisbury</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Scarborough'}">Scarborough</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Scunthorpe'}">Scunthorpe</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Selby'}">Selby</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Sheffield'}">Sheffield</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Shetland'}">Shetland</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Shrivenham'}">Shrivenham</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Solihull'}">Solihull</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Southampton'}">Southampton</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'St Albans'}">St Albans</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'St Andrews'}">St Andrews</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'St Leonards on Sea'}">St Leonards on Sea</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Stamford'}">Stamford</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Stevenage'}">Stevenage</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Stirling'}">Stirling</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Stoke on Trent'}">Stoke on Trent</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Stornoway'}">Stornoway</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Stroud'}">Stroud</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Sunderland'}">Sunderland</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Swansea'}">Swansea</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Swindon'}">Swindon</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Telford'}">Telford</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Thurso'}">Thurso</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Truro'}">Truro</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Wakefield'}">Wakefield</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Walsall'}">Walsall</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Warrington'}">Warrington</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Warwick'}">Warwick</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Wigan'}">Wigan</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Winchester'}">Winchester</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Woking'}">Woking</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Wolverhampton'}">Wolverhampton</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Worcester'}">Worcester</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'Wrexham'}">Wrexham</li><li class="p-1" style="cursor: pointer; border-bottom:1px gray solid;" data-city-data="{'name': 'York'}">York</li><ul></div></div></div></div>
<script>
var modal = document.getElementById("cityModal");
var btn = $(".change-city-link");
var span = $("#cityModal .close");
btn.each(function(){$(this).click(function() { modal.style.display = "block" });});
span.click(function() { modal.style.display = "none" });
window.onclick = function(event) { if(event.target == modal) { modal.style.display = "none" }; } 

$(".city-select-modal ul li").click(function() {
var cityData = jQuery.parseJSON($(this).data("city-data").replace(/'/g, '"'));
fau.cookies.setSubValue('FauUserInfo', 'city', cityData.name, 7);
fau.cookies.setSubValue('FauUserInfo', 'override', true, 7);
location.reload(true);
});

$(document).ready(function () {
    var cityCookie = fau.cookies.getSubValue('FauUserInfo', 'city');
    if (cityCookie != null) $('.cityName').text(cityCookie);
});
</script>

<div id="signupModal" data-keyboard="false" data-backdrop="static" class="modal modal-signup fade modal-popup" role="dialog">
<div class="modal-dialog current-dialog">
<div class="modal-content">
<div class="popupContent"><i onclick="fau.signup_win.hideSignup()" style="cursor: pointer;position: absolute;top: 10px;right: 10px;color: white;background: #bbbbbb;padding: 7px 8px 5px 8px;border-radius: 100px;" class="fas fa-times"></i><a loading="lazy" class="d-none d-md-block d-lg-block" href="https://www.findamasters.com/masters-degrees/last-minute-courses/?ct=2212" target="_blank"><img src="https://fau-res.cloudinary.com/image/upload/v1699627127/common/assets/marketing/January%20Starts/850_x_600_Pop_up.jpg" style="width:100%;" /></a><a loading="lazy" class="d-block d-md-none" href="https://www.findamasters.com/masters-degrees/last-minute-courses/?ct=2212" target="_blank"><img src="https://fau-res.cloudinary.com/image/upload/v1699627127/common/assets/marketing/January%20Starts/767_x_900_Pop_up.jpg" style="width:100%;" /></a></div>
</div>
</div>
</div>
<script>
    function openSiteModal() {
        $('#signupModal').modal('show');
    }
</script>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v8.0&appId=603110483955535&autoLogAppEvents=1" nonce="Qy0eN4gv"></script>

<script src="/common/js/signup-check.js?v=1.5" type="text/javascript"></script>
<script src="https://accounts.google.com/gsi/client" async defer></script> 
<script>
	var registerSourceId = "";
	if ("MAS" == "MAS") {
		registerSourceId = 549;
    } else {
		registerSourceId = 548;
	}

	function getRegisterSourceId() {
		return registerSourceId;
	}
    function getSignInType() {
		return _SelectedSignInType;
	}
    function getSignUpAdditionalProps() {
        return _SignUpAdditionalProps;
    }

	function setSignInType() {
		closePulseTabForms();
		if ("MAS" == "MAS") {
            if (_SelectedSignInType === 'Scholarship') {
                $('#signupHeader').text('Win a £6,000 Masters Scholarship!');
                $('#signupText').text('Applications now open! Create an account to find out how to apply for our scholarships!');
            } else if (_SelectedSignInType === 'ScholarshipClosed') {
                $('#signupHeader').text('Win a £6,000 Masters Scholarship!');
                $('#signupText').text('Create an account to be the first to hear about how to apply for our scholarship competition');
            } else if (_SelectedSignInType === 'Newsletter') {
                $('#signupHeader').text('Sign up for the FindAMasters newsletter');
                $('#signupText').text('Receive information on funding, the latest Masters opportunities and application advice.');
            } else if (_SelectedSignInType === 'Basic') {
                $('#signupHeader').text('Sign in or create an account');
                $('#signupText').text('View all your saved programmes and enquiries within your account.');
            } else if (_SelectedSignInType === 'EventClosed') {
                $('#signupHeader').text('Register for event reminders');
                $('#signupText').text('Be the first to hear when registrations open for this event');
            } else if (_SelectedSignInType === 'Event') {
                $('#signupHeader').text('Register for your free event ticket');
                $('#signupText').text('Sign in or create an account to get your free event ticket.');
            } else if (_SelectedSignInType === 'Shortlist') {
                $('#signupHeader').text('Save this programme');
                $('#signupText').text('Sign in or create an account to view your saved programmes across all of your devices.');
            } else {
                $('#signupHeader').text('Receive the FindAMasters newsletter');
                $('#signupText').text('Sign up for a FindAMasters account to receive our Masters newsletter');
            }
		}
		else if ("MAS" == "PHD") {
            if (_SelectedSignInType === 'Scholarship') {
                $('#signupHeader').text('Win a £6,000 PhD Scholarship!');
                $('#signupText').text('Applications now open! Create an account to find out how to apply for our scholarships!');
            } else if (_SelectedSignInType === 'ScholarshipClosed') {
                $('#signupHeader').text('Win a £6,000 PhD Scholarship!');
                $('#signupText').text('Create an account to be the first to hear about how to apply for our scholarship competition');
            } else if (_SelectedSignInType === 'Newsletter') {
                $('#signupHeader').text('Sign up for the FindAPhD newsletter');
                $('#signupText').text('Receive information on funding, the latest PhD opportunities and application advice.');
            } else if (_SelectedSignInType === 'Basic') {
                $('#signupHeader').text('Sign in or create an account');
                $('#signupText').text('View all your saved PhDs and enquiries within your account.');
            } else if (_SelectedSignInType === 'EventClosed') {
                $('#signupHeader').text('Register for event reminders');
                $('#signupText').text('Be the first to hear when registrations open for this event');
            } else if (_SelectedSignInType === 'Event') {
                $('#signupHeader').text('Register for your free event ticket');
                $('#signupText').text('Sign in or create an account to get your free event ticket.');
            } else if (_SelectedSignInType === 'Shortlist') {
                $('#signupHeader').text('Save this PhD');
                $('#signupText').text('Sign in or create an account to view your saved PhDs across all of your devices.');
            } else {
                $('#signupHeader').text('Receive the FindAMasters newsletter');
                $('#signupText').text('Sign up for a FindAMasters account to receive our Masters newsletter');
            }
		}
	}


    $(document).ready(function () {
        var providerName = "";

		if (providerName != "") {
			var firstName = "";
			var isFbLoginFlag = "";
			var isSignupComplete = "true";
			if (providerName.toLowerCase() == "facebook") {
				isFbLoginFlag = GetParameterValue('fb_login');
			}

            var signupStatus = "False"
            if (signupStatus.toLowerCase() === "true") {
                isSignupComplete = "true";
            }
            else {
                isSignupComplete = "part";
			}

			var shortlistItemsFromDb = "";
			if (isFbLoginFlag != "") {
				if ("False".toLowerCase() == "false") {
					isSignupComplete = "False";
                    _SelectedSignInType = "";
				}

				shortlistItemsFromDb = "";

				var shortlistIds = [];
				if (shortlistItemsFromDb.length > 0) {
					shortlistIds = shortlistItemsFromDb.split(','); //user logs in with facebook and gets shortlist strings from db
				}

				var initiatingShortlistId = fau.cookies.read("shortlistLoginClick");
				if (initiatingShortlistId != undefined && initiatingShortlistId != "") {
					if (!shortlistIds.includes(initiatingShortlistId)) {
                        fau.shortlist.add(initiatingShortlistId);// adds the shortlist id icon clicked when bringing up the login dialog
						shortlistIds.push(initiatingShortlistId); // adds clicked heart to shortlist items to be set for page
						fau.cookies.remove('shortlistLoginClick');
					}
				}
                if (shortlistIds != undefined && shortlistIds != "") {// only turn off the events if there is any selected heart elements to wireup
                    $(".shortlist-toggle").each(function () { // remove wireupToggle clicks from the body.inc page
                        $(this).unbind('click');
                    });
                }

				UpdateShortlistsAfterLogin(shortlistIds); // sets up shortlist items
			} else {
                shortlistIds = GetShortlistIdsFromLocal(0) //user gets shortlist strings on page load from local storage            
			}

            setLoggedInControls("", firstName, "", "", "", isSignupComplete, "0", shortlistIds, "True", "", false, "");
        }
		else {
			var fbLoginError = GetParameterValue('loginError');
			if (fbLoginError != "") {

				$('#providerModal').html($('#providerModalLogin').html());
				$('#providerModal').modal('show');
                $('iframe.register-iframe').iFrameResize(); fau.signup_win.toggleSignupArea();
                $('.login-modal__message--facebook-email').removeClass('hide');
				//var errMessage = decodeURI(fbLoginError).split("#");
				////add bootstrap alert
				//var createAlertElem = document.createElement('div')
				//createAlertElem.className = "alert alert-warning alert-dismissible fade show";
				//createAlertElem.setAttribute("role", "alert");

				//var createAlertBtn = document.createElement('button');
    //            createAlertBtn.className = "close";
    //            createAlertBtn.setAttribute("data-dismiss", "alert");
				//createAlertBtn.setAttribute("aria-label", "Close");

				//var createAlertSpan = document.createElement('span');
				//createAlertSpan.setAttribute("aria-hidden", "true");
				//createAlertSpan.innerHTML = "&times";

				//createAlertElem.innerHTML = errMessage[0];
				//createAlertElem.appendChild(createAlertBtn);
				//createAlertBtn.appendChild(createAlertSpan);
				//document.getElementById('header').appendChild(createAlertElem);

				//removes login error param from page url - shouldn't be any other params apart from LoginError
                window.history.pushState({}, document.title, "/");
               // alert(errMessage[0]);
			}
		}
	});

</script>
<meta charset="utf-8" />
<div id="signupOptionModal" data-keyboard="false" data-backdrop="static" class="modal modal-signup fade modal-popup modal-version-1 login-modal" role="dialog">
<div class="modal-dialog login-modal__dialog">
<div class="modal-content login-modal__content">
<div class="modal-body p-4">
<div class="full-reveal">
<div class="signup-holder tight">
<div class="col-sm-24 signup-form tight register-success">
<div id="signupCompleteGoogle" class="register-success__google register-success__news">
<div class="register-success__header" id="googleWelcomeMessage"></div>
<p class="sign-up-version-1 registerText register-success__text">You haven’t completed your profile yet. To get the most out of FindAMasters, finish your profile and receive these benefits:</p>
<p>
<ul class="small">
<li>Monthly chance to win one of ten <strong style="color:#339933;">£10 Amazon vouchers</strong>; winners will be notified every month.*</li>
<li>Access to our <strong style="color:#339933;">£6,000</strong> scholarship competition</li>
<li><strong style="color:#339933;">Weekly newsletter</strong> with funding opportunities, application tips and much more</li>
<li>Early access to our physical and virtual <strong style="color:#339933;">postgraduate study fairs</strong></li>
</ul>
</p>
<button onclick="ShowReloadPopupSigninForm()" class="btn btn-success btn-block registerElement menuSignupBtn login-modal__button login-modal__button--main">Complete your profile</button>
<p class="signupText my-3 registerElement"><a class="text-gray-500" href="#" onclick="$('#signupOptionModal').modal('hide');">Or begin browsing FindAMasters.com</a></p></div>
<div id="signupCompleteFacebook" class="register-success__facebook register-success__news">
<div class="register-success__header" id="facebookWelcomeMessage"></div>
<p class="sign-up-version-1 registerText register-success__text">You haven’t completed your profile yet. To get the most out of FindAMasters, finish your profile and receive these benefits:</p>
<p>
<ul class="small">
<li>Monthly chance to win one of ten <strong style="color:#339933;">£10 Amazon vouchers</strong>; winners will be notified every month.*</li>
<li>Access to our <strong style="color:#339933;">£6,000</strong> scholarship competition</li>
<li><strong style="color:#339933;">Weekly newsletter</strong> with funding opportunities, application tips and much more</li>
<li>Early access to our physical and virtual <strong style="color:#339933;">postgraduate study fairs</strong></li>
</ul>
</p>
<button onclick="ShowReloadPopupSigninForm()" class="btn btn-success btn-block registerElement menuSignupBtn login-modal__button login-modal__button--main">Complete your profile</button>

<p class="signupText my-3 registerElement"><a class="text-gray-500" href="#" onclick="$('#signupOptionModal').modal('hide');">or begin browsing FindAMasters.com</a></p>
</div>
<div id="signupCompleteFau" class="register-success__fau register-success__news">
<div class="register-success__header" id="fauWelcomeMessage"></div>
<p class="sign-up-version-1 registerText register-success__text">You haven’t completed your profile yet. To get the most out of FindAMasters, finish your profile and receive these benefits:</p>
<p>
<ul class="small">
<li>Monthly chance to win one of ten <strong style="color:#339933;">£10 Amazon vouchers</strong>; winners will be notified every month.*</li>
<li>Access to our <strong style="color:#339933;">£6,000</strong> scholarship competition</li>
<li><strong style="color:#339933;">Weekly newsletter</strong> with funding opportunities, application tips and much more</li>
<li>Early access to our physical and virtual <strong style="color:#339933;">postgraduate study fairs</strong></li>
</ul>
</p>

<button onclick="ShowReloadPopupSigninForm()" class="btn btn-success btn-block registerElement menuSignupBtn login-modal__button login-modal__button--main">Complete your profile</button>
<p class="signupText my-3 registerElement"><a class="text-gray-500" href="#" onclick="$('#signupOptionModal').modal('hide');">or begin browsing FindAMasters.com</a></p>
</div>
<p style="color:gray;font-size:10px;">*Offer only available for the duration of your active subscription, and subject to change. You MUST claim your prize within 72 hours, if not we will redraw.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="signupFormModal" data-keyboard="false" data-backdrop="static" class="modal modal-signup fade modal-popup modal-version-1 signup-popup" role="dialog">
<div class="modal-dialog">
<div class="modal-content signup-popup__content">
<div class="modal-body p-0">
<div id="simpleIframeHolderDiv" style="position:relative; height: 100%;">
<div id="simplePopupSignupCover"></div>
</div>
</div>
</div>
</div>
</div>
<div id="signupTypeConfirmationModal" data-keyboard="false" data-backdrop="static" class="modal modal-signup fade modal-popup modal-version-1 signup-popup" role="dialog">
<div class="modal-dialog">
<div class="modal-content signup-popup__content">
<div class="modal-body p-0">
<script>
					    $(document).ready(function () {
							$("#signupTypeConfirmationModal").on("shown.bs.modal", function () {
    							$(this).find('iframe').attr('src','/ProviderSignupConfirmation.aspx')
							});
						});
                    </script>
<iframe data-cy="signup" class="signup-confirm-iframe" title="SignupConfirmationProvider" style="width: 100%; border: 0;" frameBorder="0"></iframe>
</div>
</div>
</div>
</div>

<script src="/common/js/signup-check.js?v=1.5" type="text/javascript"></script>
<div id="providerModal" data-keyboard="false" data-backdrop="static" class="modal modal-signup fade modal-popup" role="dialog"></div>
<div id="providerModalLogin" data-keyboard="false" data-backdrop="static" class="modal modal-signup fade modal-popup login-modal" role="dialog">
<div class="modal-dialog login-modal__dialog">
<div class="modal-content login-modal__content">
<div class="modal-header p-0 border-0" style="z-index: 3;">
<button onclick="fau.signup_win.closeSignupModal();" style="z-index:2; top: 0; right: 5px; outline: none;" type="button" class="border-0 bg-gray-300 small rounded-pill text-gray-600 position-absolute d-none d-lg-block mt-2 px-2 py-1" data-dismiss="modal" aria-label="Close">
<i class="fa-regular fa-xmark fa-lg"></i>
</button>
</div>
<div id="loggedInCover"></div>
<div class="modal-body login-modal__body">
<div class="full-reveal">
<button type="button" class="close modal-close-version-1 login-modal__close" onclick="$('#providerModal').modal('hide');">&times;</button>
<div class="signup-holder tight">
<div class="col-sm-24 signup-form tight">
<div class="login-signup-area">
<div class="toggle-section-content">
<div class="signup-text toggle-section-text">
<div class="p-4 row mx-0" id="signupIntro">
<div class="col-10 signup-intro__news--image mb-n4 pl-0" style="display: none; align-self: flex-end; bottom: 0;">
<img class="img-fluid" itemprop="image" src="https://fau-res.cloudinary.com/image/upload/common/bespoke-pages/custom-pages/bpid6458/img2020114135.png" alt title loading="lazy" style="max-height: 580px; margin: 0px;"></div>
<div class="col-24 p-0">
<div class="signup-intro__news--content" style="display: none;">
<h3>Do you want hassle-free information and advice?</h3>
<p>Create your FindAMasters account and sign up to our newsletter:</p>
<ul class="small ml-n4 ml-md-0">
<li>Find out about funding opportunities and application tips</li>
<li>Receive weekly advice, student stories and the latest Masters news</li>
<li>Hear about our upcoming study fairs</li>
<li>Save your favourite programmes, track enquiries and get personalised subject updates</li>
</ul>
</div>
<h3 id="signupHeader" class="text-center"></h3>
<p id="signupText" class="text-muted text-center small"></p>
<div class=" login-modal__message small small login-modal__message--warning login-modal__message--facebook-email col-24 hide" id="emailExistsError" style>
<i class="fa-regular fa-circle-exclamation fa-2x pr-3" aria-hidden="true"></i>
<span>Due to your Facebook privacy settings, we were unable to create your account at this time. Please select another method to sign up.</span>
</div>
<div class="row">
<div class="col-24 m-0 form-group float-container">
<div id="iframeRegistrationFormDiv">
<script>
                                                        iFrameResize({ log: true }, '#iframeRegistrationFormDiv iframe')
													</script>
<iframe data-cy="registerIframe" name="register-iframe" id="register-iframe" class="register-iframe" src="/ProviderRegistrationFau.aspx" title="FauRegistrationForm" style="width: 100%; border: 0;" frameBorder="0"></iframe>
</div>
</div>
</div>
<script>
                                                $(document).ready(function () {
                                                    $('.float-container input, .float-container textarea, .float-container select').focus(function () {
                                                        $(this).parent().addClass('float-container__active');
                                                    }).blur(function () {
                                                        if ($(this).val().length === 0) {
                                                            $(this).parent().removeClass('float-container__active');
                                                        }
                                                    });
                                                });
                                            </script>
<div style="display: none;" class="google-login-fail login-modal__message--warning login-modal__message small col-24">
<i class="fa-regular fa-2x fa-circle-exclamation pr-3"></i>
<span>We were unable to log you in with your Google account at this time. If you have third-party cookies blocked, please enable them, refresh, and try again.</span></div>
<div class="row text-center">
<div class="col-24 mb-2">
<p class="text-muted" style="text-align: center; border-bottom: 1px solid #cccccc; line-height: 0.1em; margin: 10px 0 20px;"><span style="background: #f6f6f6; padding: 0 20px;">or</span></p>
</div>
</div>
<div class="row mx-0 provider-btn__outer mx-n3 pt-0">
<div class="providerBtnDiv login-modal__button--outer col-24">
<div data-cy="facebook-login-btn" onclick="facebookLogin('modal', '', registerSourceId);return false;" class="customProviderBtn btn btn-outline-dark border-gray-300 mb-3 btn-block providerElemButtonText fbElemIcon login-modal__button login-modal__button--social login-modal__button--social-facebook btn-white rounded-pill"><img src="https://fau-res.cloudinary.com/image/upload/common/images/login-facebook.png" class="img-fluid" /> Continue with Facebook</div>
</div>
<div class="providerBtnDiv login-modal__button--outer col-24">
<script>		
														$("#googleBtn").on("click", function () {
                                                            GooglePostData.googleClientRequest('modal', '', registerSourceId);
														});
                                                    </script>
<button data-cy="google-login-btn" id="googleBtn" class="customProviderBtn btn btn-outline-dark btn-block mb-3 providerElemButtonText googleElemIcon border-gray-300 login-modal__button login-modal__button--social login-modal__button--social-google btn-white rounded-pill"><img src="https://fau-res.cloudinary.com/image/upload/common/images/login-google.png" class="img-fluid" />Continue with Google</button>
</div>
</div>
</div>
</div>
<div id="signupForm" style="display: none;">
<div id="aBackToRegistrationHolder">
</div>
<h3 class="pbp-0 pt-4 pl-4 pr-4">Create your account</h3>
</div>
</div>
<div class="login-text toggle-section-text d-none">
<div id="loginForm">
<div id="iframeLoginFormDiv">
<iframe data-cy="loginIframe" scrolling="no" class="fau-login-iframe" style="width: 100%; border: 0; height:300px;" src="/ProviderLoginFau.aspx" title="FauLoginForm" frameBorder="0"></iframe>
</div>

</div>
<div class="login-modal__bottom px-4 pb-4">
<div style="display: none;" class="google-login-fail login-modal__message--warning login-modal__message small col-24">
<i class="fa-regular fa-2x fa-circle-exclamation pr-3"></i>
<span>We were unable to log you in with your Google account at this time. If you have third-party cookies blocked, please enable them, refresh, and try again.</span></div>
</div>
</div>
<div class="providers-login w-100 py-3 small text-gray-500 text-center px-3 d-none">
<p class="mas">Looking to list your Masters programmes? <a target="_blank" href="https://admin.findauniversity.com/#/login">Log in here</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<button onclick="fau.signup_win.closeSignupModal();" class="btn btn-inline text-gray-500 position-absolute d-block d-lg-none w-100 text-center" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">close</span>
</button>
</div>
</div>
</div>
</div>
<div id="g_id_onload" data-client_id="1092540408538-jhj1rse6g2trm8ecrqf81g9h88l13vgc.apps.googleusercontent.com" data-callback="oneTapGoogleLogin" data-prompt_parent_id="g_id_onload" style="z-index: 9999999;position: fixed;height:183px;top:14px;right:20px;">
</div>
<script>
        // hide the Google popup on the providers pages
        if (window.location.pathname != undefined && window.location.pathname != "" && window.location.pathname.toLowerCase().startsWith("/providers")) {
            $("#g_id_onload").hide();
        }

        $(document).scroll(function (e) {
            $("#g_id_onload").hide();
		});

		$("#providerModal").on("hidden.bs.modal", function () { // reset signup type on modal close
			//alert("closed");
			//_SelectedSignInType = 'Basic';
            //alert(_SelectedSignInType);
        });
    </script>

<script src="/common/js/signup-check.js?v=1.8" type="text/javascript"></script>
<div id="signupModalLogin" data-keyboard="false" data-backdrop="static" class="modal modal-signup fade modal-popup" role="dialog">
<div class="modal-dialog login-modal">
<div class="modal-content">
<div class="modal-body">
<div class="full-reveal row m-0">
<div class="col-md-12 tight why-signup d-none d-md-block">
<img class="standard-modal-image img-fluid d-none d-md-block" loading="lazy" src="https://fau-res.cloudinary.com/image/upload/c_scale,w_400/v1625478599/mas/modal-image.jpg" alt="Modal image">
<img class="standard-modal-image img-fluid d-block d-md-none" loading="lazy" src="https://fau-res.cloudinary.com/image/upload/c_scale,w_500/v1625478599/mas/modal-image.jpg" alt="Modal image">
<div class="col-xs-24 why-signup-inner hidden-xs">
<h3 class="hidden-xs">Let us help you find a Masters</h3>
<p><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Never miss a course</p>
<p><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Enter our ambassador competition</p>
<p><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Get funding news, tips and advice</p>
<p><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Hear about upcoming events</p>
</div>
</div>
<div class="signup-holder p-0 col-md-12">
<div class="row toggle-section-options mx-0">
<a onclick="fau.signup_win.toggleSignupArea()" class="col-12 toggle-link text-center active-link">Sign Up</a>
<a onclick="fau.signup_win.toggleLoginArea()" class="col-12 toggle-link text-center">Log In</a>
</div>
<div class="d-block d-md-none">
<img loading="lazy" class="standard-modal-image img-fluid d-block d-md-none" src="https://fau-res.cloudinary.com/image/upload/c_scale,w_500/v1625478599/mas/modal-image.jpg" alt="Modal image">
</div>
<div class="col signup-form">
<div class="login-signup-area">
<div class="toggle-section-content">
<div class="signup-text toggle-section-text">
<h3>Sign up to our newsletter today</h3>
<p>We've been helping students find the right postgraduate course for over a decade.</p>
</div>
<div class="login-text toggle-section-text hidden">
<h3>Login to your account</h3>
<p>Enter your username below to login to your account.</p>
</div>
</div>
<div class="form-group col-md-20">
<input id="txtEmailAddress_Login" onchange="trimmer_Login(this);" type="email" onkeyup="validateToggle_Login(this, (validateEmail_Login(this.value)));return keyDownListener(this,event);" class="form-control input-lg email-input-box" maxlength="80" placeholder="Email address">
<input id="txtPassword_Login" class="form-control hide" maxlength="20" value type="password">
<input id="txtSourceId_Login" class="form-control" maxlength="6" value="549" type="hidden">
<input id="txtShowFailedLogins_Login" class="form-control" maxlength="6" value="False" type="hidden">
</div>
<button onclick="submitNow_Login(this);return false;" class="submitEmail_Login btn btn-primary btn-signup">Continue</button>
</div>
</div>
<div class="col-xs-24 guest-continue">
<a onclick="fau.signup_win.hideSignup()">or continue as guest</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="d-flex justify-content-center align-items-center position-fixed" style="bottom: 0; width: 100%; opacity: 1; z-index: 999999;">
<div id="loginToast" class="toast my-3 bg-gray-800 text-white fade border shadow-lg" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-delay="5000" style="opacity: 1;">
<div class="toast-body position-relative p-4">
<button type="button" style="position: absolute; top: 5px; right: 8px;" class="close" data-dismiss="toast" aria-label="Close">
<span class="text-gray-500" style="text-shadow: none !important;" aria-hidden="true">&times;</span>
</button>
<p class="mb-0 text-center"><i class="text-light-green mr-2 fa-lg" id="loginToastIcon"></i><span id="loginToastText"></span></p>
</div>
</div>
</div>
<script defer src="https://kit.fontawesome.com/c98210b224.js" crossorigin="anonymous"></script>
<script src="/js/vendors/cloudinary/cloudinary-core-shrinkwrap.min.js" crossorigin="anonymous"></script>
<script type="text/javascript">
my_breakpoints = function (width){
      return 25 * Math.ceil(width / 25);
    };
    var cl = cloudinary.Cloudinary.new({cloud_name: "fau"})
    cl.config({breakpoints:my_breakpoints, responsive_use_breakpoints:"resize"})
    $(document).ready(function(){
          cl.responsive();
    });
    $(window).on("load", function(){
          cl.responsive();
    });

</script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/v84a3a4012de94ce1a686ba8c167c359c1696973893317" integrity="sha512-euoFGowhlaLqXsPWQ48qSkBSCFs3DPRyiwVu3FjR96cMPx+Fr+gpWRhIafcHwqwCqWS42RZhIudOvEI+Ckf6MA==" data-cf-beacon='{"rayId":"825b5a4f18dc0e83","b":1,"version":"2023.10.0","token":"110e19a3aef14d8eb7fd8a26c8a127fd"}' crossorigin="anonymous"></script>
</body>
</html>
<script type="text/javascript">

    //AdGlare Conversion Tracking for external links 
        if ("".length > 0) {
        $("a[onclick*='DataLayerRefExternalFull' i]").on("click", function (event) {
            var aLink = $(this);
            // prevent click from completing
            event.preventDefault();

            // console.log("EXTERNAL LINK");

            //record conversion
            navigator.sendBeacon("https://engine.findamasters.com/conv?cdbtvxeh&agcid=&conv_value=0.00");

            // redirect to original url 
            if (aLink.attr("target") != undefined && aLink.attr("target") != false && aLink.attr("target") == "_blank") {
                window.open(aLink.attr('href'), "_blank");
            } else {
                window.location = aLink.attr('href');
            }
        });
      }

    var objPerm = [{"date":null,"location":{"continent":null,"country":{"name":"United Kingdom","isocode":null},"city":{"name":"Exeter"},"cityRegion":null,"distance":null},"discipline":{"names":["Geography","Mathematics","Biological Sciences"],"ids":[17,25,4]},"event":null,"user":null,"category":{"previousType":null,"type":"CourseDetails"},"study":{"terms":["September"],"types":["Full Time","On Campus"]},"page":{"jumpLink":null,"hopCount":null,"name":null,"id":"64503"},"programme":{"types":["MSc"]},"subject":{"names":["Environmental Geography","Applied Mathematics","Mathematical Modelling","Computational Mathematics","Ecology - Biodiversity","Ecology - Conservation","Ecology"],"ids":[1701,2502,2505,2507,411,414,410]},"institution":{"primary":{"dept":{"name":"Mathematics and Statistics","id":8985},"name":"University of Exeter","id":302}},"search":null,"interaction":null,"labels":null,"association":{"instprofile":true,"openday":true,"scholarship":true,"studentprofile":false,"talktostudent":false,"video":true}}];
    var objString = JSON.stringify(objPerm);

    var sI = setInterval(function () {
        if (typeof (PermutiveInsights) !== 'undefined') {
            PermutiveInsights.pageLoadEvent(JSON.parse(objString), "masters-degrees.aspx");
            clearInterval(sI);
        }
    }, 500);

</script>
